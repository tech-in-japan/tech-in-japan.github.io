<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧖 🌰 👨‍❤️‍💋‍👨 早くやってみましょう：DialogflowとVoximplantの音声ボット 🕴🏼 🖐🏻 👧🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="音声ボットは、顧客と通信するための便利な機能であり、これからも変わりません。 何かを自動化できる場合は、緊急に行う必要があるためです。 注文と注文に関する情報の確認、顧客からのフィードバックの記録、音声認識と認識された内容に応じたアクションなど ちなみに、後者については-2018年に認識のあるボット...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>早くやってみましょう：DialogflowとVoximplantの音声ボット</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/348720/"> 音声ボットは、顧客と通信するための便利な機能であり、これからも変わりません。 何かを自動化できる場合は、緊急に行う必要があるためです。 注文と注文に関する情報の確認、顧客からのフィードバックの記録、音声認識と認識された内容に応じたアクションなど ちなみに、後者については-2018年に認識のあるボットを作成するのがさらに簡単になりました：Voximplantは音声の認識と転写に非常に優れており、Good CorporationのDialogflowツールはテキストをよく分析します。 以下に、指定された都市の天気を伝えるデモボットをすばやく収集する方法を示します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/vm/td/3c/vmtd3ct33qhx8cdbcxggasgnhyg.png"></div>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  「デモ」ボットはなぜですか？ </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     原理だから。 この記事では、Dialogflow + Voximplantでボット<b>を</b>作成する<b>原理を</b>示します。 したがって、たとえば、ボットとの対話は簡単になります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>ボット：</b> -こんにちは、Habrauser！ モスクワや他の都市の天気はどうですか。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Habrauser：</b> -ロンドンの天気はどうですか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>ボット：</b> -今日ロンドンの街で-曇り。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Voximplantを使用すると、電話番号を借りたり、音声を認識して文字起こししたり、Dialogflowやopenweathermap.orgサービスとやり取りしたりできます。 ユーザーの応答から書き起こされた文字列をDialogflowに送信します。その後、NLP（Natural Language Processing）がJSONに返されます。JSONには主格の都市名が含まれます。  openweathermap.orgに都市の名前を付けます。openweathermap.orgは、その都市の天気がどのようなものかを教えてくれます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> シークレットエージェントNLPを作成する </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Dialogflowは、Googleが所有する強力なNLPサービスです。 このサービスは無料ですが、使用するにはGoogleアカウントが必要です。  <a href="https://dialogflow.com/">https://dialogflow.com/にアクセス</a>して登録します。 サービスは「エージェント」の概念を使用します-実際、エージェントはボットです。 デフォルトでは、新しいアカウントにはエージェントがありません。 サービスには事前構築エージェントがありますが、すぐに追加することはできません。 したがって、インストール済みのエージェントにアクセスするためだけに新しいエージェントを作成します。 松葉杖のように聞こえますが、信じてください、これです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/vb/vc/ki/vbvckigo2fr9axc2vosrlsdh7ca.jpeg"></div>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     エージェントの名前を入力します。他のパラメーターはデフォルトで残すことができます。  Googleプロジェクトフィールドは、Firebaseのプロジェクトを意味します（Firebaseプロジェクトがない場合は、新しいプロジェクトが作成されます）。  [作成]をクリックしてDialogflowコンソールに入ります。これはサービスのメイン画面の名前です。 左側には垂直メニューがあり、[エージェントの事前構築]をクリックし、天気エージェントを見つけて[インポート]をクリックします。 完了しました。アカ​​ウントに天気エージェントが追加されました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     デフォルトでは、エージェントは英語のみをサポートしているため、エージェントを編集に使用します（同時に必要に応じて名前を変更できます）。[言語]タブに移動し、ロシア語を追加して[保存]をクリックします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     現在、エージェントは言語を選択できます。 悲しいかな、エージェントはロシア語で「箱から出して」通信する方法を知りませんが、何も教えません。  「ru」をクリックしてロシア語をアクティブにし、「Intents」で失敗します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/8m/b4/dj/8mb4djt_rlt3ng43xjcw1_8uqtc.png"></div>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     表示されるインテントリストで、一番上の天気を選択します。 新しい画面には、ユーザーのセクションが表示されます。ユーザーのレプリカがあるはずです。バリエーションが多いほど良いです。 今のところ、「モスクワの天気はどうですか」というフレーズで管理します。 入力すると、Dialogflowはほぼ即座に都市名を強調表示し、返されたJSONで対応を割り当てます！ 必ずコードでこれを使用してください。 また、この画面では、コンテキスト/会話トピックの名前-天気を見ることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/webt/jh/iy/gj/jhiygjngvrlpy7jqk3g1tzfyfce.png"></div>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、エージェントの動作をDialogflowサービス（右上隅、今すぐ試す）で確認するか、cURLを介してリクエストを行うことができます。 ドキュメントを少なくするために、ここでcURLと返されたJSONの例を見ることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     リクエスト： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">curl <span class="hljs-string"><span class="hljs-string">'https://api.dialogflow.com/v1/query?v=20170712&amp;query=%D0%BA%D0%B0%D0%BA%D0%B0%D1%8F%20%D0%BF%D0%BE%D0%B3%D0%BE%D0%B4%D0%B0%20%D0%B2%20%D0%9C%D0%BE%D1%81%D0%BA%D0%B2%D0%B5%3F&amp;lang=ru&amp;sessionId=e2c9fe05-6219-4317-ae96-2dbb6a429df4&amp;timezone=Europe/Moscow'</span></span> -H <span class="hljs-string"><span class="hljs-string">'Authorization:Bearer d146627e5ef843fc9757028t410faa80'</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     クエリテキストはURIエンコードする必要があり、ヘッダーでキーを渡す必要があることに注意してください（キーはエージェント設定で見つけることができます）。 コンテキストがリクエストで指定されている場合、コンテキストを「ミックス」しないように、後続のすべてのリクエストに一意のセッション番号を設定することをお勧めします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     リクエストへの応答： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">ダイアログフロー応答</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/bfc9de1d3c50f31653dc27f9825efaa5.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-123720f37c57ce9a8f29de081c38ed61.css"><div id="gist86670755" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-dialogflow-response-json" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-json ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-dialogflow-response-json-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-dialogflow-response-json-LC1" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-dialogflow-response-json-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>bd0e979f-6c70-49f5-8f33-54a75b7f5a0d<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-dialogflow-response-json-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>timestamp<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2018-02-09T09:58:17.638Z<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-dialogflow-response-json-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>lang<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>ru<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-dialogflow-response-json-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>result<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-dialogflow-response-json-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>source<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>agent<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-dialogflow-response-json-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>resolvedQuery<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>   ?<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-dialogflow-response-json-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>action<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>weather<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-dialogflow-response-json-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>actionIncomplete<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-dialogflow-response-json-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-dialogflow-response-json-LC11" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>date-time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-dialogflow-response-json-LC12" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>geo-city<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-dialogflow-response-json-LC13" class="blob-code blob-code-inner js-file-line">    },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-dialogflow-response-json-LC14" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>contexts<span class="pl-pds">"</span></span>: [</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-dialogflow-response-json-LC15" class="blob-code blob-code-inner js-file-line">      {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-dialogflow-response-json-LC16" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>weather<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-dialogflow-response-json-LC17" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">"</span>parameters<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-dialogflow-response-json-LC18" class="blob-code blob-code-inner js-file-line">          <span class="pl-s"><span class="pl-pds">"</span>date-time.original<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-dialogflow-response-json-LC19" class="blob-code blob-code-inner js-file-line">          <span class="pl-s"><span class="pl-pds">"</span>geo-city<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-dialogflow-response-json-LC20" class="blob-code blob-code-inner js-file-line">          <span class="pl-s"><span class="pl-pds">"</span>date-time<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-dialogflow-response-json-LC21" class="blob-code blob-code-inner js-file-line">          <span class="pl-s"><span class="pl-pds">"</span>geo-city.original<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>?<span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-dialogflow-response-json-LC22" class="blob-code blob-code-inner js-file-line">        },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-dialogflow-response-json-LC23" class="blob-code blob-code-inner js-file-line">        <span class="pl-s"><span class="pl-pds">"</span>lifespan<span class="pl-pds">"</span></span>: <span class="pl-c1">2</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-dialogflow-response-json-LC24" class="blob-code blob-code-inner js-file-line">      }</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-dialogflow-response-json-LC25" class="blob-code blob-code-inner js-file-line">    ],</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-dialogflow-response-json-LC26" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>metadata<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-dialogflow-response-json-LC27" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>intentId<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>f1b75ecb-a35f-4a26-88fb-5a8049b92b02<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-dialogflow-response-json-LC28" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>webhookUsed<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-dialogflow-response-json-LC29" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>webhookForSlotFillingUsed<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>false<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-dialogflow-response-json-LC30" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>intentName<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>weather<span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-dialogflow-response-json-LC31" class="blob-code blob-code-inner js-file-line">    },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-dialogflow-response-json-LC32" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>fulfillment<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-dialogflow-response-json-LC33" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>speech<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-dialogflow-response-json-LC34" class="blob-code blob-code-inner js-file-line">      <span class="pl-s"><span class="pl-pds">"</span>messages<span class="pl-pds">"</span></span>: []</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-dialogflow-response-json-LC35" class="blob-code blob-code-inner js-file-line">    },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-dialogflow-response-json-LC36" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>score<span class="pl-pds">"</span></span>: <span class="pl-c1">1.0</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-dialogflow-response-json-LC37" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-dialogflow-response-json-LC38" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>status<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-dialogflow-response-json-LC39" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>code<span class="pl-pds">"</span></span>: <span class="pl-c1">200</span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-dialogflow-response-json-LC40" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>errorType<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>success<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-dialogflow-response-json-LC41" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>webhookTimedOut<span class="pl-pds">"</span></span>: <span class="pl-c1">false</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-dialogflow-response-json-LC42" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-dialogflow-response-json-LC43" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>sessionId<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>e2c9fe05-6219-4317-ae96-2dbb6a429df4<span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-response-json-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-dialogflow-response-json-LC44" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">dialogflow-response.json</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このリクエストは、クラウドシナリオから次のようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sessionId = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.floor(<span class="hljs-number"><span class="hljs-number">100000</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.random()); Net.httpRequest(<span class="hljs-string"><span class="hljs-string">"https://api.dialogflow.com/v1/query?v=20150910&amp;contexts=weather&amp;query="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURI</span></span>(userSpeech) + <span class="hljs-string"><span class="hljs-string">"&amp;lang=ru&amp;sessionId="</span></span> + sessionId() + <span class="hljs-string"><span class="hljs-string">"&amp;timezone=Europe/Moscow"</span></span>, (e) =&gt; { <span class="hljs-comment"><span class="hljs-comment">//   JSON    }, { headers: ["Authorization: bearer d146627e5ef843fc9757028t410faa80"]});</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> 天気を尋ねる </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     都市がわかったので、天気をリクエストできます。 私は非常にシンプルな<a href="https://openweathermap.org/">openweathermap.org</a> APIを使用しました。 登録してAPIキーを取得し、次の形式のリクエストを作成できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">curl <span class="hljs-string"><span class="hljs-string">'https://api.openweathermap.org/data/2.5/weather?q={CITY NAME}&amp;lang=ru&amp;appid={API_KEY}'</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     答えから、「曇り」/「曇り」/「小雪」など、説明フィールドから天気の最も単純な説明を取得します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">openweathermapレスポンス</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/6bb8491730b280bf40653d1385a6e934.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-123720f37c57ce9a8f29de081c38ed61.css"><div id="gist86670951" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-openweathermap-response-json" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-json ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-openweathermap-response-json-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-openweathermap-response-json-LC1" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-openweathermap-response-json-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>coord<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-openweathermap-response-json-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>lon<span class="pl-pds">"</span></span>: <span class="pl-c1">37.62</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-openweathermap-response-json-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>lat<span class="pl-pds">"</span></span>: <span class="pl-c1">55.75</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-openweathermap-response-json-LC5" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-openweathermap-response-json-LC6" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>weather<span class="pl-pds">"</span></span>: [{</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-openweathermap-response-json-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">600</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-openweathermap-response-json-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>main<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Snow<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-openweathermap-response-json-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span> <span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-openweathermap-response-json-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>icon<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>13d<span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-openweathermap-response-json-LC11" class="blob-code blob-code-inner js-file-line">  }],</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-openweathermap-response-json-LC12" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>base<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>stations<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-openweathermap-response-json-LC13" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>main<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-openweathermap-response-json-LC14" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>temp<span class="pl-pds">"</span></span>: <span class="pl-c1">266.65</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-openweathermap-response-json-LC15" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>pressure<span class="pl-pds">"</span></span>: <span class="pl-c1">1026</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-openweathermap-response-json-LC16" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>humidity<span class="pl-pds">"</span></span>: <span class="pl-c1">85</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-openweathermap-response-json-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>temp_min<span class="pl-pds">"</span></span>: <span class="pl-c1">266.15</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-openweathermap-response-json-LC18" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>temp_max<span class="pl-pds">"</span></span>: <span class="pl-c1">267.15</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-openweathermap-response-json-LC19" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-openweathermap-response-json-LC20" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>visibility<span class="pl-pds">"</span></span>: <span class="pl-c1">6000</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-openweathermap-response-json-LC21" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>wind<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-openweathermap-response-json-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>speed<span class="pl-pds">"</span></span>: <span class="pl-c1">4</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-openweathermap-response-json-LC23" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>deg<span class="pl-pds">"</span></span>: <span class="pl-c1">130</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-openweathermap-response-json-LC24" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-openweathermap-response-json-LC25" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>clouds<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-openweathermap-response-json-LC26" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>all<span class="pl-pds">"</span></span>: <span class="pl-c1">90</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-openweathermap-response-json-LC27" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-openweathermap-response-json-LC28" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>dt<span class="pl-pds">"</span></span>: <span class="pl-c1">1518168600</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-openweathermap-response-json-LC29" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>sys<span class="pl-pds">"</span></span>: {</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-openweathermap-response-json-LC30" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>: <span class="pl-c1">1</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-openweathermap-response-json-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">7325</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-openweathermap-response-json-LC32" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>: <span class="pl-c1">0.0263</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-openweathermap-response-json-LC33" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>country<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>RU<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-openweathermap-response-json-LC34" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>sunrise<span class="pl-pds">"</span></span>: <span class="pl-c1">1518152808</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-openweathermap-response-json-LC35" class="blob-code blob-code-inner js-file-line">    <span class="pl-s"><span class="pl-pds">"</span>sunset<span class="pl-pds">"</span></span>: <span class="pl-c1">1518186090</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-openweathermap-response-json-LC36" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-openweathermap-response-json-LC37" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>: <span class="pl-c1">524901</span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-openweathermap-response-json-LC38" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Moscow<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-openweathermap-response-json-LC39" class="blob-code blob-code-inner js-file-line">  <span class="pl-s"><span class="pl-pds">"</span>cod<span class="pl-pds">"</span></span>: <span class="pl-c1">200</span></td>
      </tr>
      <tr>
        <td id="file-openweathermap-response-json-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-openweathermap-response-json-LC40" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">openweathermap-response.json</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     天気がわかれば、この情報を呼び出しに統合できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> すべて一緒に今..！ </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらのすべてのステップをJavascriptスクリプトに反映するときが来ました。 それで、私たちは何をしたいのですか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> ユーザーはレンタル番号に電話をかけます。 </li><li> ユーザーは「Hello、Habrauser！ モスクワや他の都市の天気はどうですか。」 </li><li>  「{CITY NAME}の天気はどうですか」と尋ねられた場合、クラウドはリクエストを認識し、Dialogflowの結果の行でリクエストを行います。 </li><li> 回答を受け取った後、応答にテーマ天気の存在と、回答が都市であるかどうかを確認します。 何かがうまくいかなかった場合、ロボットはそれについて話し、再び天気について質問するように求めます。 </li><li>  Dialogflowからの回答に都市がある場合、クラウドはopenweathermap.orgに変わり、この都市をリクエストに置き換えます。 </li><li> 天気に関する応答を受け取った後、ユーザーに「今日の街{都市名}-曇り/曇り/小雪」を告げて電話を切ります。 </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次のコードはこのロジックを提供します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Voximplant JSシナリオ</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/82a482be56558a643093f7a6891c7de7.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-123720f37c57ce9a8f29de081c38ed61.css"><div id="gist86671293" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-dialogflow-bot-february2018-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-dialogflow-bot-february2018-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-dialogflow-bot-february2018-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">require</span>(<span class="pl-smi">Modules</span>.<span class="pl-c1">ASR</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-dialogflow-bot-february2018-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">let</span> mycall <span class="pl-k">=</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-dialogflow-bot-february2018-js-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-dialogflow-bot-february2018-js-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">CallAlerting</span>, (<span class="pl-smi">e</span>) <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-dialogflow-bot-february2018-js-LC5" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-dialogflow-bot-february2018-js-LC6" class="blob-code blob-code-inner js-file-line">  mycall <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">call</span>;</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-dialogflow-bot-february2018-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, handleCallConnected);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-dialogflow-bot-february2018-js-LC8" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-en">answer</span>();</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-dialogflow-bot-february2018-js-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-dialogflow-bot-february2018-js-LC10" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-dialogflow-bot-february2018-js-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-dialogflow-bot-february2018-js-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">handleCallConnected</span>() {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-dialogflow-bot-february2018-js-LC13" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-dialogflow-bot-february2018-js-LC14" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span>,  ! ,       .<span class="pl-pds">"</span></span>, <span class="pl-smi">Language</span>.<span class="pl-c1">RU_RUSSIAN_FEMALE</span>); </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-dialogflow-bot-february2018-js-LC15" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-dialogflow-bot-february2018-js-LC16" class="blob-code blob-code-inner js-file-line">  myasr <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">createASR</span>({</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-dialogflow-bot-february2018-js-LC17" class="blob-code blob-code-inner js-file-line">    lang<span class="pl-k">:</span> <span class="pl-smi">ASRLanguage</span>.<span class="pl-c1">RUSSIAN_RU</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-dialogflow-bot-february2018-js-LC18" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-dialogflow-bot-february2018-js-LC19" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-dialogflow-bot-february2018-js-LC20" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, <span class="pl-k">function</span> <span class="pl-en">onWelcomeFinished</span>() {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-dialogflow-bot-february2018-js-LC21" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">mycall</span>.<span class="pl-en">sendMediaTo</span>(myasr);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-dialogflow-bot-february2018-js-LC22" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">mycall</span>.<span class="pl-c1">removeEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, onWelcomeFinished);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-dialogflow-bot-february2018-js-LC23" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-dialogflow-bot-february2018-js-LC24" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-dialogflow-bot-february2018-js-LC25" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-smi">VoxEngine</span>.<span class="pl-smi">terminate</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-dialogflow-bot-february2018-js-LC26" class="blob-code blob-code-inner js-file-line">  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-dialogflow-bot-february2018-js-LC27" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">myasr</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">ASREvents</span>.<span class="pl-smi">Result</span>, (<span class="pl-smi">e</span>) <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-dialogflow-bot-february2018-js-LC28" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-dialogflow-bot-february2018-js-LC29" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">recognitionEnded</span>();</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-dialogflow-bot-february2018-js-LC30" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-c1">userSpeech</span> <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span>;</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-dialogflow-bot-february2018-js-LC31" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">const</span> <span class="pl-c1">sessionId</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> <span class="pl-c1">Math</span>.<span class="pl-c1">floor</span>(<span class="pl-c1">100000</span> <span class="pl-k">*</span> <span class="pl-c1">Math</span>.<span class="pl-c1">random</span>());</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-dialogflow-bot-february2018-js-LC32" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">Net</span>.<span class="pl-en">httpRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>https://api.dialogflow.com/v1/query?v=20150910&amp;contexts=weather&amp;query=<span class="pl-pds">"</span></span> <span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-dialogflow-bot-february2018-js-LC33" class="blob-code blob-code-inner js-file-line">                    <span class="pl-c1">encodeURI</span>(userSpeech) <span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-dialogflow-bot-february2018-js-LC34" class="blob-code blob-code-inner js-file-line">                    <span class="pl-s"><span class="pl-pds">"</span>&amp;lang=ru&amp;sessionId=<span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-en">sessionId</span>() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>&amp;timezone=Europe/Moscow<span class="pl-pds">"</span></span>, (<span class="pl-smi">e</span>) <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-dialogflow-bot-february2018-js-LC35" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">const</span> <span class="pl-c1">res</span> <span class="pl-k">=</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(<span class="pl-smi">e</span>.<span class="pl-c1">text</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-dialogflow-bot-february2018-js-LC36" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">res</span>.<span class="pl-smi">result</span> <span class="pl-k">||</span> <span class="pl-smi">res</span>.<span class="pl-smi">result</span>.<span class="pl-c1">action</span> <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">"</span>weather<span class="pl-pds">"</span></span>){</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-dialogflow-bot-february2018-js-LC37" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">mycall</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span>-   .    .<span class="pl-pds">"</span></span>, <span class="pl-smi">Language</span>.<span class="pl-c1">RU_RUSSIAN_FEMALE</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-dialogflow-bot-february2018-js-LC38" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, firstPlaybackFinished);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-dialogflow-bot-february2018-js-LC39" class="blob-code blob-code-inner js-file-line">      }</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-dialogflow-bot-february2018-js-LC40" class="blob-code blob-code-inner js-file-line">                      <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">res</span>.<span class="pl-smi">result</span>.<span class="pl-smi">parameters</span> <span class="pl-k">||</span> <span class="pl-k">!</span><span class="pl-smi">res</span>.<span class="pl-smi">result</span>.<span class="pl-smi">parameters</span>[<span class="pl-s"><span class="pl-pds">"</span>geo-city<span class="pl-pds">"</span></span>] ){</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-dialogflow-bot-february2018-js-LC41" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">mycall</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span>      .<span class="pl-pds">"</span></span>, <span class="pl-smi">Language</span>.<span class="pl-c1">RU_RUSSIAN_FEMALE</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-dialogflow-bot-february2018-js-LC42" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, firstPlaybackFinished);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-dialogflow-bot-february2018-js-LC43" class="blob-code blob-code-inner js-file-line">      }</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-dialogflow-bot-february2018-js-LC44" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">else</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-dialogflow-bot-february2018-js-LC45" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">const</span> <span class="pl-c1">city</span> <span class="pl-k">=</span> <span class="pl-smi">res</span>.<span class="pl-smi">result</span>.<span class="pl-smi">parameters</span>[<span class="pl-s"><span class="pl-pds">"</span>geo-city<span class="pl-pds">"</span></span>];</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-dialogflow-bot-february2018-js-LC46" class="blob-code blob-code-inner js-file-line">        <span class="pl-smi">Net</span>.<span class="pl-en">httpRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>https://api.openweathermap.org/data/2.5/weather?q=<span class="pl-pds">"</span></span> <span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-dialogflow-bot-february2018-js-LC47" class="blob-code blob-code-inner js-file-line">                        city <span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-dialogflow-bot-february2018-js-LC48" class="blob-code blob-code-inner js-file-line">                        <span class="pl-s"><span class="pl-pds">"</span>&amp;lang=ru&amp;appid=a9fa46a8d49e57dbb4ba2d60cb934782<span class="pl-pds">"</span></span>, (<span class="pl-smi">e</span>) <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-dialogflow-bot-february2018-js-LC49" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">const</span> <span class="pl-c1">weather</span> <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span>;</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-dialogflow-bot-february2018-js-LC50" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">const</span> <span class="pl-c1">weatherDescription</span> <span class="pl-k">=</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(weather);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-dialogflow-bot-february2018-js-LC51" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">mycall</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span>   <span class="pl-pds">"</span></span> <span class="pl-k">+</span> city <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> - <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-smi">weatherDescription</span>.<span class="pl-smi">weather</span>[<span class="pl-c1">0</span>].<span class="pl-c1">description</span>, <span class="pl-smi">Language</span>.<span class="pl-c1">RU_RUSSIAN_FEMALE</span>);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-dialogflow-bot-february2018-js-LC52" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">mycall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, () <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-dialogflow-bot-february2018-js-LC53" class="blob-code blob-code-inner js-file-line">              <span class="pl-smi">VoxEngine</span>.<span class="pl-c1">terminate</span>();</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-dialogflow-bot-february2018-js-LC54" class="blob-code blob-code-inner js-file-line">            });</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-dialogflow-bot-february2018-js-LC55" class="blob-code blob-code-inner js-file-line">          });</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-dialogflow-bot-february2018-js-LC56" class="blob-code blob-code-inner js-file-line">      }</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-dialogflow-bot-february2018-js-LC57" class="blob-code blob-code-inner js-file-line">    }, </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-dialogflow-bot-february2018-js-LC58" class="blob-code blob-code-inner js-file-line">    { headers<span class="pl-k">:</span> [<span class="pl-s"><span class="pl-pds">"</span>Authorization: bearer d546027e5ef843ec9757018e410f4a87<span class="pl-pds">"</span></span>]});</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-dialogflow-bot-february2018-js-LC59" class="blob-code blob-code-inner js-file-line">    </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-dialogflow-bot-february2018-js-LC60" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-dialogflow-bot-february2018-js-LC61" class="blob-code blob-code-inner js-file-line">}  </td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-dialogflow-bot-february2018-js-LC62" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-dialogflow-bot-february2018-js-LC63" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-dialogflow-bot-february2018-js-LC64" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">recognitionEnded</span>(){</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-dialogflow-bot-february2018-js-LC65" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">myasr</span>.<span class="pl-c1">stop</span>();</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-dialogflow-bot-february2018-js-LC66" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-dialogflow-bot-february2018-js-LC67" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-dialogflow-bot-february2018-js-LC68" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">firstPlaybackFinished</span>() {</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-dialogflow-bot-february2018-js-LC69" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">mycall</span>.<span class="pl-c1">removeEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">PlaybackFinished</span>, firstPlaybackFinished);</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-dialogflow-bot-february2018-js-LC70" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">handleCallConnected</span>();</td>
      </tr>
      <tr>
        <td id="file-dialogflow-bot-february2018-js-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-dialogflow-bot-february2018-js-LC71" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">dialogflow-bot-february2018.js</a>
        hosted with ❤ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Voximplantコントロールパネルで<a href="https://manage.voximplant.com/">「アプリケーション」を作成し</a> 、作成したスクリプトとレンタル番号を添付するだけです（詳細については、 <a href="https://voximplant.com/blog/step-by-step-call-center-tutorial-part-1">当社のWebサイトを</a>ご覧ください）。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J34871/index.html">「blo（y / y）yer」という言葉をどのように書く必要があると思いますか？</a></li>
<li><a href="../J348710/index.html">JavaParser Snortyコードは簡単です</a></li>
<li><a href="../J348712/index.html">「Social Architecture」という本の翻訳：オープンソースプロジェクトの商標</a></li>
<li><a href="../J348716/index.html">Habr（およびその他の人々の組織）の集合知能を数えます</a></li>
<li><a href="../J348718/index.html">JavaScript ES6-スプレッド文の構文（...）</a></li>
<li><a href="../J348724/index.html">20年間のオープンソースイニシアチブ</a></li>
<li><a href="../J348726/index.html">Linux Ubuntu 16.04上のPHP 7でIntl Extensionを更新する</a></li>
<li><a href="../J348728/index.html">Windows 95ユーザーインターフェイスの設計</a></li>
<li><a href="../J348732/index.html">あるMLM企業をハッキングした歴史</a></li>
<li><a href="../J348734/index.html">逆さまインタビュー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>