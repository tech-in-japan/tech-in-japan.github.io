<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤠 🕺 🛂 Teigha for Architecture：最初のプロジェクト 🧖🏼 👲🏽 👨🏿‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="AutoCAD Architecture：First project and Introduction to ACAの記事では、AutoCAD Architecture（ACA）とは何か、通常のAutoCADとの違い、実装するオブジェクトについて簡単に説明し、.NETプラグインから壁を操作する最も単...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>Teigha for Architecture：最初のプロジェクト</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/280284/">  <a href="https://habrahabr.ru/post/265617/">AutoCAD Architecture：First project</a> and <a href="https://habrahabr.ru/post/271571/">Introduction to ACAの</a>記事では、AutoCAD Architecture（ACA）とは何か、通常のAutoCADとの違い、実装するオブジェクトについて簡単に説明し、.NETプラグインから壁を操作する最も単純なケースを示しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事では、Teighaライブラリーについて説明します。これは、dwgファイルとACAオブジェクトを操作するための代替手段です。  ACAオブジェクトから家を作成し、dwgファイルに保存する小さな例を作成します。 次に、このファイルをAutoCAD Architectureで開き、これらのファイルが元のAutoCADと互換性があるかどうかを確認します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/570/815/d84/570815d8469d4a41957c21cdee48381d.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  AutoCADおよびObjectARXの代替 </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AutoCADおよびObjectARXに加えて、dwgおよびacadオブジェクトを操作するために、Open Design AllianceのTeighaという別のライブラリがあります。  dwg形式とAutoCADオブジェクトをプログラムで操作する場合、実際には、ObjectARXとTeighaの間のみを選択します。  dwgファイルを読み書きできるすべてのサードパーティコンポーネントとアプリケーションは、Teighaに基づいています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Teighaは、通常のAutoCADとACAなどの派生物の両方のオブジェクトの読み取り、書き込み、操作を可能にするライブラリのセットです。 このライブラリには、AutoCADオブジェクトを操作するための多くの補助メカニズムと、dwgデータベースをレンダリングするためのレンダリングデバイスも実装されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     以下は、ライブラリの機能に関するOpen Design Allianceの公式情報です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><ul><li> サポートされているDWG、DXF、およびBDXFファイル形式： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> バージョン2.5〜2014のファイルのサポートをお読みください。 </li><li> バージョン12〜2014のファイルのサポートを記述します。 </li></ul></li><li> サポートされているDGNファイル形式： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  V7およびV8 DGN（V8 XMおよびV8Iを含む）のサポートをお読みください。 </li><li>  V8 DGNのサポートを記述します。 </li><li>  V7からV8に変換します。 </li></ul></li><li> エンティティを選択できるGDI、OpenGL、またはDirectXを使用して、図面ファイルをレンダリングします。 </li><li> 破損した.dwgファイルを回復および修復します。 </li><li> 以下を含むプログラムでCADデータを編集および操作します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> エンティティをより単純なエンティティのセットに分解します。 </li><li> エンティティに変換を適用します。 </li><li> データベースオブジェクトの任意のプロパティを変更します。 </li><li> データベースオブジェクトを複製します。 </li><li> もっとたくさん。 </li></ul></li><li>  SVG、PDF、DWF、BMP、STL、DAE（Collda）にエクスポートします。 </li><li>  DWF / DAE / DGNファイルを.dwgデータベースにインポートします。 </li><li> カスタムオブジェクトのサポート-メンバーは、任意のTeighaホストアプリケーション内で使用可能なカスタムオブジェクトを作成できます（.dwgファイルとのみ互換性があります）。 </li><li> フォントファイル（TTF / SHX）、線種ファイル（LIN / RSC）、ハッチングパターンファイル（PAT）などの外部ファイルをサポートします。 </li><li> 寸法設定から寸法形状を再計算します。 </li><li>  .dwgファイルデータのトランザクションと元に戻す/やり直し機能をサポートします。 </li><li> 部分的な.dwgファイルの読み込み機能をサポートし、描画エンティティの小さなサブセットへの高速アクセスを可能にします（エンティティは、クライアントから明示的にアクセスされた場合のみディスクから読み込まれます）。 </li><li> メモリ管理をカスタマイズして、メンバーアプリケーションがメモリの割り当て/割り当て解除を制御できるようにします。 </li><li>  .dwgファイルの「往復」データをサポートします。 たとえば、2007 .dwgファイルをR14に保存し直すと、2007固有のプロパティはxdataとしてR14ファイルに保存され、ファイルが2007互換アプリケーションに再度ロードされると復元されます。 </li><li> 埋め込まれた3Dソリッドのレンダリング（ワイヤフレームおよびシェーディング）や、基礎となる境界表現データへのアクセスなど、ACIS / Parasolidデータを内部的にサポートします。 </li><li> カスタムコマンドを実装します。 </li><li> サンプルソースコードアプリケーション </li><li> サードパーティのコンポーネントと統合します。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般的に、「ライブラリは多くのことをサポートしています。」 まず、Teighaパッケージの標準サンプルを使用して、いくつかのdwg図面を読み込んで描画します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a29/2e7/546/a292e7546ae64870b521b9a535f3af65.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      OK、私たちが読んで描いたdwgファイル。 ただし、記事のタイトル画像に使用したdwgファイルのように。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この標準サンプルはウィンドウ化されたC ++アプリケーションであり、AutoCADなしでdwgファイルをダウンロード、表示、編集できます。 もう1つの重要な機能：AutoCAD APIとTeigha APIはほぼ同一であるため、既存のObjectARXプラグインをTeighaベースのアプリケーションで動作するように簡単に書き換えることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      BricsCAD、ZWCad、IntelliCADなど、AutoCADのほとんどのアナログは、Teighaを使用してdwg形式とacadオブジェクトを操作します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  AutoCAD Architectureオブジェクトの機能 </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     それでは、建築オブジェクトに移り、それらを操作しましょう。 これを行うには、要点を簡単に思い出してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AutoCAD Architectureは、建築設計用に設計された特別な高レベルオブジェクト（壁、ドア、窓、屋根、その他の構造部品）で動作します。 ビューポート依存オブジェクト、つまり カメラの方向に応じて異なる方法でレンダリングできます。 オブジェクトにはスタイルが割り当てられます。 スタイルを変更すると、このスタイルのすべてのオブジェクトが変更されます。 オブジェクトはコンポーネントで構成され、各コンポーネントには独自の視覚設定があります：色、線の種類、素材、スケール（たとえば、3Dのドアはフレーム、キャンバス、ガラスで構成されます）。 さまざまな表示オプションの場合、オブジェクトはさまざまなジオメトリを描画するため、コンポーネントの数と設定は表現ごとに異なります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Teigha for Architecture（TA）ライブラリ </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ACA自体およびプラグインを作成するためのオープンAPIに加えて、アーキテクチャオブジェクトを操作するには、Open Design AllianceのTeigha for Architectureライブラリを使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TAはC ++クラスのライブラリで、壁、窓、ドア、屋根、梁、開口部などのすべての基本的なACAプリミティブを実装します。 ライブラリを使用すると、これらのオブジェクトをすべてのバージョンのdwg形式から読み取り、dwgの最新バージョンに書き込み（変換）できます。 ライブラリは、さまざまな表現と構成のためにすべてのプリミティブのレンダリングを実装します。 なぜなら  acaオブジェクトは相互作用し、TAは補助クラスとACAメカニズムも提供します。これらはアンカー、ディスプレイマネージャー、プロパティセット、関係グラフ、その他のバインディングです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  TA APIの使用開始 </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私の意見では、一般的な言葉で十分です。 それでは、Teighaが物理的に何であるかを見て、最初の簡単なコマンドを書きましょう。 古いVS 2005を使用しますが、ライブラリはマルチプラットフォームであり、ソリューションには2015年までソリューション用のスタジオジェネレーターが付属しています。ライセンスの種類によっては、ライブラリ全体の完全なコード、またはビルドされたバイナリとヘッダーファイルのいずれかにアクセスできる場合があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TAライブラリのセットは次のようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/412/0a5/2f2/4120a52f29804457b8fe1b0f765bd95a.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     実際、これらは通常のWindows dllです（他のプラットフォーム用にビルドできます：ios、linux、unixなど）。  Libファイルは、別のフォルダーに保存されます。  TAはCoreオブジェクトの拡張であるため、TAに加えて、Teigha Coreライブラリが必要になります。 コアは、従来の自動CADの基本的なメカニズムとオブジェクトを実装します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  TAの初期化 </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ライブラリの初期初期化には、プラットフォーム固有のファイル操作を実行するクラスが必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyServices</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ExSystemServices, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ExHostAppServices { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>: ODRX_USING_HEAP_OPERATORS(ExSystemServices); };</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     キットには、Windows用の既製の拡張機能ExSystemServicesおよびExHostAppServicesが既に含まれています。 この場合、それらは十分にあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、ライブラリとグラフィックスサブシステムを初期化します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdStaticRxObject&lt;MyServices&gt; svcs; odInitialize( &amp;svcs ); odgsInitialize();</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      OdStaticRxObjectはオブジェクトロジックaddRef \ Releaseを追加します。 ライブラリはMyServicesオブジェクトへの参照を保存し、プラットフォーム固有の操作に使用します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TAライブラリを初期化します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// Loading of all public Teigha Architecture DRX modules. // Note that not all calls are necessary for some of them depend on others // but here we list all of them. // // If a program uses TD doesn't modify or create binary files // it may not load any of DRX modules on start because they will be loaded automatically. // But if a program modifies or creates binary files then it is highly recommended // to load all DRX modules program uses. ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchDACHBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecScheduleData") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecSchedule") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecStructureBase") );</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AecBase、AecArchBaseおよびその他のすべては、上の図のtxモジュール（つまり、dllライブラリ）です。 それらはすでにlibファイルを使用してリンクされていますが、これでは十分ではありません。 それらをモジュールとして初期化する必要があります。 これはどういう意味ですか？ 実行時には、ロードされたクラスの辞書がメモリに存在します。 このディクショナリは、異なるタイプのTAオブジェクト間でポインタをキャストするメカニズム、および疑似コンストラクタの集中メカニズムを介してTAクラス自体のインスタンスを作成するメカニズムに使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     たとえば、コマンド:: odrxDynamicLinker（）-&gt; loadApp（OD_T（ "AecArchBase"））を実行すると、フレームワーク内でAECArchBase :: initApp（）関数が呼び出されます。 概略的に、initApp（）は、それぞれに対して静的関数rxInit（）を呼び出すことにより、このライブラリに実装されているクラスをグローバルディクショナリに登録します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">… AECDbSpaceBoundary::rxInit(); AECDbStair::rxInit(); AECDbWall::rxInit(); AECDbZone::rxInit(); …</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     その後、オブジェクトを作成するメカニズムが機能し、たとえば、AECDbWallPtr pWall = AECDbWall :: CreateAECObject（）を呼び出して壁を作成できます。 それ以外の場合、TAクラスオブジェクトを作成しようとすると、例外がスローされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     を呼び出して空のdwgベースを作成します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbDatabasePtr pDatabase = svcs.createDatabase();</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは中心的なオブジェクトであり、dwgファイルから保存およびロードされるオブジェクトデータベースです。 作成されたすべての建築オブジェクトをそれに追加します。 完了すると、次のように呼び出して、このデータベースをdwgファイルに保存します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdWrFileBuf </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cBuffer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( strFilename )</span></span></span></span>; pDatabase-&gt;writeFile( &amp;cBuffer, OdDb::kDwg, OdDb::kDHL_CURRENT );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、ロードされたライブラリとディスプレイマネージャをもう少し初期化します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">AECArchDACHBaseDatabase( pDatabase ).Init(); AECScheduleDatabase( pDatabase ).Init(); AECStructureBaseDatabase( pDatabase ).Init(); init_display_system( pDatabase );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     データベースにAEC辞書が作成され、長さ、面積、体積、角度、印刷設定、およびこれらのモジュールに実装されている表示表現の測定単位のデフォルト設定が登録されます。 ディスプレイマネージャー、ディスプレイ表現、および関連するメカニズムについては、別の投稿を作成します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この初期化は完了しました。 一部のステップをスキップすると、結果が異なる場合があります。オブジェクトを作成しないか、オブジェクトが描画されない（空白の画面を参照）か、スキップしたステップに応じて、さらに不具合が発生します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     現時点では、完全なコードは次のようになっています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">プログラムコード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyServices</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ExSystemServices, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ExHostAppServices { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span>: ODRX_USING_HEAP_OPERATORS(ExSystemServices); }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wmain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">wchar_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* argv[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Initialize TD with system services. // And create single instance of hostapp services // for TD database creation. OdStaticRxObject&lt;MyServices&gt; svcs; odInitialize( &amp;svcs ); odgsInitialize(); // Loading of all public Teigha Architecture DRX modules. // Note that not all calls are necessary for some of them depend on others // but here we list all of them. // // If a program uses TD doesn't modify or create binary files // it may not load any of DRX modules on start because they will be loaded automatically. // But if a program modifies or creates binary files then it is highly recommended // to load all DRX modules program uses. ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchDACHBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecScheduleData") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecSchedule") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecStructureBase") ); // Create empty TD database. OdDbDatabasePtr pDatabase = svcs.createDatabase();; // Initialize database with default Teigha Architecture content. AECArchDACHBaseDatabase( pDatabase ).Init(); AECScheduleDatabase( pDatabase ).Init(); AECStructureBaseDatabase( pDatabase ).Init(); init_display_system( pDatabase ); // do something here with TA objects // Perform "zoom extents" on model space. { OdDbViewportTablePtr pVT = pDatabase-&gt;getViewportTableId().openObject( OdDb::kForRead ); OdDbViewportTableRecordPtr pV = pVT-&gt;getActiveViewportId().openObject( OdDb::kForWrite ); pV-&gt;zoomExtents(); } OdWrFileBuf cBuffer( "H:\\TA_test.dwg" ); pDatabase-&gt;writeFile( &amp;cBuffer, OdDb::kDwg, OdDb::kDHL_CURRENT ); odgsUninitialize(); odUninitialize(); return 0; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     作成したファイルを開くと、ライブラリの対称的な初期化解除を追加したオブジェクトがすぐに表示されるように、ズーム範囲コマンドを追加しました。 簡単にするために、エラーチェックを削除し、メインアクションの周りに\ catch構造を試します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、プログラムは、AutoCADで開いて表示できる空のdwgファイルを作成します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> オブジェクトを操作する </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図面に壁を追加する</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TAクラスでの作業を示すために、地下の天井、壁、窓、ドア、屋根で構成される家を作りたいと思います。 壁から始めましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、図面に壁を追加します。 壁自体を作成するには、最初に壁のスタイルを作成する必要があります。  add_wall_style関数を書きましょう： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Add_wall_styleコード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall_style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idResult = AECDbWallStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Created By Teigha(R) Architecture"</span></span>) ); AECDbWallStylePtr pWallStyle = idResult.openObject( OdDb::kForWrite ); pWallStyle-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Description"</span></span>) ); pWallStyle-&gt;SetDictRecordDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Dialog caption"</span></span>) ); pWallStyle-&gt;SetWallWidth( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetWallWidthUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetBaseHeight( <span class="hljs-number"><span class="hljs-number">110</span></span> ); pWallStyle-&gt;SetBaseHeightUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetJustification( AECDefs::ewjLeft ); pWallStyle-&gt;SetJustificationUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanups( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanupsUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetCleanupRadius( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetCleanupRadiusUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetFloorLineOffset( <span class="hljs-number"><span class="hljs-number">3</span></span> ); pWallStyle-&gt;SetFloorLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pWallStyle-&gt;SetRoofLineOffset( <span class="hljs-number"><span class="hljs-number">-3</span></span> ); pWallStyle-&gt;SetRoofLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWallModelPtr pOverrideModel = AECDbDispPropsWallModel::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;SetIsDisplayOpeningEndcaps( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pOverrideModel-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } AECDbDispPropsWallPtr pOverridePlan = AECDbDispPropsWall::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWallStyle-&gt;objectId() ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この関数は、AECDbWallStyle壁スタイルオブジェクトを作成し、いくつかの設定を設定し、ディスプレイマネージャーを呼び出して、プラン表示表現（2Dトップビュー）とモデル表示表現（3Dビュー）の色を変更します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWallModelPtr pOverrideModel = AECDbDispPropsWallModel::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;SetIsDisplayOpeningEndcaps( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pOverrideModel-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この場合、3Dビューの壁に黄色を設定します。 複雑に見えますが、これには理由があります。これが、ACAのディスプレイ表現とディスプレイマネージャメカニズムの仕組みです。 柔軟性があり、多くの機能を備えていますが、そのロジックはすぐには明らかにならず、ある程度の調査が必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>OdDbObjectId-ランタイムリファレンス</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      OdDbObjectIdは、実行時にベースオブジェクトが相互に参照するクラスです。 内部では、実際のオブジェクトへのポインタをメモリに保存します。  OdDbObjectId :: openObject（）を使用すると、ObjectIdが関連付けられているオブジェクトへのポインターを取得できます。 ポイントは、オブジェクトがこのIDによってアクセスされるまで、メモリにロードされず、内部ポインターOdDbObjectIdがNULLになる可能性があることです。 このIDを読み取りまたは書き込み用に具体的にオンにすると、フレームワークは実際のオブジェクトのインスタンスを作成し、そのフィールドにデータベースからのデータを入力し、内部OdDbObjectIdポインターは作成されたオブジェクトのアドレスを受け取ります。  openObject（）はこのポインターを返します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このようなメカニズムにより、大規模なデータベース（dwgファイル）の部分的な読み込みが可能になります。 この場合、各オブジェクトにはOdDbObjectIdが存在しますが、明示的にアクセスされるオブジェクトのみが実際にメモリに作成されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     オブジェクトへのリンクを開始間で保持する場合は、OdDbHandleを使用する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     たとえば、add_wall_style関数はidWallStyleを返しました。 この場合、スタイルはAECDbWallStyle :: CreateAECObject（）を呼び出して明示的に作成され、idWallStyleは内部のメモリに実際のオブジェクトへのポインターを格納します。 スタイルオブジェクトへの書き込みアクセスを取得するには、操作を実行する必要があります 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">AECDbWallStylePtr pWallStyle = idResult.openObject( OdDb::kForWrite );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      openObject（）は、オブジェクトへの実際のポインタを返し、使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ライブラリは、通常のC ++ポインターの代わりにOdSmartPtrスマートポイントを使用します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> OdSmartPtr&lt;AECDbWallStyle&gt; AECDbWallStylePtr</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このようなスマートポイントのデストラクタは、オブジェクトのクローズをフレームワークに通知します。これにより、関連オブジェクトの再カウント、アラートの送信などが発生する可能性があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次を呼び出して壁を追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWall1 = add_wall( pDatabase, idWallStyle, OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ), OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ) );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Add_wallコード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdDbObjectId&amp; idStyle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptStart, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptEnd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dBulge = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function"> </span></span>{ AECDbWallPtr pWall = AECDbWall::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pWall-&gt;Set( ptStart, ptEnd, dBulge ); pWall-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"A Wall"</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWall-&gt;objectId() ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ご覧のとおり、add_wallは特別なことはしません。 少し前に作成したスタイルでAECDbWallオブジェクトを作成します。  AECDbWallオブジェクトは、データベースのモデル空間に追加されます。これは、データベースのレンダリング時にレンダリングされるすべてのオブジェクトを格納する特別な辞書です（これは簡略化です）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さらに、開始点、終了点、および曲率が壁に設定されます。 つまり 壁はまっすぐであるだけでなく、凸面でもあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべてが正しく行われた場合、黄色の長方形の壁が1つあるdwgファイルが取得されます。 この場合、Teighaのサンプルを使用してファイルを表示していますが、ACAでは同じ方法でレンダリングされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/3ce/5b8/cf1/3ce5b8cf115442d7900f19079e649fb1.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     確かに、3Dビューでカメラを手動で展開しました。 デフォルトでは、上面図が表示されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここで、1つの凸面で最大4つの壁を追加してみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWall1 = add_wall( pDatabase, idWallStyle, OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ), OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ) ); OdDbObjectId idWall2 = add_wall( pDatabase, idWallStyle, OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ), OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ) ); OdDbObjectId idWall3 = add_wall( pDatabase, idWallStyle, OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ), OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ) ); OdDbObjectId idWall4 = add_wall( pDatabase, idWallStyle, OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ), OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ), <span class="hljs-number"><span class="hljs-number">-1</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私たちは未来の家のある種の芽を得ました： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/a64/600/616/a64600616b584babade23fc6b3950c35.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ご覧のとおり、壁は別々のオブジェクトによって描かれているだけでなく、相互の接触点で自動的に滑らかな遷移が構築されています。 これは、クリーンアップウォールと呼ばれるTA自動機能の1つです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">現時点では完全なコード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall_style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idResult = AECDbWallStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Created By Teigha(R) Architecture"</span></span>) ); AECDbWallStylePtr pWallStyle = idResult.openObject( OdDb::kForWrite ); pWallStyle-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Description"</span></span>) ); pWallStyle-&gt;SetDictRecordDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Dialog caption"</span></span>) ); pWallStyle-&gt;SetWallWidth( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetWallWidthUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetBaseHeight( <span class="hljs-number"><span class="hljs-number">110</span></span> ); pWallStyle-&gt;SetBaseHeightUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetJustification( AECDefs::ewjLeft ); pWallStyle-&gt;SetJustificationUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanups( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanupsUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetCleanupRadius( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetCleanupRadiusUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetFloorLineOffset( <span class="hljs-number"><span class="hljs-number">3</span></span> ); pWallStyle-&gt;SetFloorLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pWallStyle-&gt;SetRoofLineOffset( <span class="hljs-number"><span class="hljs-number">-3</span></span> ); pWallStyle-&gt;SetRoofLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWallModelPtr pOverrideModel = AECDbDispPropsWallModel::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;SetIsDisplayOpeningEndcaps( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pOverrideModel-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } AECDbDispPropsWallPtr pOverridePlan = AECDbDispPropsWall::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWallStyle-&gt;objectId() ); } <span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdDbObjectId&amp; idStyle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptStart, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptEnd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dBulge = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function"> </span></span>{ AECDbWallPtr pWall = AECDbWall::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pWall-&gt;Set( ptStart, ptEnd, dBulge ); pWall-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"A Wall"</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWall-&gt;objectId() ); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wmain</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> argc, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">wchar_t</span></span></span></span><span class="hljs-function"><span class="hljs-params">* argv[])</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Initialize TD with system services. // And create single instance of hostapp services // for TD database creation. OdStaticRxObject&lt;MyServices&gt; svcs; odInitialize( &amp;svcs ); odgsInitialize(); // Loading of all public Teigha Architecture DRX modules. // Note that not all calls are necessary for some of them depend on others // but here we list all of them. // // If a program uses TD doesn't modify or create binary files // it may not load any of DRX modules on start because they will be loaded automatically. // But if a program modifies or creates binary files then it is highly recommended // to load all DRX modules program uses. ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchDACHBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecScheduleData") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecSchedule") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecStructureBase") ); // Create empty TD database. OdDbDatabasePtr pDatabase = svcs.createDatabase();; // Initialize database with default Teigha Architecture content. AECArchDACHBaseDatabase( pDatabase ).Init(); AECScheduleDatabase( pDatabase ).Init(); AECStructureBaseDatabase( pDatabase ).Init(); init_display_system( pDatabase ); OdDbObjectId idWallStyle = add_wall_style( pDatabase ); OdDbObjectId idWall1 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 0, 0 ), OdGePoint2d( 0, 110 ) ); OdDbObjectId idWall2 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 0, 110 ), OdGePoint2d( 110, 110 ) ); OdDbObjectId idWall3 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 110, 110 ), OdGePoint2d( 110, 0 ) ); OdDbObjectId idWall4 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 110, 0 ), OdGePoint2d( 0, 0 ), -1 ); // Perform "zoom extents" on model space. { OdDbViewportTablePtr pVT = pDatabase-&gt;getViewportTableId().openObject( OdDb::kForRead ); OdDbViewportTableRecordPtr pV = pVT-&gt;getActiveViewportId().openObject( OdDb::kForWrite ); pV-&gt;zoomExtents(); } OdWrFileBuf cBuffer( "H:\\TA_test.dwg" ); pDatabase-&gt;writeFile( &amp;cBuffer, OdDb::kDwg, OdDb::kDHL_CURRENT ); odgsUninitialize(); odUninitialize(); return 0; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図面へのウィンドウの追加</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、家に窓を追加します。 ウィンドウの場合、ロジックはドアに似ています。図面に追加するウィンドウのスタイルを作成してから、このスタイルのウィンドウオブジェクトを追加する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWindowStyle = add_window_style( pDatabase );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">コードadd_window_style</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_window_style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idWStyle = AECDbWindowStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Window Style Created By Teigha(R) Architecture"</span></span>) ); AECDbWindowStylePtr pWindowStyle = idWStyle.openObject( OdDb::kForWrite ); pWindowStyle-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Window Style Description"</span></span>) ); pWindowStyle-&gt;SetDictRecordDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Dialog caption"</span></span>) ); pWindowStyle-&gt;SetAutoAdjustToWidthOfWall( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWindowStyle-&gt;SetFrameWidth( <span class="hljs-number"><span class="hljs-number">2</span></span> ); pWindowStyle-&gt;SetFrameDepth( <span class="hljs-number"><span class="hljs-number">5</span></span> ); pWindowStyle-&gt;SetSashWidth( <span class="hljs-number"><span class="hljs-number">2</span></span> ); pWindowStyle-&gt;SetSashDepth( <span class="hljs-number"><span class="hljs-number">3</span></span> ); pWindowStyle-&gt;SetGlassThickness( <span class="hljs-number"><span class="hljs-number">1</span></span> ); pWindowStyle-&gt;SetWindowType( AECDefs::ewtGlider ); pWindowStyle-&gt;SetWindowShape( AECDefs::esRectangular ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWindowPtr pOverrideModel = AECDbDispPropsWindow::cast( pWindowStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWindowModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetFrameComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverrideModel-&gt;GetSashComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); pOverrideModel-&gt;GetGlassComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">3</span></span> ) ); } AECDbDispPropsWindowPtr pOverridePlan = AECDbDispPropsWindow::cast( pWindowStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWindowPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetFrameComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverridePlan-&gt;GetSashComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); pOverridePlan-&gt;GetGlassComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">3</span></span> ) ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWindowStyle-&gt;objectId() ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードからわかるように、AECDbWindowStyleオブジェクトが作成され、データベースに追加されます。 次に、スタイルをいくつかの設定に設定し（デフォルトの設定を使用できます）、2Dおよび3D表現用にいくつかのコンポーネントの色を再定義します。 この場合のコンポーネントは、ガラス、フレーム、サッシなど、ウィンドウの物理的な部分です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      add_window関数を使用して、最初の壁にウィンドウを追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWindow01 = add_window( pDatabase, idWindowStyle, idWall1, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">add_window関数コード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Inserts a window into a database using the specified window style. // If idWall parameter is not null it also attaches the window to the wall. // Returns Object ID of newly created window. OdDbObjectId add_window( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idStyle, const OdDbObjectId&amp; idWall, double dOffsetAlongX, double dOffsetAlongZ ) { AECDbWindowPtr pWindow = AECDbWindow::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pWindow-&gt;SetRise( 10 ); pWindow-&gt;SetWidth( 40 ); pWindow-&gt;SetHeight( 40 ); pWindow-&gt;SetOpenPercent( 60 ); pWindow-&gt;SetMeasureTo( AECDefs::eomtOutsideFrame ); pWindow-&gt;SetLeaf( 10 ); if ( !idWall.isNull() ) { pWindow-&gt;AttachWallAnchor( idWall ); AECDbAnchorEntToCurvePtr pAnchor = pWindow-&gt;GetAnchor().openObject( OdDb::kForWrite ); pAnchor-&gt;GetXParams()-&gt;SetOffset( dOffsetAlongX ); pAnchor-&gt;GetZParams()-&gt;SetOffset( dOffsetAlongZ ); } return( pWindow-&gt;objectId() ); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      add_window（）関数はadd_wall（）と似ていますが、1つの違いがあります。ここではアンカーオブジェクトが使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AECDbWindowオブジェクトを作成し、ベースのモデル空間に配置します。 次に、AECDbWindowのこの特定のインスタンスにいくつかの設定を公開します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     その後、窓を壁に挿入します。 壁と窓は、AECDbAnchorEntToCurveから派生した特別なオブジェクトによって接続されています。 壁の座標系の始点からウィンドウの座標系の始点までのx、y、z軸に沿ったインデントが含まれます。  AttachWallAnchor（）を呼び出すと、このオブジェクトのインスタンスが作成され、データベースに配置されます。 壁自体は、窓が壁に挿入されているかどうかを直接知りません。 アンカーの作成は、別の基本的なメカニズムであるリレーショングラフに影響します。 関係グラフには、オブジェクト間の関係が含まれています-誰が誰に、誰が誰に、誰が誰を所有しているか。 壁を変更すると、リレーショングラフはAECDbWallオブジェクトが変更され、すべての依存関係を通過し、関連オブジェクト（この場合はAECDbWindow）を更新するというメッセージを受け取ります。 したがって、壁を移動すると、リレーショングラフから通知を受け取るため、ウィンドウはそれに沿って移動します。 このグラフにアクセスして、特定のオブジェクトの依存関係を要求できます。 ウィンドウは、作成されたアンカーへのリンクを保存するため、原則として、誰にアタッチされているかを認識しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     何が起こったのか見てみましょう： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/1f6/141/31c/1f614131caea4259bde964ee6e0fdd2d.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     窓が見やすくなるように、壁の色を具体的に変更しました。 コードでは、壁はすぐに青色になるはずです。記事を書いたときに色を選択しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TAには、列挙によって指定された多くの定義済みのスタイルとウィンドウのタイプがあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> WindowType { ewtPicture = <span class="hljs-number"><span class="hljs-number">1</span></span>, ewtSingleHung = <span class="hljs-number"><span class="hljs-number">2</span></span>, ewtDoubleHung = <span class="hljs-number"><span class="hljs-number">3</span></span>, ewtAwningTransom = <span class="hljs-number"><span class="hljs-number">4</span></span>, ewtDoubleCasement = <span class="hljs-number"><span class="hljs-number">5</span></span>, ewtGlider = <span class="hljs-number"><span class="hljs-number">6</span></span>, ewtHopperTransom = <span class="hljs-number"><span class="hljs-number">7</span></span>, ewtPassThrough = <span class="hljs-number"><span class="hljs-number">8</span></span>, ewtSingleCasement = <span class="hljs-number"><span class="hljs-number">9</span></span>, ewtSingleHopper = <span class="hljs-number"><span class="hljs-number">10</span></span>, ewtSingleAwning = <span class="hljs-number"><span class="hljs-number">11</span></span>, ewtVerticalPivot = <span class="hljs-number"><span class="hljs-number">12</span></span>, ewtHorizontalPivot = <span class="hljs-number"><span class="hljs-number">13</span></span>, ewtUnevenSingleHung = <span class="hljs-number"><span class="hljs-number">14</span></span>, ewtUnevenDoubleHung = <span class="hljs-number"><span class="hljs-number">15</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> Shape { esRectangular = <span class="hljs-number"><span class="hljs-number">0</span></span>, esRound = <span class="hljs-number"><span class="hljs-number">1</span></span>, esHalfRound = <span class="hljs-number"><span class="hljs-number">2</span></span>, esQuarterRound = <span class="hljs-number"><span class="hljs-number">3</span></span>, esOval = <span class="hljs-number"><span class="hljs-number">4</span></span>, esArch = <span class="hljs-number"><span class="hljs-number">5</span></span>, esTrapezoid = <span class="hljs-number"><span class="hljs-number">6</span></span>, esGothic = <span class="hljs-number"><span class="hljs-number">7</span></span>, esIsoscelesTriangle = <span class="hljs-number"><span class="hljs-number">8</span></span>, esRightTriangle = <span class="hljs-number"><span class="hljs-number">9</span></span>, esPeakPentagon = <span class="hljs-number"><span class="hljs-number">10</span></span>, esOctagon = <span class="hljs-number"><span class="hljs-number">11</span></span>, esHexagon = <span class="hljs-number"><span class="hljs-number">12</span></span>, esCustom = <span class="hljs-number"><span class="hljs-number">13</span></span> };</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AECDefs :: ewtGliderおよびAECDefs :: esRectangularを選択しましたが、ご覧のとおり、形状には多くのオプションがあります。 他の設定を使用すると、ガラスの内部パターンと多くのサッシで非常に複雑なタイプのウィンドウを作成できます。 そして、これらすべてを手動で描画したり、プログラムで実装したりする必要はありません。既存のオブジェクトまたはスタイルの設定をいくつか設定するだけで済みます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般に、すべてのTAオブジェクトは複雑で、多数の設定があります。 これにより、箱から出してすぐに非常に多くの機会が与えられます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべてのまっすぐな壁に窓を追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWindow01 = add_window( pDatabase, idWindowStyle, idWall1, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow02 = add_window( pDatabase, idWindowStyle, idWall1, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow03 = add_window( pDatabase, idWindowStyle, idWall1, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow04 = add_window( pDatabase, idWindowStyle, idWall1, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow05 = add_window( pDatabase, idWindowStyle, idWall2, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow06 = add_window( pDatabase, idWindowStyle, idWall2, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow07 = add_window( pDatabase, idWindowStyle, idWall2, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow08 = add_window( pDatabase, idWindowStyle, idWall2, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow09 = add_window( pDatabase, idWindowStyle, idWall3, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow10 = add_window( pDatabase, idWindowStyle, idWall3, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow11 = add_window( pDatabase, idWindowStyle, idWall3, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow12 = add_window( pDatabase, idWindowStyle, idWall3, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/b30/ff5/ddc/b30ff5ddc2744a43bda2f3129244b432.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードの追加は開始しませんでしたが、各ウィンドウは個別に制御できます。開口部の割合、色などを変更します。 そして、スタイルを変更すると、この変更はすべてのユーザーに同時に影響します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図面にドアを追加する</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     写真を完成させるには、ドアを追加します。 ドアについては、キャンバス（穴窓のあるリーフ）の2Dプロファイルを作成し、そのようなプロファイルを使用してスタイルを作成します。次に、このスタイルのドアオブジェクトを作成できます。 ただし、デフォルトのスタイルを使用できます。 窓のようなドア（および他のすべての開口部）は、アンカーを使用して壁に結合されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">コードadd_profile_def、add_door_style、add_door</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Inserts profile definition into a database. // Returns Object ID of newly created profile definition. OdDbObjectId add_profile_def( OdDbDatabasePtr pDatabase ) { OdDbObjectId idProfDef = AECDbProfileDef::CreateAECObject( pDatabase, OD_T("Profile Definition Created By Teigha(R) Architecture") ); AECDbProfileDefPtr pProfileDefinition = idProfDef.openObject( OdDb::kForWrite ); AECGe::Profile2D cProfile; cProfile.resize( 2 ); cProfile[ 0 ].appendVertex( OdGePoint2d( 0, 0 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 1, 0 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 1, 1 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 0, 1 ) ); cProfile[ 0 ].setClosed(); // Forces the contour to be counter-clockwise. // So if the contour is already ccw this call is not needed. cProfile[ 0 ].makeCCW(); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.2, 0.2 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.2, 0.8 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.8, 0.8 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.8, 0.2 ) ); cProfile[ 1 ].setClosed(); cProfile[ 1 ].makeCCW( false ); pProfileDefinition-&gt;GetProfile()-&gt;Init( cProfile ); return( pProfileDefinition-&gt;objectId() ); } // Inserts a door style into a database. // Returns Object ID of newly created door style. OdDbObjectId add_door_style( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idProfile ) { OdDbObjectId idDoorStyle = AECDbDoorStyle::CreateAECObject( pDatabase, OD_T("Door Style Created By Teigha(R) Architecture") ); AECDbDoorStylePtr pDoorStyle = idDoorStyle.openObject( OdDb::kForWrite ); pDoorStyle-&gt;SetDescription( OD_T("Door Style Description") ); pDoorStyle-&gt;SetDictRecordDescription( OD_T("Dialog caption") ); pDoorStyle-&gt;SetAutoAdjustToWidthOfWall( true ); pDoorStyle-&gt;SetFrameWidth( 2 ); pDoorStyle-&gt;SetFrameDepth( 5 ); pDoorStyle-&gt;SetStopWidth( 2 ); pDoorStyle-&gt;SetStopDepth( 3 ); pDoorStyle-&gt;SetShapeAndType( AECDefs::esCustom, AECDefs::edtSingle ); pDoorStyle-&gt;SetProfile( idProfile ); pDoorStyle-&gt;SetGlassThickness( 1 ); AECDisplayManager cDM( pDatabase ); AECDbDispPropsDoorPtr pOverrideModel = AECDbDispPropsDoor::cast( pDoorStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepDoorModel::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetPanelComp()-&gt;SetColor( colorAt( 1 ) ); pOverrideModel-&gt;GetFrameComp()-&gt;SetColor( colorAt( 2 ) ); pOverrideModel-&gt;GetStopComp()-&gt;SetColor( colorAt( 3 ) ); pOverrideModel-&gt;GetSwingComp()-&gt;SetColor( colorAt( 4 ) ); pOverrideModel-&gt;GetGlassComp()-&gt;SetColor( colorAt( 5 ) ); } AECDbDispPropsDoorPtr pOverridePlan = AECDbDispPropsDoor::cast( pDoorStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepDoorPlan::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetPanelComp()-&gt;SetColor( colorAt( 1 ) ); pOverridePlan-&gt;GetFrameComp()-&gt;SetColor( colorAt( 2 ) ); pOverridePlan-&gt;GetStopComp()-&gt;SetColor( colorAt( 3 ) ); pOverridePlan-&gt;GetSwingComp()-&gt;SetColor( colorAt( 4 ) ); pOverridePlan-&gt;GetDirectionComp()-&gt;SetColor( colorAt( 5 ) ); } return( pDoorStyle-&gt;objectId() ); } // Inserts a door into a database using the specified door style. // If idWall parameter is not null it also attaches the door to the wall. // Returns Object ID of newly created door. OdDbObjectId add_door( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idStyle, const OdDbObjectId&amp; idWall, double dOffsetAlongX, double dOffsetAlongZ ) { AECDbDoorPtr pDoor = AECDbDoor::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pDoor-&gt;SetRise( 10 ); pDoor-&gt;SetWidth( 40 ); pDoor-&gt;SetHeight( 50 ); pDoor-&gt;SetOpenPercent( 20 ); pDoor-&gt;SetMeasureTo( AECDefs::eomtOutsideFrame ); pDoor-&gt;SetLeaf( 10 ); if ( !idWall.isNull() ) { pDoor-&gt;AttachWallAnchor( idWall ); AECDbAnchorEntToCurvePtr pAnchor = pDoor-&gt;GetAnchor().openObject( OdDb::kForWrite ); pAnchor-&gt;GetXParams()-&gt;SetOffset( dOffsetAlongX ); pAnchor-&gt;GetZParams()-&gt;SetOffset( dOffsetAlongZ ); } return( pDoor-&gt;objectId() ); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> メインに追加します： </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">AECDbWallPtr pWall = idWall4.openObject( OdDb::kForRead ); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dLength = pWall-&gt;GetLength(); <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dOWidth = <span class="hljs-number"><span class="hljs-number">40</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dL1 = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dL3 = dLength - dOWidth - <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> dL2 = dL1 + dOWidth + (dL3 - (dL1 + <span class="hljs-number"><span class="hljs-number">2</span></span> * dOWidth)) / <span class="hljs-number"><span class="hljs-number">2</span></span>; OdDbObjectId idDoor = add_door ( pDatabase, idDoorStyle, idWall4, dL2, <span class="hljs-number"><span class="hljs-number">0</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに1つの新しいポイントがあります。読み取り用に壁を開き、その長さを使用してインデントを計算します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、ドアが丸い壁に挿入されました。丸い壁に</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/422/15b/2a8/42215b2a82ce4c7a9f67c69104fb582b.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別のウィンドウを挿入します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">OdDbObjectId idWindow13 = add_window ( pDatabase, idWindowStyle, idWall4, dL1, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow14 = add_window ( pDatabase, idWindowStyle, idWall4, dL3, <span class="hljs-number"><span class="hljs-number">10</span></span> ); OdDbObjectId idWindow15 = add_window ( pDatabase, idWindowStyle, idWall4, dL1, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idWindow16 = add_window ( pDatabase, idWindowStyle, idWall4, dL2, <span class="hljs-number"><span class="hljs-number">60</span></span> ); OdDbObjectId idOpening = add_window ( pDatabase, idWindowStyle, idWall4, dL3, <span class="hljs-number"><span class="hljs-number">60</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、屋根と床のない非常に穴の開いた家ができました：</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/cf0/7ec/061/cf07ec061e4d424baa7236a26b9e8671.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図面に屋根を追加する</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> add_roof（）関数を書きましょう</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルーフ機能コード</font></font></b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_roof</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ AECGe::Profile2D cProfile; cProfile.resize( <span class="hljs-number"><span class="hljs-number">1</span></span> ); cProfile.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ) ); cProfile.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ) ); cProfile.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">110</span></span> ) ); cProfile.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">110</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> ), <span class="hljs-number"><span class="hljs-number">-1</span></span> ); cProfile.front().setClosed(); cProfile.front().makeCCW(); AECDbRoofPtr pRoof = AECDbRoof::CreateAECObject( pDatabase-&gt;getModelSpaceId() ); <span class="hljs-comment"><span class="hljs-comment">// Initialize roof profile. // By default all edges of Roof Profile have single slope of 45 degrees. pRoof-&gt;GetProfile()-&gt;Init( cProfile ); pRoof-&gt;SetThickness( 2 ); //// Manually modify Roof Segments. AECGeRingSubPtr pRoofLoop = pRoof-&gt;GetProfile()-&gt;GetRingByIndex( 0 ); if ( !pRoofLoop.isNull() ) { OdUInt32 i, iSize = pRoofLoop-&gt;GetSegmentCount(); for ( i = 0; i &lt; iSize; i++ ) { AECGeRoofSegmentSubPtr pSeg = pRoofLoop-&gt;GetSegments()-&gt;GetAt( i ); pSeg-&gt;SetFaceCount(1); pSeg-&gt;SetFaceHeightByIndex(0, 110); pSeg-&gt;SetBaseHeight(0); pSeg-&gt;SetOverhang(10.0); pSeg-&gt;SetFaceSlopeByIndex(0, OdaPI4); pSeg-&gt;SetSegmentCount(10); } } pRoof-&gt;setColorIndex( 3 ); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屋根は、バイパス方向が反時計回りである2次元プロファイルに基づいて作成されます。 makeCCW（）の呼び出しは、バイパス方向が逆の場合にのみ変換します。これは重要です。なぜなら、アルゴリズムはそのようなプロファイルを入力することを期待しており、それ以外の場合は機能しないからです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのプロファイルは、壁の中心線と一致しています。さらに、プロファイルの各セクションについて、屋根の勾配の勾配、勾配が提示される面の数、OXY平面に対するZから始まる勾配の上昇（SetFaceHeightByIndex）、および屋根の張り出し（オーバーハング）が設定されます。 SetSegmentCount（）は、曲率を持つセグメントでのみ機能します。この値は、近似精度（半円形セグメントを近似するために使用される直線セグメントの数）を設定します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのような屋根が判明しました：</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/ce9/ebb/b71/ce9ebbb71b01416880ec69380792579e.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">屋根の設定には多くのバリエーションがあり、切妻、マルチスロープ、テントなど、ほぼすべての形状の屋根を作成できます。</font><font style="vertical-align: inherit;">各スロープは個別のRoofSlabオブジェクトであり、手動で編集できます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図面にオーバーラップを追加する</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">床/基礎の少なくとも小さな模倣を追加する</font><b><font style="vertical-align: inherit;">こと</font></b><font style="vertical-align: inherit;">は残っています。</font><font style="vertical-align: inherit;">これを行うには、スラブオブジェクトを使用します（オーバーラップ）。</font><font style="vertical-align: inherit;">add_slab関数を書きましょう</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add_slab関数コード</font></font></b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_slab</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idStyle = AECDbSlabStyle::GetAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Slab Style"</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( idStyle.isNull() ) { idStyle = AECDbSlabStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Slab Style"</span></span>) ); } AECDbSlabStylePtr pStyle = idStyle.openObject( OdDb::kForWrite ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pStyle.isNull() ) { pStyle-&gt;GetComponents()-&gt;Clear(); AECSlabStyleCompPtr pCmp = AECSlabStyleComp::createObject(); pCmp-&gt;SetName( OD_T(<span class="hljs-string"><span class="hljs-string">"Base"</span></span>) ); pCmp-&gt;GetPosition()-&gt;GetThickness()-&gt;SetUseBaseValue( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pCmp-&gt;GetPosition()-&gt;GetThickness()-&gt;SetBaseValue( <span class="hljs-number"><span class="hljs-number">6</span></span> ); pCmp-&gt;GetPosition()-&gt;GetThicknessOffset()-&gt;SetUseBaseValue( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pCmp-&gt;GetPosition()-&gt;GetThicknessOffset()-&gt;SetBaseValue( - <span class="hljs-number"><span class="hljs-number">6</span></span> ); pStyle-&gt;GetComponents()-&gt;Insert( pCmp ); } AECDbSlabPtr pSlab = AECDbSlab::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); { AECGe::Profile2D cBase; cBase.resize( <span class="hljs-number"><span class="hljs-number">1</span></span> ); cBase.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">-5</span></span> ), <span class="hljs-number"><span class="hljs-number">1</span></span> ); cBase.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">115</span></span>, <span class="hljs-number"><span class="hljs-number">-5</span></span> ) ); cBase.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">115</span></span>, <span class="hljs-number"><span class="hljs-number">115</span></span> ) ); cBase.front().appendVertex( OdGePoint2d( <span class="hljs-number"><span class="hljs-number">-5</span></span>, <span class="hljs-number"><span class="hljs-number">115</span></span> ) ); cBase.front().setClosed(); cBase.front().makeCCW(); pSlab-&gt;GetSlabFace()-&gt;Init( cBase ); } pSlab-&gt;SetThickness( <span class="hljs-number"><span class="hljs-number">5</span></span> ); pSlab-&gt;SetVerticalOffset( <span class="hljs-number"><span class="hljs-number">0</span></span> ); pSlab-&gt;SetHorizontalOffset( <span class="hljs-number"><span class="hljs-number">0</span></span> ); pSlab-&gt;SetPivotPoint( OdGePoint3d::kOrigin ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsSlabPtr pOverrideModel = AECDbDispPropsSlab::cast( pSlab-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepSlabModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverrideModel-&gt;GetBaselineComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); pOverrideModel-&gt;GetPivotPointComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">5</span></span> ) ); pOverrideModel-&gt;GetFasciaComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">6</span></span> ) ); pOverrideModel-&gt;GetSoffitComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">7</span></span> ) ); pOverrideModel-&gt;GetShrinkWrapBodyComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">8</span></span> ) ); } AECDbDispPropsSlabPlanPtr pOverridePlan = AECDbDispPropsSlabPlan::cast( pSlab-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepSlabPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;SetIsOverrideCutPlane( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pOverridePlan-&gt;GetHatchComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverridePlan-&gt;GetBelowCutPlaneBodyComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); pOverridePlan-&gt;GetAboveCutPlaneBodyComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">3</span></span> ) ); pOverridePlan-&gt;GetBelowCutPlaneOutlineComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); pOverridePlan-&gt;GetAboveCutPlaneOutlineComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">5</span></span> ) ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この場合、新しいオーバーラップスタイルを作成し、それにコンポーネントを追加します。コンポーネントはオーバーラップの一部で、厚さ、OXYを超える上昇、名前、素材、インデックスなどのパラメーターが含まれます。オーバーラップは、設定が異なる複数のコンポーネントを含むことができます。たとえば、OXYとは異なるマージンがある場合、このスタイルの1つのオブジェクトオーバーラップは、高層ビルのすべての床と天井を描画できます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタイル設定は、このオーバーラップの形状を保存する特定のオブジェクトに適用されます。この場合、スラブを作成し、そのプロファイルを壁の底と同じ輪郭で初期化します。エッジに沿ってわずかにくぼみを付けます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のステップでは、ディスプレイマネージャと連携して、異なるオーバーラップコンポーネントの色をオーバーライドします。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的に、私たちの家は次のようになります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/17d/a8a/b08/17da8ab0855d49138f6e043f877c4703.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストのために、生成されたdwgファイルをAutodesk ACAにアップロードしてみましょう。AutocadArchitecture </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/c83/5b6/b82/c835b6b82e3f49a8b888a7a117f5c766.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にアップロードされた私たちの家です。</font><font style="vertical-align: inherit;">それはさらに良く見えます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">完全なコード</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall_style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idResult = AECDbWallStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Created By Teigha(R) Architecture"</span></span>) ); AECDbWallStylePtr pWallStyle = idResult.openObject( OdDb::kForWrite ); pWallStyle-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Wall Style Description"</span></span>) ); pWallStyle-&gt;SetDictRecordDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Dialog caption"</span></span>) ); pWallStyle-&gt;SetWallWidth( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetWallWidthUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetBaseHeight( <span class="hljs-number"><span class="hljs-number">110</span></span> ); pWallStyle-&gt;SetBaseHeightUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetJustification( AECDefs::ewjLeft ); pWallStyle-&gt;SetJustificationUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanups( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetAutomaticCleanupsUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetCleanupRadius( <span class="hljs-number"><span class="hljs-number">4</span></span> ); pWallStyle-&gt;SetCleanupRadiusUsed( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWallStyle-&gt;SetFloorLineOffset( <span class="hljs-number"><span class="hljs-number">3</span></span> ); pWallStyle-&gt;SetFloorLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pWallStyle-&gt;SetRoofLineOffset( <span class="hljs-number"><span class="hljs-number">-3</span></span> ); pWallStyle-&gt;SetRoofLineOffsetUsed( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWallModelPtr pOverrideModel = AECDbDispPropsWallModel::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;SetIsDisplayOpeningEndcaps( <span class="hljs-literal"><span class="hljs-literal">false</span></span> ); pOverrideModel-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } AECDbDispPropsWallPtr pOverridePlan = AECDbDispPropsWall::cast( pWallStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWallPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetBoundaryCompByIndex( <span class="hljs-number"><span class="hljs-number">0</span></span> )-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">4</span></span> ) ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWallStyle-&gt;objectId() ); } <span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_wall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdDbObjectId&amp; idStyle, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptStart, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> OdGePoint2d&amp; ptEnd, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> dBulge = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function"> </span></span>{ AECDbWallPtr pWall = AECDbWall::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pWall-&gt;Set( ptStart, ptEnd, dBulge ); pWall-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"A Wall"</span></span>) ); <span class="hljs-comment"><span class="hljs-comment">/*AECGe::Contour2D cContour; cContour.appendVertex( OdGePoint2d( 0, pWall-&gt;GetHeight() ) ); cContour.appendVertex( OdGePoint2d( pWall-&gt;GetLength() / 2, pWall-&gt;GetHeight() * 1.5 ) ); cContour.appendVertex( OdGePoint2d( pWall-&gt;GetLength(), pWall-&gt;GetHeight() ) ); AECWallCutLineSubPtr pTop = pWall-&gt;CreateTopCutLine(); pTop-&gt;SetRawCutLine( cContour );*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWall-&gt;objectId() ); } <span class="hljs-function"><span class="hljs-function">OdDbObjectId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add_window_style</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OdDbDatabasePtr pDatabase )</span></span></span><span class="hljs-function"> </span></span>{ OdDbObjectId idWStyle = AECDbWindowStyle::CreateAECObject( pDatabase, OD_T(<span class="hljs-string"><span class="hljs-string">"Window Style Created By Teigha(R) Architecture"</span></span>) ); AECDbWindowStylePtr pWindowStyle = idWStyle.openObject( OdDb::kForWrite ); pWindowStyle-&gt;SetDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Window Style Description"</span></span>) ); pWindowStyle-&gt;SetDictRecordDescription( OD_T(<span class="hljs-string"><span class="hljs-string">"Dialog caption"</span></span>) ); pWindowStyle-&gt;SetAutoAdjustToWidthOfWall( <span class="hljs-literal"><span class="hljs-literal">true</span></span> ); pWindowStyle-&gt;SetFrameWidth( <span class="hljs-number"><span class="hljs-number">2</span></span> ); pWindowStyle-&gt;SetFrameDepth( <span class="hljs-number"><span class="hljs-number">5</span></span> ); pWindowStyle-&gt;SetSashWidth( <span class="hljs-number"><span class="hljs-number">2</span></span> ); pWindowStyle-&gt;SetSashDepth( <span class="hljs-number"><span class="hljs-number">3</span></span> ); pWindowStyle-&gt;SetGlassThickness( <span class="hljs-number"><span class="hljs-number">1</span></span> ); pWindowStyle-&gt;SetWindowType( AECDefs::ewtGlider ); pWindowStyle-&gt;SetWindowShape( AECDefs::esRectangular ); <span class="hljs-function"><span class="hljs-function">AECDisplayManager </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cDM</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( pDatabase )</span></span></span></span>; AECDbDispPropsWindowPtr pOverrideModel = AECDbDispPropsWindow::cast( pWindowStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWindowModel::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetFrameComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverrideModel-&gt;GetSashComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); pOverrideModel-&gt;GetGlassComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">3</span></span> ) ); } AECDbDispPropsWindowPtr pOverridePlan = AECDbDispPropsWindow::cast( pWindowStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepWindowPlan::desc() ) ).openObject( OdDb::kForWrite ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetFrameComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">1</span></span> ) ); pOverridePlan-&gt;GetSashComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">2</span></span> ) ); pOverridePlan-&gt;GetGlassComp()-&gt;SetColor( colorAt( <span class="hljs-number"><span class="hljs-number">3</span></span> ) ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>( pWindowStyle-&gt;objectId() ); } <span class="hljs-comment"><span class="hljs-comment">// Inserts a window into a database using the specified window style. // If idWall parameter is not null it also attaches the window to the wall. // Returns Object ID of newly created window. OdDbObjectId add_window( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idStyle, const OdDbObjectId&amp; idWall, double dOffsetAlongX, double dOffsetAlongZ ) { AECDbWindowPtr pWindow = AECDbWindow::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pWindow-&gt;SetRise( 10 ); pWindow-&gt;SetWidth( 40 ); pWindow-&gt;SetHeight( 40 ); pWindow-&gt;SetOpenPercent( 60 ); pWindow-&gt;SetMeasureTo( AECDefs::eomtOutsideFrame ); pWindow-&gt;SetLeaf( 10 ); if ( !idWall.isNull() ) { pWindow-&gt;AttachWallAnchor( idWall ); AECDbAnchorEntToCurvePtr pAnchor = pWindow-&gt;GetAnchor().openObject( OdDb::kForWrite ); pAnchor-&gt;GetXParams()-&gt;SetOffset( dOffsetAlongX ); pAnchor-&gt;GetZParams()-&gt;SetOffset( dOffsetAlongZ ); } return( pWindow-&gt;objectId() ); } // Inserts profile definition into a database. // Returns Object ID of newly created profile definition. OdDbObjectId add_profile_def( OdDbDatabasePtr pDatabase ) { OdDbObjectId idProfDef = AECDbProfileDef::CreateAECObject( pDatabase, OD_T("Profile Definition Created By Teigha(R) Architecture") ); AECDbProfileDefPtr pProfileDefinition = idProfDef.openObject( OdDb::kForWrite ); AECGe::Profile2D cProfile; cProfile.resize( 2 ); cProfile[ 0 ].appendVertex( OdGePoint2d( 0, 0 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 1, 0 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 1, 1 ) ); cProfile[ 0 ].appendVertex( OdGePoint2d( 0, 1 ) ); cProfile[ 0 ].setClosed(); // Forces the contour to be counter-clockwise. // So if the contour is already ccw this call is not needed. cProfile[ 0 ].makeCCW(); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.2, 0.2 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.2, 0.8 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.8, 0.8 ) ); cProfile[ 1 ].appendVertex( OdGePoint2d( 0.8, 0.2 ) ); cProfile[ 1 ].setClosed(); cProfile[ 1 ].makeCCW( false ); pProfileDefinition-&gt;GetProfile()-&gt;Init( cProfile ); return( pProfileDefinition-&gt;objectId() ); } // Inserts a door style into a database. // Returns Object ID of newly created door style. OdDbObjectId add_door_style( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idProfile ) { OdDbObjectId idDoorStyle = AECDbDoorStyle::CreateAECObject( pDatabase, OD_T("Door Style Created By Teigha(R) Architecture") ); AECDbDoorStylePtr pDoorStyle = idDoorStyle.openObject( OdDb::kForWrite ); pDoorStyle-&gt;SetDescription( OD_T("Door Style Description") ); pDoorStyle-&gt;SetDictRecordDescription( OD_T("Dialog caption") ); pDoorStyle-&gt;SetAutoAdjustToWidthOfWall( true ); pDoorStyle-&gt;SetFrameWidth( 2 ); pDoorStyle-&gt;SetFrameDepth( 5 ); pDoorStyle-&gt;SetStopWidth( 2 ); pDoorStyle-&gt;SetStopDepth( 3 ); pDoorStyle-&gt;SetShapeAndType( AECDefs::esCustom, AECDefs::edtSingle ); pDoorStyle-&gt;SetProfile( idProfile ); pDoorStyle-&gt;SetGlassThickness( 1 ); AECDisplayManager cDM( pDatabase ); AECDbDispPropsDoorPtr pOverrideModel = AECDbDispPropsDoor::cast( pDoorStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepDoorModel::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetPanelComp()-&gt;SetColor( colorAt( 1 ) ); pOverrideModel-&gt;GetFrameComp()-&gt;SetColor( colorAt( 2 ) ); pOverrideModel-&gt;GetStopComp()-&gt;SetColor( colorAt( 3 ) ); pOverrideModel-&gt;GetSwingComp()-&gt;SetColor( colorAt( 4 ) ); pOverrideModel-&gt;GetGlassComp()-&gt;SetColor( colorAt( 5 ) ); } AECDbDispPropsDoorPtr pOverridePlan = AECDbDispPropsDoor::cast( pDoorStyle-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepDoorPlan::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;GetPanelComp()-&gt;SetColor( colorAt( 1 ) ); pOverridePlan-&gt;GetFrameComp()-&gt;SetColor( colorAt( 2 ) ); pOverridePlan-&gt;GetStopComp()-&gt;SetColor( colorAt( 3 ) ); pOverridePlan-&gt;GetSwingComp()-&gt;SetColor( colorAt( 4 ) ); pOverridePlan-&gt;GetDirectionComp()-&gt;SetColor( colorAt( 5 ) ); } return( pDoorStyle-&gt;objectId() ); } // Inserts a door into a database using the specified door style. // If idWall parameter is not null it also attaches the door to the wall. // Returns Object ID of newly created door. OdDbObjectId add_door( OdDbDatabasePtr pDatabase, const OdDbObjectId&amp; idStyle, const OdDbObjectId&amp; idWall, double dOffsetAlongX, double dOffsetAlongZ ) { AECDbDoorPtr pDoor = AECDbDoor::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); pDoor-&gt;SetRise( 10 ); pDoor-&gt;SetWidth( 40 ); pDoor-&gt;SetHeight( 50 ); pDoor-&gt;SetOpenPercent( 20 ); pDoor-&gt;SetMeasureTo( AECDefs::eomtOutsideFrame ); pDoor-&gt;SetLeaf( 10 ); if ( !idWall.isNull() ) { pDoor-&gt;AttachWallAnchor( idWall ); AECDbAnchorEntToCurvePtr pAnchor = pDoor-&gt;GetAnchor().openObject( OdDb::kForWrite ); pAnchor-&gt;GetXParams()-&gt;SetOffset( dOffsetAlongX ); pAnchor-&gt;GetZParams()-&gt;SetOffset( dOffsetAlongZ ); } return( pDoor-&gt;objectId() ); } void add_roof( OdDbDatabasePtr pDatabase ) { AECGe::Profile2D cProfile; cProfile.resize( 1 ); cProfile.front().appendVertex( OdGePoint2d( 0, 0 ) ); cProfile.front().appendVertex( OdGePoint2d( 0, 110 ) ); cProfile.front().appendVertex( OdGePoint2d( 110, 110 ) ); cProfile.front().appendVertex( OdGePoint2d( 110, 0 ), -1 ); cProfile.front().setClosed(); cProfile.front().makeCCW(); AECDbRoofPtr pRoof = AECDbRoof::CreateAECObject( pDatabase-&gt;getModelSpaceId() ); // Initialize roof profile. // By default all edges of Roof Profile have single slope of 45 degrees. pRoof-&gt;GetProfile()-&gt;Init( cProfile ); pRoof-&gt;SetThickness( 2 ); //// Manually modify Roof Segments. AECGeRingSubPtr pRoofLoop = pRoof-&gt;GetProfile()-&gt;GetRingByIndex( 0 ); if ( !pRoofLoop.isNull() ) { OdUInt32 i, iSize = pRoofLoop-&gt;GetSegmentCount(); for ( i = 0; i &lt; iSize; i++ ) { AECGeRoofSegmentSubPtr pSeg = pRoofLoop-&gt;GetSegments()-&gt;GetAt( i ); pSeg-&gt;SetFaceCount(1); pSeg-&gt;SetFaceHeightByIndex(0, 110); pSeg-&gt;SetBaseHeight(0); pSeg-&gt;SetOverhang(10.0); pSeg-&gt;SetFaceSlopeByIndex(0, OdaPI4); pSeg-&gt;SetSegmentCount(10); } } pRoof-&gt;setColorIndex( 3 ); } void add_slab( OdDbDatabasePtr pDatabase ) { OdDbObjectId idStyle = AECDbSlabStyle::GetAECObject( pDatabase, OD_T("Slab Style") ); if ( idStyle.isNull() ) { idStyle = AECDbSlabStyle::CreateAECObject( pDatabase, OD_T("Slab Style") ); } AECDbSlabStylePtr pStyle = idStyle.openObject( OdDb::kForWrite ); if ( !pStyle.isNull() ) { pStyle-&gt;GetComponents()-&gt;Clear(); AECSlabStyleCompPtr pCmp = AECSlabStyleComp::createObject(); pCmp-&gt;SetName( OD_T("Base") ); pCmp-&gt;GetPosition()-&gt;GetThickness()-&gt;SetUseBaseValue( false ); pCmp-&gt;GetPosition()-&gt;GetThickness()-&gt;SetBaseValue( 6 ); pCmp-&gt;GetPosition()-&gt;GetThicknessOffset()-&gt;SetUseBaseValue( false ); pCmp-&gt;GetPosition()-&gt;GetThicknessOffset()-&gt;SetBaseValue( - 6 ); pStyle-&gt;GetComponents()-&gt;Insert( pCmp ); } AECDbSlabPtr pSlab = AECDbSlab::CreateAECObject( pDatabase-&gt;getModelSpaceId(), idStyle ); { AECGe::Profile2D cBase; cBase.resize( 1 ); cBase.front().appendVertex( OdGePoint2d( -5, -5 ), 1 ); cBase.front().appendVertex( OdGePoint2d( 115, -5 ) ); cBase.front().appendVertex( OdGePoint2d( 115, 115 ) ); cBase.front().appendVertex( OdGePoint2d( -5, 115 ) ); cBase.front().setClosed(); cBase.front().makeCCW(); pSlab-&gt;GetSlabFace()-&gt;Init( cBase ); } pSlab-&gt;SetThickness( 5 ); pSlab-&gt;SetVerticalOffset( 0 ); pSlab-&gt;SetHorizontalOffset( 0 ); pSlab-&gt;SetPivotPoint( OdGePoint3d::kOrigin ); AECDisplayManager cDM( pDatabase ); AECDbDispPropsSlabPtr pOverrideModel = AECDbDispPropsSlab::cast( pSlab-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepSlabModel::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverrideModel.isNull() ) { pOverrideModel-&gt;GetBoundaryCompByIndex( 0 )-&gt;SetColor( colorAt( 1 ) ); pOverrideModel-&gt;GetBaselineComp()-&gt;SetColor( colorAt( 4 ) ); pOverrideModel-&gt;GetPivotPointComp()-&gt;SetColor( colorAt( 5 ) ); pOverrideModel-&gt;GetFasciaComp()-&gt;SetColor( colorAt( 6 ) ); pOverrideModel-&gt;GetSoffitComp()-&gt;SetColor( colorAt( 7 ) ); pOverrideModel-&gt;GetShrinkWrapBodyComp()-&gt;SetColor( colorAt( 8 ) ); } AECDbDispPropsSlabPlanPtr pOverridePlan = AECDbDispPropsSlabPlan::cast( pSlab-&gt;OverrideDispProps( cDM.UpdateDisplayRepresentation( AECDbDispRepSlabPlan::desc() ) ).openObject( OdDb::kForWrite ) ); if ( !pOverridePlan.isNull() ) { pOverridePlan-&gt;SetIsOverrideCutPlane( false ); pOverridePlan-&gt;GetHatchComp()-&gt;SetColor( colorAt( 1 ) ); pOverridePlan-&gt;GetBelowCutPlaneBodyComp()-&gt;SetColor( colorAt( 2 ) ); pOverridePlan-&gt;GetAboveCutPlaneBodyComp()-&gt;SetColor( colorAt( 3 ) ); pOverridePlan-&gt;GetBelowCutPlaneOutlineComp()-&gt;SetColor( colorAt( 4 ) ); pOverridePlan-&gt;GetAboveCutPlaneOutlineComp()-&gt;SetColor( colorAt( 5 ) ); } } class MyServices : public ExSystemServices, public ExHostAppServices { protected: ODRX_USING_HEAP_OPERATORS(ExSystemServices); }; int wmain(int argc, wchar_t* argv[]) { // Initialize TD with system services. // And create single instance of hostapp services // for TD database creation. OdStaticRxObject&lt;MyServices&gt; svcs; odInitialize( &amp;svcs ); odgsInitialize(); // Loading of all public Teigha Architecture DRX modules. // Note that not all calls are necessary for some of them depend on others // but here we list all of them. // // If a program uses TD doesn't modify or create binary files // it may not load any of DRX modules on start because they will be loaded automatically. // But if a program modifies or creates binary files then it is highly recommended // to load all DRX modules program uses. ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecArchDACHBase") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecScheduleData") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecSchedule") ); ::odrxDynamicLinker()-&gt;loadApp( OD_T("AecStructureBase") ); // Create empty TD database. OdDbDatabasePtr pDatabase = svcs.createDatabase();; // Initialize database with default Teigha Architecture content. AECArchDACHBaseDatabase( pDatabase ).Init(); AECScheduleDatabase( pDatabase ).Init(); AECStructureBaseDatabase( pDatabase ).Init(); init_display_system( pDatabase ); OdDbObjectId idWallStyle = add_wall_style( pDatabase ); OdDbObjectId idWall1 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 0, 0 ), OdGePoint2d( 0, 110 ) ); OdDbObjectId idWall2 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 0, 110 ), OdGePoint2d( 110, 110 ) ); OdDbObjectId idWall3 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 110, 110 ), OdGePoint2d( 110, 0 ) ); OdDbObjectId idWall4 = add_wall( pDatabase, idWallStyle, OdGePoint2d( 110, 0 ), OdGePoint2d( 0, 0 ), -1 ); AECDbWallPtr ptWall = AECDbWall::cast( idWall1.openObject( OdDb::kForRead ) ); OdDbObjectId idWindowStyle = add_window_style( pDatabase ); OdDbObjectId idWindow01 = add_window( pDatabase, idWindowStyle, idWall1, 10, 10 ); OdDbObjectId idWindow02 = add_window( pDatabase, idWindowStyle, idWall1, 60, 10 ); OdDbObjectId idWindow03 = add_window( pDatabase, idWindowStyle, idWall1, 10, 60 ); OdDbObjectId idWindow04 = add_window( pDatabase, idWindowStyle, idWall1, 60, 60 ); OdDbObjectId idWindow05 = add_window( pDatabase, idWindowStyle, idWall2, 10, 10 ); OdDbObjectId idWindow06 = add_window( pDatabase, idWindowStyle, idWall2, 60, 10 ); OdDbObjectId idWindow07 = add_window( pDatabase, idWindowStyle, idWall2, 10, 60 ); OdDbObjectId idWindow08 = add_window( pDatabase, idWindowStyle, idWall2, 60, 60 ); OdDbObjectId idWindow09 = add_window( pDatabase, idWindowStyle, idWall3, 10, 10 ); OdDbObjectId idWindow10 = add_window( pDatabase, idWindowStyle, idWall3, 60, 10 ); OdDbObjectId idWindow11 = add_window( pDatabase, idWindowStyle, idWall3, 10, 60 ); OdDbObjectId idWindow12 = add_window( pDatabase, idWindowStyle, idWall3, 60, 60 ); OdDbObjectId idProfile = add_profile_def( pDatabase ); OdDbObjectId idDoorStyle = add_door_style( pDatabase, idProfile ); AECDbWallPtr pWall = idWall4.openObject( OdDb::kForRead ); double dLength = pWall-&gt;GetLength(); double dOWidth = 40; double dL1 = 10; double dL3 = dLength - dOWidth - 10; double dL2 = dL1 + dOWidth + (dL3 - (dL1 + 2 * dOWidth)) / 2; OdDbObjectId idDoor = add_door ( pDatabase, idDoorStyle, idWall4, dL2, 0 ); OdDbObjectId idWindow13 = add_window ( pDatabase, idWindowStyle, idWall4, dL1, 10 ); OdDbObjectId idWindow14 = add_window ( pDatabase, idWindowStyle, idWall4, dL3, 10 ); OdDbObjectId idWindow15 = add_window ( pDatabase, idWindowStyle, idWall4, dL1, 60 ); OdDbObjectId idWindow16 = add_window ( pDatabase, idWindowStyle, idWall4, dL2, 60 ); OdDbObjectId idOpening = add_window ( pDatabase, idWindowStyle, idWall4, dL3, 60 ); add_roof(pDatabase); add_slab(pDatabase); // Perform "zoom extents" on model space. { OdDbViewportTablePtr pVT = pDatabase-&gt;getViewportTableId().openObject( OdDb::kForRead ); OdDbViewportTableRecordPtr pV = pVT-&gt;getActiveViewportId().openObject( OdDb::kForWrite ); pV-&gt;zoomExtents(); } OdWrFileBuf cBuffer( "H:\\TA_test.dwg" ); pDatabase-&gt;writeFile( &amp;cBuffer, OdDb::kDwg, OdDb::kDHL_CURRENT ); odgsUninitialize(); odUninitialize(); return 0; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> まとめ </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teighaを使用して、空のデータベースを作成し、建築オブジェクトと連動するように初期化し、最も使用されるタイプのオブジェクトをいくつか作成し、これらすべてを最新の形式のdwgファイルに正常に保存しました。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もちろん、私は多くの側面を非常に表面的に単純化して説明しましたが、この記事の目的は単にTAの機能を示し、dighgファイルとAutoCADオブジェクトを操作する別の機会としてTeighaの一般的なアイデアを与えることです。</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J280268/index.html">ロシアのニューラルネットワークチャットボット</a></li>
<li><a href="../J280270/index.html">C ++およびGumboのParsim HTML</a></li>
<li><a href="../J280272/index.html">Web開発およびITの世界からの興味深い資料のダイジェスト。先週の第204号（2016年3月21〜27日）</a></li>
<li><a href="../J280276/index.html">Golang開発ケース：ITooLabs Virtual PBX Platform</a></li>
<li><a href="../J280280/index.html">もう一度、トラフィックアナライザーの利点</a></li>
<li><a href="../J280286/index.html">MSLibrary。 Xcodeでのクロスプラットフォーム（ユニバーサル）ライブラリの作成とコンパイル</a></li>
<li><a href="../J28029/index.html">VKは新しいソーシャルネットワークVshtateを開始しました</a></li>
<li><a href="../J280294/index.html">IoTではなく、ラズベリー！ Windows 10とDeviceHiveを使用してRaspberry PiでIoTプロジェクトを構築する</a></li>
<li><a href="../J280296/index.html">ニューラルネットワークを使用してメールボックスをクリーンアップする方法。 パート2</a></li>
<li><a href="../J280298/index.html">落とし穴.load（）および.get（）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>