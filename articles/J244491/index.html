<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤽🏼 🏐 🤙 完璧なファイルストレージを見つける 👩🏾‍🎨 🎏 👨‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="先ほど 、スケーラブルな読み取り専用ファイルシステムのプロトタイプを見てきました。 提案されたアーキテクチャを使用して、1つの物理ディスク内のファイルにアクセスする場合と同等の保証されたアクセス時間で、任意の容量のファイルシステムを構築できることを示すことができました。 
  
 次に、このようなア...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>完璧なファイルストレージを見つける</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"><img src="https://habrastorage.org/files/924/599/415/924599415dd64a0b8c896e38d32567e4.PNG">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://habrahabr.ru/company/2gis/blog/198564/">先ほど</a> 、スケーラブルな読み取り専用ファイルシステムのプロトタイプを見てきました。 提案されたアーキテクチャを使用して、1つの物理ディスク内のファイルにアクセスする場合と同等の保証されたアクセス時間で、任意の容量のファイルシステムを構築できることを示すことができました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、このようなアプローチが汎用ファイルシステムの構築に役立つかどうかを調べてみます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     著者が分散ファイルシステムの分野で認められた専門家ではなく、人類をさらに別の素晴らしい発明に満足させることを意図していないことを事前に注目する価値があります。 むしろ、私はコミュニティに健全なアイデアを示し、議論でそれを弱体化させたいと思います。 さらに、公開討議は特許保護からアイデアを救うことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> それでは、主な結論を思い出しましょう。 </h4> プロトタイプの読み取り専用システムを構築するときに作成されました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> ファイルシステムの内容は2つの部分に分けることができます 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 実際のデータ、ファイルの内容 </li><li> ファイルの場所と関連情報を記述するメタデータ </li></ul></li><li> メタデータはファイルシステム構造の一部であってはならず、他のデータに関する単なるデータです。 ユーザー定義のファイルシステム構造を担当する特別なメカニズムはありません。 </li><li> ファイルシステムを説明するには、ツリーによる表現が適しています。キーはパス、値はファイルデータ（および属性からの付加）です。 </li><li> メタデータは簡単に圧縮されます。 </li><li> データとメタデータは、物理構造が異なるメディアを含むさまざまなメディアに保存できます。 そのため、比較的小さなサイズのメタデータをより高速で高価なデバイスに配置し、実際にファイルデータをよりシンプルなものに配置できます。 </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 今私が達成したい目標： </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> 容量別のモジュール性（スケーラビリティ） </li><li> パフォーマンスのモジュール性 </li><li> 外部インターフェースのモジュール性 </li><li> データ量の増加に伴うパフォーマンスの対数低下 </li></ol> モジュール性とは、ボトルネックになった場合に対応する容量をブロックごとに増やす能力を意味します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般に、理解できないトポロジの物理ネットワークに基づいたデバイスの分散ネットワークについては話していません。 外見上は、すべてが汎用ファイルシステムの機能を実装する単一のデバイスのように見えると想定されます。 そして、内部構造は純粋に内部の問題です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 問題について少し </h4>  。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     モジュール性は優れていますが、パフォーマンスを対数的に低下させながら、最後から始めましょう。 これは、バランスの取れたツリーの使用を意味します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ツリーは、よく知られた理解可能な構造であり、DBMSおよびファイルシステムで長い間使用されてきました。 バランスの取れたツリーの間違いない利点は、ディスクスペースの許容可能な使用率を維持しながら、劣化することなく拡大および縮小できることです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この場合、ファイルシステムはツリーであり、キーはファイルへのパスであり、値はその属性とファイルの本体です。 さらに、本文はBLOB'aの類似物であり、異なるアドレス空間、たとえば異なる記憶媒体に配置できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初の衝動はそれだけでした-しかし、「スーパーページ」を作成した場合、その「スーパーページ」は、Bツリーで発生するのと同様に、オーバーフロー時に論理的に2つに落ちる自律ディスクサブシステムです。 完了していない場合、2つのスーパーページが論理的に1つにマージされ、不要なディスク領域が予約に戻ります。 スーパーページ内の遷移は比較的安価であると想定されており、その間の遷移は高価です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     残念ながら、額に実装されているため、このようなスキームは実行できません。 説明はかなり退屈ですが、必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ツリーとは、ページングディスク領域を意味します。 ページが相互にリンクしたら、ページ識別子が存在する必要があります。 ページ識別子は、ファイル/デバイス内のオフセットに簡単に変換できる番号です。 識別子スペースは1次元です。ページがディスクのヒープ上にある場合でも、これらのデバイスのアドレススペースをどのように表示するかを事前に（場合によっては暗黙的に）示す必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これから何が続きますか？ 一方では、ファイルシステムに書き込むとき、ファイルパスの1次元の順序を処理し、これらのパスを制御しません。ユーザーは自由にファイル/ディレクトリに名前を付けることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一方、ページ識別子の1次元空間があり、その順序はファイル作成のシーケンスに何らかの関係があります。 また、この順序を制御しません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ファイルツリーの走査順序と、この場合に読み取る必要があるページの順序との間に自然な関係はありません。 もちろん、たとえばアーカイブから解凍するときに相関関係が発生する可能性がありますが、そのような接続に依存することはほとんど合理的ではありません。 そして、論理的に近い情報が物理的に強く分離されている（リンクの局所性が壊れている）状況は非常に正常であり、非常に可能性が高いです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは、挿入によって構築されたテストBツリーを任意の順序でトレースすると、ページの読み取りのフェーズ図がどのようになるかを示しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/0ce/59a/b85/0ce59ab85ded48088c34529d5b6bc03e.PNG" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>同じく図。</b>  <b>1</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     横座標-現在読み込まれているページの番号、縦座標-最後に読み込まれたページ。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そして-バッファドライブである「サンプ」を通過した同じデータを含むツリー。オーバーフローすると、書き込み前にデータが書き込まれます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/3cb/978/cb9/3cb978cb910b4eec89dea44ac9be36eb.PNG" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図2</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     理想的には、挿入順序が自然なキーの順序と一致する場合、対角線ができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ファイルシステムのメタデータを記録する場合、「セトラー」の使用は不可能であり、ツリーに記入するとき、ページは最初のオプションに従って割り当てられます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは何を脅かすのですか？ スーパーページをカットするときが来ると、難しい選択に直面するという事実： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> または、ページの半分の内容を新しいページの空き領域にリロードします。これには多くの時間が必要になる場合があります。 通常のBツリーでは、このような問題はありません。 混み合ったページはすでにRAMにあり、そのコンテンツの一部をコピーすることは、新しいページを割り当てることに比べて明らかに安いです。 </li><li> または、スーパーページを互いに分離することは成功せず、分割するときに大量の水平リンクが存在するという事実に耐えます。 時間が経つにつれて、リンクのローカリティの低下とパフォーマンスの低下につながります。別のページ。 そして、もちろん、私たちは時間とともにそれを支払います。 もちろん、樹木の成長中の生産性の対数的な低下は、樹の存在という事実によって達成されるという事実を自分で慰めることができます。 ツリーを下るときの各ステップが別のスーパーページへの遷移を伴う場合でも、不快な係数がありますが、それでも対数になります。 通常のファイルシステムでディスクキャッシュを無効にし、各呼び出しでデバイスの物理的な操作が必要であるかのように。 しかし、いや、もっと効果的なものが欲しい。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 識別子空間の次元について。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     厄介な質問ですが、なぜページIDスペースは1次元だと思いますか？ 歴史的な理由もありますが、主にすべての人に適しているため、何も変更する理由はありません。 ページの2次元のアドレス指定（ディスクID、ディスク位置）または3次元（ページID、ヒープID、ディスクID、ディスクスペース）を作成することは技術的に難しくありません。 ただし、このような異方性アドレス空間をどう処理するかは明確ではありませんが、技術的な実現可能性の事実は理解されていないままです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     作者が2〜4次元の空間インデックスをページアドレスの1次元空間にもっと効率的に詰め込む方法の問題について困惑する前に、それは面白いです。 次に、ページスペースを2つの1次元スペース（パスとファイル作成順序）を配置するように設計する必要があります。 成功した設計は、「入植者」の役割を果たし、ファイルシステムの局所性を高め、その中の長い/高価な遷移の数を減らすことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> それに取り掛かろう。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     基本要素の説明から始めましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>メタデータツリー</b> -ファイルシステムメタデータリポジトリ。 ツリーのキーはファイルパス、値はファイルメタデータ、およびファイル本体へのリンクです。 ツリーは完全にバランスが取れています。 予想されるツリーの高さは、ページに配置できる要素の数によって異なります。 たとえば、これが平均10個の要素である場合、10億のファイルには高さ9のツリーが必要になります（100から5の場合）。したがって、アクセス速度は2倍異なります。 </li><li> <b>ページ</b>はメタデータツリーの要素です。 シートページにはキーとメタデータの両方が含まれ、中間ページにはキーと子ページへのリンクのみが含まれます。 ページへのリンクは、ファイルシステム全体で一意である必要があります。 これを達成する方法を以下で理解します。 ページは、最短の位置決め時間で高速のストレージデバイス（SSDなど）に置かれることが期待されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ツリーのルートページについて個別に説明します。 ツリーが成長するにつれて、ルートページは場所から場所へと移動する可能性があり、どのページが現在ルートであるかをいつでも確認できるメカニズムが必要です。 これは、レジストリの必要性を示しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     通常、ツリーページには少なくとも2つの要素が含まれていると想定されます。 そして、各要素には任意の長さのキーがあります。 これは難しい瞬間です。今のところは説明しません。たとえば、次の事実に基づいて解決策が存在すると仮定します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ページ要素は順序付けられており、ほとんどの場合、共通のプレフィックスが含まれています。 </li><li> このプレフィックスは、上位のページを表示するときに計算できます。 </li><li> パスは簡単に圧縮できます </li><li> 辞書の使用が可能です </li><li> 自分で選択したページサイズ </li><li> 名前とパスの長さに合理的な制限がある場合があります。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li> ファイル<b>の本文は</b>それがすべてであったものです。 他のすべては、この宝石の単なるフレームです。 ページとは異なり、本文へのアクセスはストリーミングが多く乱雑ではないと想定します。 したがって、安価な従来のハードドライブに配置できます。 ボディは複数のフラグメントで構成され、各フラグメントに対してツリー内に独自のエントリが作成されます。  1つの身体の破片は、物理的にできるだけ近くに配置することが重要です。 </li><li>  <b>ドライブ</b> 。  SSD（ページ用）と通常のハードドライブ（HDD）（ファイル本体用）の2つのタイプがあります。  RAIDとして実装されているなど、フォールトトレラントであると想定しています。 ファイルシステム全体で一意の識別子があります。 </li><li>  <b>ストレージモジュール</b> 。 上記の「スーパーページ」と呼ばれるもの。 ページとファイル本体の両方で動作するように設計されています。 したがって、2種類のディスクで構成されます。 同時に 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> モジュールには、これらのボディのフラグメントが含まれており、それらのページへのリンクが含まれています。 この意味で、それは自律的です。 </li><li> ファイルシステム全体で一意の識別子があります。 </li><li> モジュールは、両方のタイプの異なる数のディスクで構成できます。 </li><li> 空きディスクのプールがあると想定されます。空きディスクのプールから、モジュールが満杯になるにつれてそれらをすくい取ることができます。 </li><li> このプールはすべてのモジュールに共通である可能性があり、ストレージモジュールでディスクを切り替えるためのメカニズムが必要です。 または、別の極端なオプション-モジュールは特定の数のディスクをリザーブに保持し、リザーブが切れるとシグナルを送り、その後ディスクを「手動」で接続できます。 そして、おそらくいくつかの中間オプション。 </li><li> ある時点で、いずれかのタイプのサービス対象ディスクの数が終了し、ストレージモジュールがいっぱいになります </li></ul></li><li>  <b>エグゼクティブモジュール</b> -ツリーでの作業を実装します。 また、ファイルの本体で対応する作業を実行します。 どのストレージモジュールが配置されているかに関係なく、ページおよびデータの要素を検索、追加、削除、および変更できます。 したがって、分散トランザクションマネージャの役割を引き受けます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ファイルシステムがいっぱいになる様子を見てみましょう。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 特定のディレクトリにある名前のファイルを作成するようにエグゼクティブモジュールに依頼するとします。 </li><li> エグゼクティブモジュールは、グローバルトランザクションを作成します。 </li><li> また、キー-完全なファイル名を準備し、新しいレコードをツリーに挿入しようとします。 もちろん、このレコードにはファイルのメタデータ（ホスト、権利など）も含まれますが、簡単にするためにそれらについては説明しません。 </li><li> ルートページの場所に関する情報はよく知られています。 </li><li> それを減算し、キーに従ってサブページのID（ある場合）を見つけます。 </li><li> 各ページは、ある種のディスクに配置され、そのディスクはある種のストレージモジュールに属します。 モジュールおよびディスクの識別子とディスク上の位置がページ識別子を構成する場合、それは論理的です。 </li><li> したがって、サブページのIDから、エグゼクティブモジュールは、どのディスクのどのページにどのストレージモジュールを使用するかを認識します。 </li><li> このページを引くなど。 再帰的にシートページに移動します </li><li> シートページで、新しいレコードの場所を見つけて挿入しようとします。 これを行うには、対応するストレージモジュールから記録するためにキャプチャする必要があります。 なぜローカルトランザクションが必要なのか </li><li> シートページに新しいエントリ用の十分なスペースがない場合があります。 この場合、予想どおり、新しいページを作成し、古いページのコンテンツをほぼ均等に共有します。 同時に 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 同じストレージモジュールに新しいページを作成するのは論理的です。 モジュールは適切なドライブを選択し、そのページを作成します </li><li> 読み取りページのスタックを1ステップ上に移動し、新しく作成されたページに対応するレコードを上位ページに挿入しようとします。 </li><li> これを行うには、ストレージモジュールで記録するためにキャプチャする必要があります </li><li> このページもオーバーフローする可能性があり、次のステップに進む必要があります。 ツリーの高さと新しいルートページの作成まで続きます。 </li></ul></li><li> その結果、新しいレコードを挿入すると、グローバルトランザクションと一定数のローカルトランザクションができます。 挿入を修正するには、リソースマネージャー（RM）がストレージモジュールとレジストリであり、トランザクションマネージャー（TM）が実行モジュールである<a href="https://ru.wikipedia.org/wiki/XA_%25D2%25F0%25E0%25ED%25E7%25E0%25EA%25F6%25E8%25E8">XAトランザクション</a>などの2フェーズコミットメカニズムが推奨されます </li><li> なぜなら いくつかのエグゼクティブモジュールの並列操作について説明しているのではなく、XA +モデルが適用可能です。  CRM（通信リソースマネージャー）の役割を誰が引き受けるかという問題は未解決のままです。 ほとんどの場合、レジストリを保持している人 </li><li> 新しいページを作成すると、シートページストレージノードがいっぱいであることが判明する場合があります。 この状況での選択はわずかです。新しいストレージモジュールを作成するか、既存の未使用のモジュールに固執します。 新しいモジュールの作成は危険であり、かなり高価なリソースであり、その数は物理的に制限されています。 </li><li> 未使用のストレージモジュールのリストについては、システムレジストリに問い合わせることができますが、レジストリは現在のリクエストのコンテキストについて何も知らず、ランダムモジュールのみを発行できます。 これは、混雑したモジュールから出てくる新しいページが他のすべてのモジュールに沿ってクリープし始め、データの局所性を破壊し、全体的なパフォーマンスを阻害するという事実に満ちています。 私が避けたいシナリオ。 </li><li> 一方、現在のリクエスト自体よりも、現在のリクエストのコンテキストをよく知っている人はいません。 読み取りページのスタックがすでにあり、それぞれが何らかの種類のストレージモジュールに割り当てられています。 したがって、より高いモジュールの中から新しいモジュールを見つけることができます。 </li><li> それでも、システムレジストリに連絡してモジュールのオーバーフローをチェックする必要があります </li><li> その中に埋められていない（またはすべてのページが同じモジュールにある）場合は、さらに掘り下げることができます。 スタック上の以前に使用されたストレージモジュールへのリンクを見つけることを期待して、スタック上のすべての非リーフページのコンテンツを表示します。 複数のリンクがある場合、最も近いものを選択します。 </li><li> さらに先へ進むこともできますが、そのためにはページの構造を変更する必要があります。 使用済みのストレージモジュールに関するスタック情報を配布します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> リーフ以外の各ページには、ページ自体とそのすべての子孫が配置されているストレージモジュールのリストを保存するように強制します </li><li> 新しいページを作成し、ツリー構造が確立された後（可能なリバランス後など）に、このページのストレージモジュールに関する情報を前のスタックに配布します。 </li><li> このモジュールがすでに登録されている場合、何も起こりません。 それ以外の場合は、レコードの上位ページをキャプチャし、それらに新しいモジュールを登録する必要があります。 再びツリーのバランスを取り直す必要がないことを確認する方法、質問は開いています。おそらく、登録済みモジュールの数を合理的な数に制限し、それらのための場所を予約する必要があります </li><li> ここで、どのページに新しいページをバインドするか（より正確には、どのストレージモジュールから新しいページを要求するか）が質問されると、スタックを上って登録済みリストで適切なモジュールを探します。 </li></ul></li><li> これで解決しない場合は、システムに連絡して新しいストレージモジュールを作成する必要があります。 </li><li> そのため、密かに、ページアドレスの1次元空間を取り除きました。 ページ識別子には最大3つの次元（モジュールID、ディスクID、ディスク上の位置）がありますが、ディスク識別子を捨てて、自分でアドレスを決定するタスクをストレージモジュールに割り当てると、2つで対応できます。 それは何を与えますか？ 柔軟性。 たとえば、ある地域で突然木が勢いよく成長し始めた場合、アドレスは単純に広がり、その地域性を維持します。  1次元の場合、これを達成するのははるかに困難です。 </li><li> さて、ツリーエントリを作成しました。ファイルの本文はどうでしょうか。 状況はそれらにより簡単です。 体は互いに独立しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ファイルストレージモジュールは、リンクがこの本文を指すページとともに選択されます。 </li><li> ページと同様に、本体識別子はストレージモジュールID、ディスクID、およびディスクスペースで構成されます。 </li><li> 疑いもなく、ストレージモジュールには、ディスクメモリのディストリビューターが必要です。ディストリビューターは、すべてまたはマップされたドライブごとに1つずつ必要です。 </li><li> このメモリディストリビュータがどのように配置されるかは、現時点では重要ではありません </li><li> ただし、ファイルボディの操作は、リソースマネージャーのレベルで分散トランザクションをサポートすることが重要です。 </li><li>  1つの微妙な点に注目する価値があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> シートのページが一杯で、それを見ようとしているとしましょう。 </li><li> そのため、ページの断片がさまざまなストレージモジュールに分類されました。 </li><li> しかし、このページにはすでにいくつかのレコードがあり、古いモジュールのディスクを指していました。 </li><li> あるモジュールから別のモジュールにファイルを取得して転送すると便利です。 しかし、これらのファイルはかなりのサイズになる可能性があり、転送に時間がかかる可能性があります。 </li><li> リーフページが別のストレージモジュールのファイルドライブを指すようにします。  NUMAのようなものになります。ストレージモジュールから外部ファイルディスクへのアクセスは可能ですが、費用がかかります。 </li><li> 幸いなことに、これは比較的まれなケースであり、全体的なパフォーマンスに大きな影響を与えることはできません。 </li><li> そして、あなたはそのような過剰の結果を修正するために木の上と背景を歩く悪魔を想像することができます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 全体像を見てみましょう。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/b27/306/1d5/b273061d544d414fa1c31dac5ae6e67c.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> 外部インターフェース </li><li> 入出力モジュール（IO）。 外部からの要求を受け入れ、エグゼキュータを指定し、応答を待って結果を送信します。 それらの数を増やすことにより、外部帯域幅をスケーリングします </li><li>  IOモジュールとエグゼクティブモジュールが通信する内部バス（ローカルイーサネットなど）。 </li><li> 別の内部タイヤ。 それを通じて、ストレージモジュールはエグゼクティブモジュールと通信します。 </li><li> エグゼクティブモジュール。ツリーを使用して作業を実装し、分散トランザクションを管理します。 それらの数を増やすことにより、クエリの並列実行の可能性を拡大します。 </li><li> ストレージモジュール。 彼らの助けを借りて、システム全体の容量を拡張します。 </li><li> システムレジストリ </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 現実の世界に目を向けて、説明されている問題が実際にどのように解決されるかを見てみましょう。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>GlusterFS</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事のトピックに最も近いものとして<a href="http://en.wikipedia.org/wiki/Distributed_hash_table">DHT</a>モードを検討してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  GlusterFSに<b>は専用のメタデータサービスがありません</b> </li><li> ファイルは、これらのサーバーのファイルシステムを使用してサーバー間で分散されます（すべての長所と短所があります） </li><li> ファイル構造はサーバーファイルシステムに投影されます（Gluster用語ではブリック） </li><li> 分散ストレージは<a href="http://en.wikipedia.org/wiki/Consistent_hashing">シリアルハッシュ</a>テクノロジーに基づいていると主張されていますが、これはある種の退化したケースです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 完全なファイル名は、32ビット値を生成するハッシュ関数を介して渡されます </li><li> 範囲は事前に32ビットです。システムをセットアップするとき、範囲に分割されます。それぞれが特定のサーバーを指します。 </li><li> 範囲は手動で調整できますが、この場合、あなたは何をしているかを正確に理解する必要があります </li><li> 自動分割は、0xffffffff /（サーバーの数）で分割して行われます </li><li> ファイルを作成すると、サーバー番号が計算され、ファイルはこのサーバーのファイルシステムに作成されます </li><li> ファイルを検索するとき、 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> サーバーは、どこにあるべきかに関係なく、同様の方法で計算されます </li><li> このサーバーからファイルを読み取ろうとしました。 </li><li> 試行が失敗した場合、そのようなファイルはありません 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> このファイルを検索するための要求がシステムのすべてのサーバーに送信されます </li><li> それらのいずれかでファイルが見つかった場合、リンクはソースサーバー上に作成されます-目的の名前で長さがゼロのファイルで、現在のサーバーを示すsticky-bitとxattrがオンになっています </li><li> 次回このファイルを検索するときに、ブロードキャストリクエストを行う必要はありませんが、すぐに目的のサーバーを使用します </li></ul></li></ul></li></ul></li><li> ファイルが外部サーバー上で終了するのはどうしてですか？ たとえば、このファイルの通常のサーバーがいっぱいです。 または、新しいサーバーを追加した後など、ハッシュ値の範囲が再配布されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li> 新しいサーバーを追加すると、順次ハッシュの1 /（新しいサーバーの数）ハッシュ値の共有が無効になります。 しかし、Glusterの場合、ハッシュ範囲を「単純な」方法で配布するため、このシェアは大幅に大きくなる可能性があります </li><li> これはすべて、時間の経過とともにストレージが劣化し、適切な状態に維持するために特別な努力が必要になるという事実につながります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  'fix-layout'-ノードを通過し、リンクからアクセス可能なファイルをドラッグアンドドロップします </li><li>  「移行」-各ファイルごとにサーバーが計算され、必要に応じてサーバーへの転送が試行されます。 非常に高価な手順。 </li></ul></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ソース： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://www.gluster.org/">http://www.gluster.org/</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://cloudfs.org/index.php/2012/03/glusterfs-algorithms-distribution/">http://cloudfs.org/index.php/2012/03/glusterfs-algorithms-distribution/</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://people.redhat.com/ndevos/talks/Gluster-data-distribution_20120218.pdf">http://people.redhat.com/ndevos/talks/Gluster-data-distribution_20120218.pdf</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>スイフト</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Swiftはユニバーサルファイルシステムではなく、オブジェクトの<a href="https://ru.wikipedia.org/wiki/Amazon_S3">S3互換</a>リポジトリです。 オブジェクトはトリプル「/アカウント/コンテナ/オブジェクト」で記述されます。アカウントはユーザーを指し、コンテナはオブジェクトをグループ化するユーザー定義の方法であり、オブジェクトはパスそのものです。 </li><li> ファイルシステムをシミュレートするために、sqlite3データベースにデータを保存するコンテナーとアカウント処理サーバーが使用されます </li><li> オブジェクトストレージはGlusterFSのストレージと似ていますが、ローカル用語ではこのリングは正直な順次ハッシュを使用します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/251/4db/6d4/2514db6d4bb24126a21bb52a707e2626.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ファイル名は160ビットSHA-1ハッシュ値を生成します </li><li> データストレージ（この例では）には4つのノードを使用します </li><li> ハッシュキー値の範囲（この例では）は32で除算されます。  32セクションで十分だと判断しました </li><li> 各セクションは独自のノードに割り当てられ、与えられた重みに従って不均一な分布になる可能性があります </li><li> したがって、ハッシュ値によって、セクションの番号を見つけ、そこからストレージノードの番号を見つけます </li><li> ストレージノードは、ネイティブファイルシステムを使用してファイルを保存します（xattrsをサポートすることが重要です） </li><li> 次に、システムに5番目のノードを追加することにした場合、 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 各ノードのセクションの5番目の部分を新しいノードに再割り当てします </li><li> ハッシュ値がこれらの再割り当てされたパーティションの範囲内にあるデータを新しいノードに移行します。  8（つまり32/4）セクションは5つにあまりうまく分割されていませんが、大きな値では粒度はそれほど目立ちません。 </li></ul></li><li> 場合によっては、データの移行は非常にコストのかかる手順であり、テラバイトのディスクをいっぱいにするだけでも数時間かかります。 しかし、アーキテクチャのフレームワーク内での移行なしでは、シーケンシャルハッシュを使用しても、何もありません。 </li></ul></li><li> データ複製の目的で、ゾーンの概念が導入されています-他のゾーンからのユニット障害に依存しないストレージユニット。 デフォルトでは、各セクションは3つのゾーンで構成されています。 ファイルの書き込み時にすべてのゾーンが動作している必要はありません。欠落しているノードが増加した後、データはそれらに自動的に複製されます。 </li><li> コンテナサーバーとアカウントサーバーにも独自のリングがあり、それらのsqlite3データベースもストレージノードに格納および複製されます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ソース： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://docs.openstack.org/developer/swift/">http://docs.openstack.org/developer/swift/</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://habrahabr.ru/company/mirantis_openstack/blog/176195/">http://habrahabr.ru/company/mirantis_openstack/blog/176195/</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="https://julien.danjou.info/blog/2012/openstack-swift-consistency-analysis">https://julien.danjou.info/blog/2012/openstack-swift-consistency-analysis</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>セフ</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 専用のメタデータサービスがある-Cephの用語でいくつかのメタデータストレージ（MDS）で構成されるメタデータクラスター </li><li> データはObject Storage Data（OSD）に保存されます </li><li>  ODSおよびMDSにデータを保存する </li><li>  <b>ファイルシステム構造はMDSに明示的に記述され</b>ており、ファイルシステムへの変更はログに記録され、ODSに複製されます。 </li><li>  MDSは主にキャッシュで動作し、最後の手段としてのみODSでデータを読み取る必要があると考えられています。 したがって、ある時点でMDSがオーバーフローします。 </li><li> 混雑したMDSスプリット。 これを簡単に行うために 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> こんな感じ <img src="https://habrastorage.org/files/a63/232/aa7/a63232aa7bb94586becf1cb73a85db6c.png" alt="画像"></li><li> 各MDSは、時間の指数関数的減衰カウンターを使用して、そのサブディレクトリの人気を測定します。 ディレクトリを使用する各操作は、ディレクトリ自体およびこのMDSのすべての上位ディレクトリでこのカウンタを増やします </li><li>  MDSがオーバーフローすると、適切なサブ階層が解決され、別のMDSに転送されます </li><li> これは、トランザクションメカニズムを使用してユーザーに見えないように行われます。 </li><li>   - ,       ,        MDS </li></ul></li><li>     ODS   <a href="http://ceph.com/papers/weil-crush-sc06.pdf">CRUSH</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>   ,      ,  ,    ( )  . </li><li>   ,        . </li><li> ,       ,          .     ethernet ,     .        ,    . </li><li>  , ,  —           . </li><li> ,    CRUSH      ,        ODS,        ,           . </li><li>        ,          . </li></ul></li><li>   Ceph    (CephFS)    S3  : <a href="http://ceph.com/papers/weil-rados-pdsw07.pdf">RADOS</a> . Ceph S3  CephFS       .  RADOS  SWIFT     —    CRUSH. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ソース： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://ceph.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://ceph.com/ </font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://ceph.com/papers/weil-ceph-osdi06.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://ceph.com/papers/weil-ceph-osdi06.pdf </font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://ceph.com/papers/weil-mds-sc04.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://ceph.com/papers/weil-mds-sc04.pdf </font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://ceph.com/papers/weil-crush-sc06.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://ceph.com/ papers / weil-crush-sc06.pdf </font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://ceph.com/papers/weil-rados-pdsw07.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://ceph.com/papers/weil-rados-pdsw07.pdf</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー定義のファイルシステム構造に依存することに関連する既存のソリューションで客観的な問題を回避しようとする人々を見るのは興味深いことです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CephFSは、子孫の累積的な人気をカウントすることに基づいて、バランスを再調整しました。このようなソリューションでは、ツリーのバランスが保証されません。たとえば、一方向（たとえば、右下）にのみ成長するツリーは不均衡のままになります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CephFSのもう1つの目に見える問題は、人気の広がりです。</font><font style="vertical-align: inherit;">実際、人気に影響するファイルアクセスはすべてルートにまで拡張する必要があります。</font><font style="vertical-align: inherit;">同時に、人気を更新する前に、レコードごとに対応するディレクトリとジャーナリングのコストをキャプチャする必要があります。</font><font style="vertical-align: inherit;">少し無駄が多いのですが、ツリーの最上部全体がメモリ内にあり、これらのロックが比較的安価であるという事実により、状況は救われます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、S3互換システムでは、管理上のプレッシャーによってツリーのバランスが強制されていることがわかります-常に3つのディレクトリがあります。</font><font style="vertical-align: inherit;">ほとんどの実際のケースでは、これで十分か、または適応できます。</font><font style="vertical-align: inherit;">ただし、手ではなく木製の脚とフックに適応できます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> まとめると。 </font></font></h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提案されたアプローチと既存のソリューションの違いは何ですか？</font><font style="vertical-align: inherit;">論理的な整合性と概念の明確さ。</font><font style="vertical-align: inherit;">データとメタデータの分離は「それ自体であり、新しいものではありません」（C）。</font><font style="vertical-align: inherit;">ただし、ファイルシステムのユーザー構造へのバインドは拒否しました。</font><font style="vertical-align: inherit;">また、提案された分散トランザクションメカニズムは、システム容量の変化を伴う避けられないデータ移行よりも望ましいようです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者は、この作業の準備に協力してくれたAlexander Artyushin（DataEast）、Alexei Knyazev（2GIS）、およびAlexei Medvedchikov（2GIS）に感謝しています。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事の見出しで、c.f。からのフレーム。</font><font style="vertical-align: inherit;">「インディアナ・ジョーンズ：失われた箱舟の捜索」</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J244475/index.html">RTKLib-後処理におけるGPS / GLONASSセンチメートル精度</a></li>
<li><a href="../J244479/index.html">面白いバグ</a></li>
<li><a href="../J244485/index.html">Tor出力ノードをアンロードし、結果のコンテンツを分析します</a></li>
<li><a href="../J244487/index.html">スウィフトの多くの顔</a></li>
<li><a href="../J24449/index.html">インターネットタブレットのHackintosh</a></li>
<li><a href="../J244497/index.html">動的メモリ割り当てのないファクトリメソッド</a></li>
<li><a href="../J2445/index.html">POF：ロシアでは、2630万人のインターネットユーザー</a></li>
<li><a href="../J244507/index.html">画質を向上させるヒストグラム均等化</a></li>
<li><a href="../J244509/index.html">1C-ToolsプロジェクトはU.M.N.I.Kでのセレクションの勝者になりました。</a></li>
<li><a href="../J24451/index.html">コメントするかコメントしないか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>