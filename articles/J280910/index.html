<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤾🏽 🗒️ 🌂 MyChatのNetworkSoftwareSolutionsの脆弱性（修正済みおよび未修正） 📥 👔 ↪️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pandion（2013年4月10日にリリースされた最新のバージョン2.6.114）のような素晴らしいjabberクライアントの開発が中止されたため、私のケースでメッセージングに使用されたjabber OpenfireサーバーとPandionクライアントを接続するための賢明な代替手段を見つけることが...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>MyChatのNetworkSoftwareSolutionsの脆弱性（修正済みおよび未修正）</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/280910/"> Pandion（2013年4月10日にリリースされた最新のバージョン2.6.114）のような素晴らしいjabberクライアントの開発が中止されたため、私のケースでメッセージングに使用されたjabber OpenfireサーバーとPandionクライアントを接続するための賢明な代替手段を見つけることが決定されました小さな組織内。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Pandionが代表するクライアントはその機能と使いやすさに満足していましたが、最新バージョンではファイル共有が失われ、検出されたバグの数が気づき始めました：OSのテーマを変更したり、リモートコントロールソフトウェアを使用してPCにリモート接続したりすると、プロセッサの負荷が高くなります、msxml6.dllライブラリへのリンクで頻繁にクラッシュする、Internet Explorerの新しいバージョンのエンジンがサポートされていないために一部の機能が動作しない、他のユーザーからのメッセージが受信されないなどの問題  tnye詳細。 原則として、新しいバージョンのOpenFireをインストールして、たとえばMirandaなどの代替クライアントの使用を開始すれば十分ですが、それ以前はNetworkSoftwareSolutionsのウクライナの開発者によるMyChatネットワークチャットに興味がありました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      MyChatを詳しく知る過程で、いくつかの脆弱性が発見されました。 最初の脆弱性は、サーバー上のFTP認証の機能にあります。  MyChatクライアントでは、FTPプロトコルを使用して、クライアント間で直接データを受信および転送します。サーバーでは、サーバーを介したクライアント間のみのデータ転送（対応する設定が有効な場合）、個人的に投稿されたデータへの共有アクセスおよびパブリックアクセスの組織化に使用されます。  FTP経由で受信したデータを保存するには、デフォルトでサーバーの場合は一般プロファイルに、クライアントの場合は個人プロファイルにあるフォルダーが使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      MyChatサーバーにはFTP認証にいくつかの違いがあり、それぞれを説明することはできません。 各MyChatユーザーには一意のUIN識別子があり、アカウント作成時に自動的に割り当てられます。番号は1から始まります。MyChatのドキュメントによると、UINとパスワードはFTP経由の認証のユーザー名とパスワードとして使用されます。 、内部プロトコルを使用してクライアントを認証するために使用されます（十分に文書化されており、一般公開されています）。  FTPを介してMyChatサーバーと対話するには、それをサポートする任意のアプリケーションを使用できます。設定でパッシブ交換モードを有効にし、MyChatサーバーのIPアドレスと、ポート20000（デフォルト）、ユーザー名とパスワードとしての数値UINを指定する必要があります。 このような認証パラメーターを使用してサーバーに接続すると、個人フォルダーが読み取りおよび書き込みモードで使用可能になります。 このようなアクセスに加えて、開発者は、読み取りモードでサーバー上の個人フォルダーへのアクセスを誰にでも提供します。 これを行うには、パスワードとしてpublicを指定します。  MyChatにはActive Directoryと統合する機能もあります。これにより、ドメインユーザーアカウントをインポートし、それらを承認に使用できます。 たとえば、FTPプロトコルを介したドメインアカウントの承認方法は、どこにも指定されていません。  Wiresharkネットワークプロトコルアナライザーの助けを借りて、認証のために、ドメインユーザーのインポートに割り当てられたUINからペアが使用され、ログイン名と文字列* DomainUser *で構成されるパスワードが使用されることがわかりました（たとえば、ユーザー名がuser1の場合、そのパスワードはuser1 * DomainUser *）。 したがって、MyChatでドメインアカウントを使用すると、サーバー上のデータが不正に削除または作成される可能性があります。 開発者には脆弱性が2014年7月27日に通知されましたが、現時点（以降、2016年4月4日、2016年3月23日に入手可能なMyChat 5.18.0の最新バージョン）の脆弱性は修正されていません。 サーバー上で説明されているFTP承認の3つの方法はすべて、以下で説明する脆弱性のいずれかでも使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2番目に発見された脆弱性は、別のユーザーから受信したファイルが保存されたフォルダーへのフルアクセスを取得する機能です。 この脆弱性は、ユーザーの1人が別のユーザーから少なくとも1つのファイルを受信した瞬間から作用を開始し、クライアントの再起動後に機能しなくなります。 脆弱性が有効になった後、それを利用するためには、送信者のUINをログインおよびパスワードとして使用して、ポート10000（デフォルト）のパッシブ交換モードでFTPを介して被害者クライアントに接続するだけで十分です。 したがって、MyChatのUIN識別子のおおよその範囲とクライアント被害者のIPアドレスがわかっている場合、脆弱性がトリガーされるまで、2、2、3、3などの形式のユーザー名とパスワードを使用して定期的にログインを試みることができます。 開発者には2014年7月27日の脆弱性が通知されましたが、現時点では脆弱性は解決されていません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      MyChatで見つかった3番目の脆弱性は、FTP経由で接続するときにルートフォルダの制限をバイパスすることです。 この脆弱性を悪用するには、接続時にリモートディレクトリとして「/ ..」という形式のパスを指定する必要があります。 これにより、1つ上のレベルのフォルダーに移動し、実行された許可の権限に応じて、読み取りモードまたは読み取り/書き込みモードですべてのデータにアクセスできます。 この脆弱性の制限は、接続セッションのネストの第2レベルのフォルダーから戻ることができないことです。 この脆弱性により、MyChatサーバーのログとバックアップ、および送信時にサーバーに接続していなかったユーザーに送信されたデータにアクセスすることが可能になります。 さらに、FTPサーバーフォルダーのルートで特別なオフラインフォルダーが使用可能になり、その中にユーザーのUINを名前として使用するフォルダーがあります。 ユーザーにデータを転送するには、送信者のUINを含むフォルダーをそのUINを含むフォルダーに作成し、ファイルをそのフォルダーに配置するだけで十分です。 クライアントを起動した後、承認されたユーザーの少なくとも1人がファイルを送信すると、このユーザーとオフラインフォルダーのすべてのユーザーからのファイルを受け入れるように求められます。 したがって、MyChatユーザーは感染のリスクがある可能性があります。 クライアントの場合、デフォルトで他のユーザーから受信したすべてのファイルを含むフォルダーが脆弱なフォルダーになります。 判明したように、この脆弱性はFTPプロトコルの実装を担当するコンポーネントの1つの古いバージョンを使用することにより引き起こされました。 開発者は2014年7月27日に脆弱性について通知を受け、2014年7月28日に脆弱性は排除されました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      MyChatの4番目の脆弱性は、ドメイン認証の使用に関するものです。 この脆弱性の本質は、サーバーのアドレス、ドメイン名、およびドメインユーザーを知っており、サーバーに接続する能力も持っているため、攻撃者がこのデータで正常にログインできることです。 攻撃者がレジストリブランチ「HKEY_CURRENT_USER \ Software \ MyChat Client」に文字列パラメーター「Domain」、「IP」、「Port」、「ServerPassword」（空の値）の値を入力するだけで十分です（ただし、これはドメイン認証モードを有効にする文書化された方法です） 、ドメインの名前と一致するローカルアカウントをオペレーティングシステムに作成し、それを使用してログインします。 これで、MyChatクライアントが起動すると、ドメインユーザーに代わってサーバーに正常に接続します。 したがって、MyChatはセキュアなNTLMまたはKerberos透過認証オプションを使用していないと結論付けることができます。 開発者は2014年8月10日に脆弱性について通知を受けましたが、脆弱性はまだ解決されていません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      5番目の脆弱性はMyChatサーバーにあり、使用されるプロトコルのクライアントからcs_hello greetingコマンドを受信する実装のエラーに関連するサービス拒否を引き起こす可能性にあります。 脆弱なバージョンのMyChatサーバーでは、無許可のユーザーから無制限の数のcs_helloコマンドを受け取ることができます。 この場合、MyChatサーバーがサービス拒否攻撃を受けやすいという本質は、クライアントから受信したcs_helloコマンドがサーバーのメモリ消費量を再び増加させることです。  MyChatサーバーは32ビットアプリケーションであるため、オペレーティングシステムによって割り当てられるメモリの量は1.8 GB以内です。 この実験では、サーバーに対する攻撃を成功させるには数百万のcs_helloコマンドを送信する必要があり、これには多くの時間がかかることが示されました。  JSON形式のパラメーターの1つに任意のデータを入力することで、チームのサイズを増やすことができますが、送信されるデータのサイズが大きいため、このような攻撃にも時間がかかります。 ただし、MyChatプロトコルでサポートされているGZIP圧縮を使用することにより、この攻撃を何千回も加速できます。 したがって、65 KBの同じ文字を持つ文字列は、100バイトに圧縮できます。 このようなデータを使用してサーバーに繰り返し送信されるcs_helloコマンドは、RAMの超高速消費につながり、サーバーが内部ニーズにメモリを割り当てられない限界に達し、最終的にパフォーマンスに影響します。 開発者は2014年12月6日に脆弱性について通知を受け、2014年8月12日に脆弱性は排除されました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事から結論を導き出すことができます：開発者はすべての脆弱性にタイムリーに対応せず、それらの一部を長いボックスで削除するのを延期したり、単に無視したりするだけでなく、使用されているコンポーネントの変更を常に監視するわけではありません多くの脆弱性は、セキュリティメカニズムの実装を真に安全にすることをためらうことや怠ofの明確な結果であることに警戒し、イライラさせられます。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J280898/index.html">iOS（iPad）でOfficeアドインをデバッグする</a></li>
<li><a href="../J2809/index.html">TechCrunchは独自のスタートアップカンファレンスを開催します</a></li>
<li><a href="../J280902/index.html">Rust and Swift（3番目、4番目、5番目、6番目の部分）</a></li>
<li><a href="../J280904/index.html">男！（C => D =>錆）</a></li>
<li><a href="../J280906/index.html">月に5回目の国際モバイル会議MBLT16</a></li>
<li><a href="../J280912/index.html">有用なPostgreSQLのトリック</a></li>
<li><a href="../J280914/index.html">プログラマー向けサンドボックス</a></li>
<li><a href="../J280922/index.html">コナミコードまたは行間の読み取り</a></li>
<li><a href="../J28093/index.html">私はプロバイダーです</a></li>
<li><a href="../J280930/index.html">Palantir：ボットネットを検出する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>