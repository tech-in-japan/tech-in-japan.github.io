<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💌 ✌🏿 🚦 IAR環境でのAtmega16 CマイクロコントローラーのプログラミングとJTAGデバッグ、パート2 🍵 🤘🏻 🤾🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="はじめに  
  
 なぜなら 前の記事は興味をそそりました。そして、私が約束したように、この記事は7セグメントインジケータ、統合ADCの使用例について説明します。マイクロコントローラーATmega16。 
  
  
  
  理論的側面  
  
 ADCの例をよく理解するには、この記事を読むこ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>IAR環境でのAtmega16 CマイクロコントローラーのプログラミングとJTAGデバッグ、パート2</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"><img src="https://habrastorage.org/getpro/habr/post_images/242/c4e/448/242c4e448e29e1a3ed48086e250a785a.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> はじめに </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     なぜなら  <a href="http://habrahabr.ru/post/221719/">前の記事</a>は興味をそそりました。そして、私が約束したように、この記事は7セグメントインジケータ、統合ADCの使用例について説明します。マイクロコントローラーATmega16。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 理論的側面 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADCの例をよく理解するには、この<a href="http://habrahabr.ru/post/112913/">記事を</a>読むことをお勧めし<a href="http://habrahabr.ru/post/112913/">ます</a> 。 私たちの場合、すべての例で、サンプリング周波数は10 Hzになります。これは100 msのサンプリング周期に相当します。 なぜなら  Atmega16マイクロコントローラーに組み込まれた10ビットADCを使用するため、量子化レベルの数は1024になります。これは、ポーリングされる各デジタル値の0〜1023の値の範囲に対応します。 すべての例の基準電圧は、外部電圧を使用し、5 Vに等しくなります。入力の基準電圧より上、井戸、および下は、それぞれ表示されません。  ADCの入力電圧が5 Vの場合、1023のデジタル値、0 V（グランド）のデジタル値は0になります。たとえば、3.5 Vの電圧では、（3.5 / 5）= 716に等しいデジタル値が得られます。例では、非線形性、ゼロバイアスの補正は行いません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     温度を測定するには、 <a href="http://www.analog.com/static/imported-files/data_sheets/TMP35_36_37.pdf">TMP36</a>アナログセンサーを<a href="http://www.analog.com/static/imported-files/data_sheets/TMP35_36_37.pdf">使用し</a>ます。 これは、出力電圧が摂氏の温度に正比例する低電圧の高精度温度センサーです。  ATmega16マイクロコントローラに組み込まれた10ビットADCを使用して、この電圧をデジタル化します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> プログラミングとデバッグ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初の例は、000〜999の範囲の数字の3文字7セグメントインジケータへの出力です。インジケータは静的であり、「0」によって制御されます。 つまり 各セグメントは個別のLEDとして制御されていると言えます。  3つの7セグメントインジケータはそれぞれ、個別のポート（ポートA、B、D）に接続されています。 個々のセグメントのピン番号への接続は、ポートに関係なく同じです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">最初の例のプログラムテキスト</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; /* */ //  #define F_CPU 16000000 //  #define UCHAR unsigned char #define UINT unsigned int //   //0 #define SEG_0 ~(0x3f) //1 #define SEG_1 ~(0x06) //2 #define SEG_2 ~(0x5b) //3 #define SEG_3 ~(0x4F) //4 #define SEG_4 ~(0x66) //5 #define SEG_5 ~(0x6d) //6 #define SEG_6 ~(0x7d) //7 #define SEG_7 ~(0x07) //8 #define SEG_8 ~(0x7F) //9 #define SEG_9 ~(0x6F) //A #define SEG_A ~(0x77) //b #define SEG_b ~(0x7c) //C #define SEG_C ~(0x39) //d #define SEG_d ~(0x5e) //E #define SEG_E ~(0x79) //F #define SEG_F ~(0x71) //   #define SEG_MASK (0x7F) //   // //   #define SEG_1DEC_PORT PORTD //   #define SEG_2DEC_PORT PORTB //   #define SEG_3DEC_PORT PORTA //    #define SEG_1DEC_DDR DDRD //    #define SEG_2DEC_DDR DDRB //    #define SEG_3DEC_DDR DDRA /*  */ //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); //     #define SEG_PORTS_INIT() ( SEG_3DEC_DDR |= SEG_MASK );\ ( SEG_2DEC_DDR |= SEG_MASK );\ ( SEG_1DEC_DDR |= SEG_MASK ); //     #define SEG_PORTS_CLEAR() ( SEG_3DEC_PORT &amp;=~ SEG_MASK );\ ( SEG_2DEC_PORT &amp;=~ SEG_MASK );\ ( SEG_1DEC_PORT &amp;=~ SEG_MASK ); //       #define SEG_PORTS_OUT(x,y,z) ( SEG_3DEC_PORT |= ( x &amp; SEG_MASK ) );\ ( SEG_2DEC_PORT |= ( y &amp; SEG_MASK ) );\ ( SEG_1DEC_PORT |= ( z &amp; SEG_MASK ) ); /*   */ //   const unsigned char numbers[16] = { SEG_0, //0 SEG_1, //1 SEG_2, //2 SEG_3, //3 SEG_4, //4 SEG_5, //5 SEG_6, //6 SEG_7, //7 SEG_8, //8 SEG_9, //9 SEG_A, //A SEG_b, //b SEG_C, //C SEG_d, //d SEG_E, //E SEG_F //F }; //   UINT i = 0; /* ** Name: Seg_Write() ** Description:      **    ** Parameters: UINT dec3number 0 - 999 ** Returns: none */ void Seg_Write(UINT dec3number) { //     UCHAR dec3 = 0 , dec2 = 0 , dec1 = 0; // 4    //     dec3number = dec3number % 1000; //    dec3 = dec3number / 100; //   dec3number = dec3number % 100; //    dec2 = dec3number / 10; //    dec1 = dec3number % 10; //    //   SEG_PORTS_CLEAR(); //  3-  //    //  SEG_PORTS_OUT( numbers[dec3], //  numbers[dec2], //  numbers[dec1] //  ); }//end func /* ** Name: main() ** Description:   ,    ** Parameters: none ** Returns: none */ //   void main( void ) { //   //    SEG_PORTS_INIT(); //  Seg_Write(888); //    DELAY_MS(3000); //    i=0; //   for(;;) { //   Seg_Write(i); //  i++; //    ? //    if (i == 1000) i=0; //  100  DELAY_MS(100); }//end for }</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     数値を出力するには、〜（0x3f）の形式の16進コードが使用されます。各コードは、0〜9の範囲の特定の10進数に対応します。 このようなコードごとに、フォームSEG_Xの定義が作成されます。Xは表示される数字です。 これらの16進コードは、配列インデックスの値が表示される数字に対応するように、数値[16]配列に収集されます。 たとえば、数値[3]配列の3番目の要素をポートに書き込むと、数値3インジケーターの出力が提供されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     マクロ関数SEG_PORTS_INIT（）を使用すると、ポートA、B、Dの使用済み出力を出力用に構成できます。  8番目以外のすべてのポートピンが使用されます。 マクロ関数SEG_PORTS_CLEAR（）は、7セグメントインジケーターのポートをクリアし、すべての出力を「0」にリセットします。 このマクロ関数は、SEG_PORTS_OUT（x、y、z）とともに、マスクと選言を組み合わせて3つすべてのポートに値を書き込むことで、値が高ビットに損傷を与えることなく安全にポートに書き込まれるようにします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     便宜上、3桁の数字の出力にはvoid Seg_Write（UINT dec3number）関数が使用されます。ここで、dec3numberは表示される3桁の数字です。 関数では、整数/による除算の操作と、除算の剰余％を取得する操作を使用して、30年ごとの数値のそれぞれが選択されます。 その後、各10年の値は数字[decX]配列のインデックスとして使用されます。ここで、decXは3年の1つであり、SEG_PORTS_OUT（x、y、z）を使用して数字の位置に従ってポートに書き込まれます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     プログラムのメインループでは、変数iの値が順次出力され、値999を超えると増分されてゼロになりますifステートメントは、この状態を分析するために使用されます。 変数iの値の出力は、100ミリ秒の間隔で発生します。これは、前の記事で既に説明した遅延マクロ関数DELAY_MS（100）によって提供されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     デバッグ中に、変数iのシーケンシャルな増分、およびこの変数の値を16進コードがSeg_Write（）関数を使用して変換されることを確認できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/f6c/568/96f/f6c56896ffcf348a68cfae4d66306d28.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2番目の例は、統合ADCを使用しています。 アナログ信号は7番目のチャネルに接続され、その入力はポートAの7番目のピンにそれぞれ接続されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">2番目の例のプログラムテキスト</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; /* */ //  #define F_CPU 16000000 //  #define UINT unsigned int /*  */ //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); /*   */ // -  UINT ADC_Result = 0; /*  */ //   void main( void ) { //   //  // 7-   D   DDRD_DDD7 = 1; // 7-   D   "0" PORTD_PORTD7 = 0; //  // 7-   A   DDRA_DDA7 = 0; //     PORTA_PORTA7 = 0; ADMUX_MUX0 = 1; //  ADMUX_MUX1 = 1; ADMUX_MUX2 = 1; ADCSRA_ADEN = 1; //  ADCSRA_ADPS0 = 1; //   16  / 128 = 125 ADCSRA_ADPS1 = 1; //    50-200 ADCSRA_ADPS2 = 1; //  13   125 13 / 125000 = 104 //   for(;;) { //     _NOP(); // 7-   D  "0"  "1"   "1"  "0" //    PORTD_PORTD7 ^= 1; // - ADCSRA_ADSC = 1; // - ? //  (104 ) while (ADCSRA_ADIF == 0); //     _NOP(); //  - ADC_Result = ADC; // //ADC_Result = ADCL; //   //ADC_Result += (ADCH &lt;&lt; 8); //   //  ADCSRA_ADIF=1; //  100  (1/0,1  = 10  -  ) DELAY_MS(100); }//end for }//end main</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この例では、メイン（）関数で、前の記事で既に説明したLEDを設定した後、ポートDの7番目の出力が入力用に構成されます。 このため、DDRD制御レジスタのDDD7ビットは「0」にリセットされます。 その後、PORTAデータレジスタの「PORTA7」ビットを「0」にリセットすることにより、このピンのプルアップ抵抗が強制的に切断されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、ADMUX制御レジスタのMUXxビットに「1」を書き込むことにより、7番目のADCチャネルが選択されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/030/c19/cf4/030c19cf457487f6805a6e5ff3b24fb4.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、ADCSRA制御レジスタのADENビットを設定して、ADCをオンにします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADCSRA制御レジスタポートのADPSxビットは「1」に設定され、ADCが50〜200 kHzの最適な周波数範囲で動作することを保証します（データシートに記載）。  ADPSxビットは、128のプリスケーラー値を提供します。16MHzのクロック周波数での特定の周波数値は、16 MHz / 128 = 128 kHzです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/10b/75f/174/10b75f174cfd73505328b7e008c18dc3.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     必要な設定がすべて完了すると、フラグを使用したAD変換の周期的な順次開始とポーリングが行われます。  LEDは、プログラム操作イベントを示すために使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AD変換は、ADSRA制御レジスタのADSCビットをセットすることにより開始されます。 結果の準備は、この制御レジスタのADIFフラグを設定することにより決定されます。  ADCの選択された周波数で、1回の変換は104μs続きます。  ADIFフラグを設定した後、AD変換の結果（範囲は0〜1023）は、ADCLおよびADCHデータレジスタから読み取ることができます。  AD変換の結果は、ADC_Result変数に書き込まれます。 次に、エントリ「1」でADIFフラグをクリアする必要があります。 ポーリング間隔は100ミリ秒で、10 Hzのサンプリングレートに相当します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     デバッグ中に、ADC設定の正確性をテストしたり、AD変換の結果として得られた量子の値を評価したりできます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/d97/f03/a0c/d97f03a0caec37540e6f6aadff353fd6.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3番目の例もADC調査ですが、追加のマクロ関数を使用しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">3番目の例のプログラムテキスト</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; /* */ //  #define F_CPU 16000000 //  #define UINT unsigned int //     //  #define LED_DDR DDRD #define LED_PORT PORTD #define LED_PIN DDD7 //       #define ADC_IN_DDR DDRA #define ADC_IN_PORT PORTA #define ADC_IN_DDR_PIN DDA7 #define ADC_IN_PORT_PIN PORTA7 //     #define ADC0 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC1 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC2 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC3 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC4 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC5 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC6 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC7 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) //      #define ADC_F_CPU_DIV_2 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_4 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_8 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_16 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_32 (1&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_64 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_128 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) /*  */ //   #define LED_INIT() ( LED_DDR |= (1&lt;&lt;LED_PIN) ); //  #define LED_LOW() ( LED_PORT &amp;=~ (1&lt;&lt;LED_PIN) ); //  #define LED_HIGH() ( LED_PORT |= (1&lt;&lt;LED_PIN) ); //  #define LED_TOG() ( LED_PORT ^= (1&lt;&lt;LED_PIN) ); //    #define ADC_IN_INIT() ( ADC_IN_DDR &amp;= ~(0&lt;&lt;ADC_IN_DDR_PIN) );\ ( ADC_IN_PORT |= (0&lt;&lt;ADC_IN_PORT_PIN) ); //   #define ADC_SET_CHAN(x) ( ADMUX |= x ); //   #define ADC_ON() ( ADCSRA |= (1&lt;&lt;ADEN) ); //   #define ADC_OFF() ( ADCSRA &amp;=~ (1&lt;&lt;ADEN) ); //     #define ADC_SET_CLK_DIV(x) ( ADCSRA |= x ); // - #define ADC_START_CONV() ( ADCSRA |= (1&lt;&lt;ADSC) ); //   - #define ADC_RES_READY() ( ADCSRA &amp; (1&lt;&lt;ADIF) ) //    - #define ADC_FLAG_CLEAR() ( ADCSRA |= (1&lt;&lt;ADIF) ); //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); /*   */ // -  UINT ADC_Result = 0; /*  */ //   void main( void ) { //   //  LED_INIT(); //  LED_LOW(); //  //   ADC_IN_INIT(); //   ADC_SET_CHAN(ADC7); ADC_ON(); //  //   16  / 128 = 125 ADC_SET_CLK_DIV(ADC_F_CPU_DIV_128); //    50-200 //  13   125 13 / 125000 = 104  //   for(;;) { //     _NOP(); //  LED_TOG(); // - ADC_START_CONV(); // - ? //  (104 ) while(!ADC_RES_READY()); //     _NOP(); //  - ADC_Result = ADC; // //ADC_Result = ADCL; //   //ADC_Result += (ADCH &lt;&lt; 8); //   //  ADC_FLAG_CLEAR(); //  100  (1/0,1  = 10  -  ) DELAY_MS(100); }//end for }//end main</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADCの7番目のチャンネルの入力は、マクロ関数ADC_IN_INIT（）を使用して初期化されます。  ADC_IN_DDR、ADC_IN_PORT、ADC_IN_DDR_PIN、ADC_IN_PORT_PINの定義は、出力と、それに応じてADCチャンネルを簡単に変更できるようにします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ビットは、ADMUXチャネル選択制御レジスタで設定され、マクロ関数ADC_SET_CHAN（ADCx）を使用して構成されます。ADCxの引数はチャネル番号を決定します。xは0〜7の範囲で選択されます。 各ADCx定義は、値「0」および「1」が選択されたチャネル番号xに対応するMUXx制御ビットの集合です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADCは、ADC_ON（）マクロ関数によってオンになります。 分周器は、マクロ関数ADC_SET_CLK_DIV（ADC_F_CPU_DIV_x）を使用して選択されます。引数は、ADC_F_CPU_DIV_xの定義の数から選択されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AD変換は、マクロ関数ADC_START_CONV（）によって起動されます。  AD変換の準備は、マクロ関数ADC_RES_READY（）によって決定されます。  ADC_FLAG_CLEAR（）でフラグをクリアします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      4番目の例は、割り込みメカニズムを使用してフラグではなく準備完了イベントをキャプチャするADCポーリングです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">4番目の例のプログラムテキスト</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; /* */ //  #define F_CPU 16000000 //  #define UINT unsigned int /*  */ //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); /*   */ // -  UINT ADC_Result = 0; /*  */ //   void main( void ) { //   //  // 7-   D   DDRD_DDD7 = 1; // 7-   D   "0" PORTD_PORTD7 = 0; //  // 7-   A   DDRA_DDA7 = 0; //     PORTA_PORTA7 = 1; ADMUX_MUX0 = 1; //  ADMUX_MUX1 = 1; ADMUX_MUX2 = 1; ADCSRA_ADEN = 1; //  ADCSRA_ADPS0 = 1; //   16  / 128 = 125 ADCSRA_ADPS1 = 1; //    50-200 ADCSRA_ADPS2 = 1; //  13   125 13 / 125000 = 104  ADCSRA_ADIE = 1; //    //  _SEI(); //   for(;;) { //     _NOP(); // 7-   D  "0"  "1"   "1"  "0" //    PORTD_PORTD7 ^= 1; // - ADCSRA_ADSC = 1; //  100  (1/0,1  = 10  -  ) DELAY_MS(100); }//end for }//end main /*   -*/ #pragma vector=ADC_vect __interrupt void ISR_ADC(void) { //     _NOP(); //  - ADC_Result = ADC; // //ADC_Result = ADCL; //   //ADC_Result += (ADCH &lt;&lt; 8); //   }//end func</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AD変換の結果の準備ができたときに割り込みを有効にするには、ADCSRA制御レジスタのADIEビットを設定する必要があります。 その後、マクロ関数_SEI（）を使用して、すべてのマスクされた割り込みのグローバルな解決を行います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/a5f/0b0/ded/a5f0b0dedf86bda7df77001a69d82d7c.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     プログラムのロジックは、メインループと割り込みハンドラーの準並列動作を提供するスーパーサイクルを備えたシステムである最初の記事で既に説明されています。 メインループでは、AD変換は100ミリ秒の周期で開始します。 約104μsの間隔の後、メインサイクルは、AD変換結果の準備イベントによって割り込み処理のために中断されます。 割り込み処理は、このイベントで呼び出されるISR_ADC（）ハンドラー関数を使用して実行されます。  AD変換の結果は、ハンドラー関数の本体のADCLおよびADCHデータレジスタからコピーされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     デバッグ中に、ADC周辺モジュールの割り込みサブシステムの正しい動作をテストできます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/f65/101/09c/f6510109c9cdfa3dcb96a8c6d8650140.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      5番目の例は、3番目と4番目の例の共生です。 これは、マクロ関数を使用したADC問い合わせです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">5番目の例のプログラムテキスト</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; /* */ //  #define F_CPU 16000000 //  #define UINT unsigned int //     //  #define LED_DDR DDRD #define LED_PORT PORTD #define LED_PIN DDD7 //       #define ADC_IN_DDR DDRA #define ADC_IN_PORT PORTA #define ADC_IN_DDR_PIN DDA7 #define ADC_IN_PORT_PIN PORTA7 //     #define ADC0 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC1 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC2 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC3 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC4 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC5 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC6 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC7 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) //      #define ADC_F_CPU_DIV_2 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_4 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_8 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_16 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_32 (1&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_64 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_128 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) /*  */ //   #define LED_INIT() ( LED_DDR |= (1&lt;&lt;LED_PIN) ); //  #define LED_LOW() ( LED_PORT &amp;=~ (1&lt;&lt;LED_PIN) ); //  #define LED_HIGH() ( LED_PORT |= (1&lt;&lt;LED_PIN) ); //  #define LED_TOG() ( LED_PORT ^= (1&lt;&lt;LED_PIN) ); //    #define ADC_IN_INIT() ( ADC_IN_DDR &amp;= ~(0&lt;&lt;ADC_IN_DDR_PIN) );\ ( ADC_IN_PORT |= (0&lt;&lt;ADC_IN_PORT_PIN) ); //   #define ADC_SET_CHAN(x) ( ADMUX |= x ); //   #define ADC_ON() ( ADCSRA |= (1&lt;&lt;ADEN) ); //   #define ADC_OFF() ( ADCSRA &amp;=~ (1&lt;&lt;ADEN) ); //     #define ADC_SET_CLK_DIV(x) ( ADCSRA |= x ); // - #define ADC_START_CONV() ( ADCSRA |= (1&lt;&lt;ADSC) ); //    #define ADC_INT_ON() ( ADCSRA |= (1&lt;&lt;ADIE) ); //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); /*   */ // -  UINT ADC_Result = 0; /*  */ //   void main( void ) { //   //  LED_INIT(); //  LED_LOW(); //  //   ADC_IN_INIT(); //   ADC_SET_CHAN(ADC7); ADC_ON(); //  //   16  / 128 = 125 ADC_SET_CLK_DIV(ADC_F_CPU_DIV_128); //    50-200 //  13   125 13 / 125000 = 104  ADC_INT_ON(); //    //  _SEI(); //   for(;;) { //     _NOP(); //  LED_TOG(); // - ADC_START_CONV(); //  100  (1/0,1  = 10  -  ) DELAY_MS(100); }//end for }//end main /*   -*/ #pragma vector=ADC_vect __interrupt void ISR_ADC(void) { //     _NOP(); //  - ADC_Result = ADC; // //ADC_Result = ADCL; //   //ADC_Result += (ADCH &lt;&lt; 8); //   }//end func</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     マクロ関数ADC_INT_ON（）は、割り込みを有効にするために使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     必要なすべての例を検討したので、マイクロコントローラーの内部周辺ユニットを操作する既に検討された例に基づいて作成されたデジタル温度計のプロジェクト全体に進みます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">デジタル温度計プログラムテキスト</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;ioavr.h&gt; #include &lt;intrinsics.h&gt; #include &lt;ina90.h&gt; #include &lt;stdbool.h&gt; /* */ //  #define F_CPU 16000000 //  #define UCHAR unsigned char #define UINT unsigned int #define FLOAT_TYPE float //     //   #define LED_DDR DDRD #define LED_PORT PORTD #define LED_PIN DDD7 //      #define F_CPU_DIV_1 (0&lt;&lt;CS02)|(0&lt;&lt;CS01)|(1&lt;&lt;CS00) #define F_CPU_DIV_8 (0&lt;&lt;CS02)|(1&lt;&lt;CS01)|(0&lt;&lt;CS00) #define F_CPU_DIV_64 (0&lt;&lt;CS02)|(1&lt;&lt;CS01)|(1&lt;&lt;CS00) #define F_CPU_DIV_256 (1&lt;&lt;CS02)|(0&lt;&lt;CS01)|(0&lt;&lt;CS00) #define F_CPU_DIV_1024 (1&lt;&lt;CS02)|(0&lt;&lt;CS01)|(1&lt;&lt;CS00) //     #define TCNT0_VALUE 99 //     #define T0_TICK_CNT_LIMIT 10 //       #define ADC_IN_DDR DDRA #define ADC_IN_PORT PORTA #define ADC_IN_DDR_PIN DDA7 #define ADC_IN_PORT_PIN PORTA7 //     #define ADC0 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC1 (0&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC2 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC3 (0&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC4 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC5 (1&lt;&lt;MUX2)|(0&lt;&lt;MUX1)|(1&lt;&lt;MUX0) #define ADC6 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(0&lt;&lt;MUX0) #define ADC7 (1&lt;&lt;MUX2)|(1&lt;&lt;MUX1)|(1&lt;&lt;MUX0) //      #define ADC_F_CPU_DIV_2 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_4 (0&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_8 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_16 (0&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_32 (1&lt;&lt;ADPS2)|(0&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_64 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(0&lt;&lt;ADPS0) #define ADC_F_CPU_DIV_128 (1&lt;&lt;ADPS2)|(1&lt;&lt;ADPS1)|(1&lt;&lt;ADPS0) //   //0 #define SEG_0 ~(0x3f) //1 #define SEG_1 ~(0x06) //2 #define SEG_2 ~(0x5b) //3 #define SEG_3 ~(0x4F) //4 #define SEG_4 ~(0x66) //5 #define SEG_5 ~(0x6d) //6 #define SEG_6 ~(0x7d) //7 #define SEG_7 ~(0x07) //8 #define SEG_8 ~(0x7F) //9 #define SEG_9 ~(0x6F) //A #define SEG_A ~(0x77) //b #define SEG_b ~(0x7c) //C #define SEG_C ~(0x39) //d #define SEG_d ~(0x5e) //E #define SEG_E ~(0x79) //F #define SEG_F ~(0x71) // #define SEG_GRAD ~(0x63) //   #define SEG_MASK (0x7F) //   // //   #define SEG_1DEC_PORT PORTD //   #define SEG_2DEC_PORT PORTB //   #define SEG_3DEC_PORT PORTA //    #define SEG_1DEC_DDR DDRD //    #define SEG_2DEC_DDR DDRB //    #define SEG_3DEC_DDR DDRA /*  */ //    #define LED_INIT() ( LED_DDR |= (1&lt;&lt;LED_PIN) ); //   #define LED_LOW() ( LED_PORT &amp;=~ (1&lt;&lt;LED_PIN) ); //   #define LED_HIGH() ( LED_PORT |= (1&lt;&lt;LED_PIN) ); //   #define LED_TOG() ( LED_PORT ^= (1&lt;&lt;LED_PIN) ); //    #define TIMER0_SET_CLK_DIV(x) ( TCCR0 |= x ); //     #define TIMER0_SET_CNT(x) ( TCNT0 = x ); //      #define TIMER0_OVF_INT_ON() ( TIMSK|=(1&lt;&lt;TOIE0) ); //    #define ADC_IN_INIT() ( ADC_IN_DDR &amp;= ~(0&lt;&lt;ADC_IN_DDR_PIN) );\ ( ADC_IN_PORT &amp;= ~(0&lt;&lt;ADC_IN_PORT_PIN) ); //   #define ADC_SET_CHAN(x) ( ADMUX |= x ); //   #define ADC_ON() ( ADCSRA |= (1&lt;&lt;ADEN) ); //   #define ADC_OFF() ( ADCSRA &amp;=~ (1&lt;&lt;ADEN) ); //     #define ADC_SET_CLK_DIV(x) ( ADCSRA |= x ); // - #define ADC_START_CONV() ( ADCSRA |= (1&lt;&lt;ADSC) ); //    #define ADC_INT_ON() ( ADCSRA |= (1&lt;&lt;ADIE) ); //     #define SEG_PORTS_INIT() ( SEG_3DEC_DDR |= SEG_MASK );\ ( SEG_2DEC_DDR |= SEG_MASK );\ ( SEG_1DEC_DDR |= SEG_MASK ); //     #define SEG_PORTS_CLEAR() ( SEG_3DEC_PORT &amp;=~ SEG_MASK );\ ( SEG_2DEC_PORT &amp;=~ SEG_MASK );\ ( SEG_1DEC_PORT &amp;=~ SEG_MASK ); //       #define SEG_PORTS_OUT(x,y,z) ( SEG_3DEC_PORT |= ( x &amp; SEG_MASK ) );\ ( SEG_2DEC_PORT |= ( y &amp; SEG_MASK ) );\ ( SEG_1DEC_PORT |= ( z &amp; SEG_MASK ) ); //   #define DELAY_US(us) __delay_cycles((F_CPU / 1000000) * (us)); //   #define DELAY_MS(ms) __delay_cycles((F_CPU / 1000) * (ms)); /*   */ //     T0 UINT T0_tick_cnt=0; //   const unsigned char numbers[16] = { SEG_0, //0 SEG_1, //1 SEG_2, //2 SEG_3, //3 SEG_4, //4 SEG_5, //5 SEG_6, //6 SEG_7, //7 SEG_8, //8 SEG_9, //9 SEG_A, //A SEG_b, //b SEG_C, //C SEG_d, //d SEG_E, //E SEG_F //F }; //    FLOAT_TYPE T = 0; // -  UINT ADC_Result = 0; //  - - UINT ADC_res_cnt = 0; //   UINT Sum = 0; //   - bool ADCReadyFlag = false; /* ** Name: Seg_Write() ** Description:       **    ** Parameters: UINT T -   0 - 99 C ** Returns: none */ void Seg_Write(UINT T) { //     UINT dec2 = 0 , dec1 = 0; //     T = T % 100; //   dec2 = T / 10; //   dec1 = T % 10; //    //   SEG_PORTS_CLEAR(); //  3-  //    //  SEG_PORTS_OUT( numbers[dec2], //  numbers[dec1], //  SEG_GRAD // ); }//end func /* ** Name: main() ** Description:   ,    ** Parameters: none ** Returns: none */ //   void main( void ) { //   //    SEG_PORTS_INIT(); //  LED_INIT(); //  LED_LOW(); //  ( Normal) TIMER0_SET_CLK_DIV(F_CPU_DIV_1024);//   16 000 000  // 16 000 000  / 1024 = 15 625  // 1 / 15 625  = 0,000064  =64  TIMER0_SET_CNT(TCNT0_VALUE); // 156 * 0,000064 c = 0,009984 c (10 ) //      255-156 = 99 TIMER0_OVF_INT_ON(); //      //  //   ADC_IN_INIT(); //   ADC_SET_CHAN(ADC7); ADC_ON(); //  //   16  / 128 = 125 ADC_SET_CLK_DIV(ADC_F_CPU_DIV_128); //    50-200 //  13   125 13 / 125000 = 104  ADC_INT_ON(); //    //    T=0; //   Sum = 0; //  _SEI(); //   for(;;) { //     _NOP(); // -  //  if(ADCReadyFlag) { //     _NOP(); //  ADCReadyFlag = false; //  LED_TOG(); //  //- Sum += ADC_Result; //  //- ADC_res_cnt++; //  -? if ( ADC_res_cnt == 8 ) { //     _NOP(); //  ADC_res_cnt = 0; //   ADC_Result = Sum / 8; //  Sum = 0; //    T = ADC_Result*(5.0/1023); //    T = ((T-0.75)*100)+25; //    //  Seg_Write((UINT)T); }//end if }//end if }//end for }//end main /*   T0  */ #pragma vector=TIMER0_OVF_vect __interrupt void ISR_TickTimer(void) { //     _NOP(); //    T0 T0_tick_cnt++; //  100  if (T0_tick_cnt &gt;= T0_TICK_CNT_LIMIT) { //     _NOP(); //    T0 T0_tick_cnt=0; //   // - ADC_START_CONV(); }//end for //   //   TIMER0_SET_CNT(TCNT0_VALUE); }//end func /*   -*/ #pragma vector=ADC_vect __interrupt void ISR_ADC(void) { //     _NOP(); //  - ADC_Result = ADC; // //ADC_Result = ADCL; //   //ADC_Result += (ADCH &lt;&lt; 8); //   //   - ADCReadyFlag = true; }//end func</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">周辺レジスタの設定に関しては、マクロ機能ですでに説明したLED、ハードウェアタイマー、ADCの設定が使用されます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムのロジックは、メインループの疑似並列動作と、ティックハードウェアタイマーおよびADC用の2つの割り込みハンドラーに集中しています。ティックタイマー割り込みハンドラーで、100ミリ秒間隔の経過のイベントが記録され、マクロ関数ADC_START_CONV（）を使用してAD変換が開始されます。約104μsの間隔の後、AD変換の結果が準備されると、割り込みがトリガーされます。 ISR_ADC（）ハンドラーの本体では、AD変換の結果がADC_Result変数に記録され、bool型のADCReadyFlag準備フラグが設定されます（この型を使用するには、stdbool.hライブラリが#includeディレクティブで以前に接続されていました）。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このフラグを設定するイベントは、ifステートメントによってメインループで修正されます。その後、フラグがリセットされ、AD変換の8つの結果が合計されるまで、AD変換の結果ADC_Resultが変数Sumに合計されます。 8つの結果が取得され、合計されると、Sum変数の合計が8で除算されます。したがって、シンプルなデジタルフィルタリングオプションが実装され、外部フィルタリングスキームに加えてノイズの多いUSB電源により低ノイズビットが削減されます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィルタリングされた結果はADC_Result変数に書き込まれ、Sum変数はゼロにリセットされます。次に、量子で得られたフィルタリング結果は、単純な算術演算を使用してボルトに変換されます。</font></font>なぜなら<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基準電圧は5 Vで、それに対応する量子の最大値は1023です。量子の値のボルトに変換するには、それを1023で除算し、5で乗算するだけで十分です。結果の小数値を実数型で保存します。さらに、</font></font><a href="http://www.analog.com/static/imported-files/data_sheets/TMP35_36_37.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TMP36に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手元</font><a href="http://www.analog.com/static/imported-files/data_sheets/TMP35_36_37.pdf"><font style="vertical-align: inherit;">にデータシート</font></a><font style="vertical-align: inherit;">があり、25度では出力が750 mVであり、上下は10 mVに相当することがわかっているため、次の式T =（（T -0.75）* 100）+25。さらに、度単位の温度値はvoid Seg_Write（UINT T）関数を使用して7セグメントインジケーターに表示されます。これは、最初の例とは異なり、2桁の数字を度記号で表示します。ディスプレイに表示される数十年の論理は同じです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> デバッグ中に、記述されたプログラムのすべてのロジック、および中間変数の値と最終結果の両方の計算の正確さをトレースできます。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/a4f/138/ade/a4f138ade3db85cb5fa73c574f4a96ce.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> おわりに </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IARプロジェクトの形式のすべての例は、</font></font><a href="https://yadi.sk/d/iKVSBcrbUn1gwQ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードでき</font><a href="https://yadi.sk/d/iKVSBcrbUn1gwQ"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J22652/index.html">お誕生日おめでとうアップル</a></li>
<li><a href="../J226527/index.html">10,000台のデバイスで有効化されたUbuntu Phone</a></li>
<li><a href="../J226531/index.html">QRコードを持つ最初のロシアのコイン</a></li>
<li><a href="../J226535/index.html">ベラルーシで正直にフリーランサーとして働くには？</a></li>
<li><a href="../J226537/index.html">Synology®は、RackStation RS3614xsとRS3614RPxsを発表します。 大企業向けの最適なパフォーマンスと信頼性</a></li>
<li><a href="../J22654/index.html">2028</a></li>
<li><a href="../J226541/index.html">白いふわふわの雲-パート1</a></li>
<li><a href="../J226543/index.html">月の上の地球...平凡</a></li>
<li><a href="../J226549/index.html">Payoneerでチーム精神を高める</a></li>
<li><a href="../J226553/index.html">ホステルに入るための1つのリング、またはID EMリーダーを台無しにする方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>