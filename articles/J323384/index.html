<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🆓 🍬 ⛹🏿 Node.js上のQiwiのIPN 🧚🏾 🍞 🖤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qiwi支払いゲートウェイを介した支払いの可能性を実現するには、ロシア語の開発者向けガイドを読むだけで十分です。 しかし、期限があり、開発に多くの時間を費やしたくない人のために、コードを使用して自分の計算で開発プロセスを促進しようとします。 
  
  
  
 初期データ-Node.js-0.12...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>Node.js上のQiwiのIPN</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/323384/">  Qiwi支払いゲートウェイを介した支払いの可能性を実現するには、ロシア語の開発者向けガイドを読むだけで十分です。 しかし、期限があり、開発に多くの時間を費やしたくない人のために、コードを使用して自分の計算で開発プロセスを促進しようとします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     初期データ-Node.js-0.12.4、Sails-v0.12.11 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     開発を開始するには、 <a href="https://ishop.qiwi.com/">https://ishop.qiwi.com</a>で登録してアカウントの確認を待つ必要があり<a href="https://ishop.qiwi.com/">ます</a> 。 アカウントを確認したら、[設定]→[プロトコル]→[RESTプロトコル]に移動し、[認証データ]タブでプロジェクトID-ストアID（SHOP_ID）を確認してREST応答を確認する必要があります。 さらに、「新しいIDを生成」をクリックして、Qiwi APIへのRESTリクエストのAPI_IDを生成する必要があります。 パスワード（API_PWD）を書き留めておく必要があることに注意してください。そうすれば、それを見る場所がなくなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に、プログラマを混乱させ、QiwiにはPaypalなどのサンドボックスがないことを通知します。すべての作業は、最初は実際のお金とカードを使用してライブサーバーで行われます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、請求書リクエストを送信する方法を学びます。 簡単に言うと、支払いプロセス全体は、請求、支払い用リンクの受信、クライアントがサービスの支払いを行うサイトへの移動、Qiwi IPNサーバーからの応答サーバーの待機で構成されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// AccountController.js module.exports = { // action for payment request qw_activate: function (req, res) { var user_id = user.id; var bill_id = user_id +'_'+ Date.now(), order_lifetime_days = 1, successUrl = req.param('success_return_url'), // redirect URL in case of success payment failUrl = req.param('fail_return_url'); // redirect URL in case of payment is failed var url = sails.config.custom_config.QIWI.API_URL+sails.config.custom_config.QIWI.SHOP_ID+'/bills/'+bill_id, request = require('request'), querystring = require('querystring'); var request_data = {headers: { "Accept": "text/json", "Authorization": 'Basic '+new Buffer( sails.config.custom_config.QIWI.API_ID +':'+ sails.config.custom_config.QIWI.API_PWD ).toString('base64'), "Content-Type": "application/x-www-form-urlencoded; charset=utf-8" }}; request_data.url = url; var lifetime = new Date(); lifetime.setHours(lifetime.getHours() + 24 * order_lifetime_days); request_data.body = querystring.stringify({ user: 'tel:'+req.param('phone').replace(/[\(\)]/g, ""), amount: sails.config.custom_config.QIWI.member_pro_membership_cost, ccy: sails.config.custom_config.QIWI.CURRENCY, // RUB || USD comment: "Payment for service by "+user.email, lifetime: lifetime.toISOString(), pay_source: 'qw', // 'mobile' prv_name: 'email@mail.ru' }); request.put(request_data, function (err, data) { if(err) return res.badRequest(err); // q if(JSON.parse(data.body).response.result_code == 0) { return res.ok({ url: 'https://qiwi.com/order/external/main.action?shop='+sails.config.custom_config.QIWI.SHOP_ID+'&amp;transaction='+bill_id+'&amp;successUrl='+successUrl+'&amp;failUrl='+failUrl+'&amp;iframe=false' }); } res.badRequest({ message: JSON.parse(data.body).response.description }); }); } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、アカウントを作成するリクエストを送信します-支払いのリンクを取得し、クライアントをQiwiウェブサイトに送信します。 クライアントがQiwi Webサイトで支払いを行った後、支払いの結果に応じて、クライアントは支払いリンクに示されたsuccessUrlまたはfailUrlページにリダイレクトします。 支払いの結果（キャンセル、成功、遅延、エラーなど）に関係なく、当社のサーバーはQiwi IPNサーバーからの応答を受信するために開いています。 回答はhttpsとhttpの両方にすることができます。  APIサーバーをhttpsに転送できる場合-このプロトコルを使用することをお勧めします-より安全です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードには、https経由で応答をチェックするコードの一部がありますが、検証されていません。このコードは、私の基礎として使用できます。 サーバーへのhttpまたはhttpsを介して支払いステータスに関する回答を受け取るには、Qiwi個人アカウント設定の「プル（REST）プロトコル設定」セクションを構成する必要があります。 通知を有効にし、通知のURLを提供する必要があります。  httpのポートは80のみ、httpsの場合は443です。他のポートを指定することはできません。  「通知パスワードの変更」をクリックして、通知用のパスワードを生成する必要があります。 その後、コードの記述を開始できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// AccountController.js module.exports = { // ipn action qw_ipn: function (req, res) { var Q = require('q'), THIS = this; (function (req, res) { var deferred = Q.defer(); var reqParams = req.allParams(); var UID = reqParams.bill_id ? reqParams.bill_id.split('_')[0] : null, payment_date = reqParams.bill_id ? new Date(parseInt(reqParams.bill_id.split('_')[1])) : null, txn_id = "txn_" + reqParams.bill_id, txn_status = reqParams.status; (function() { var deferred2 = Q.defer(); if (typeof req.headers.authorization !== 'undefined') { // Basic authorization if (req.headers.authorization == 'Basic ' + new Buffer(sails.config.custom_config.QIWI.SHOP_ID + ':' + sails.config.custom_config.QIWI.NOTIFICATION_PWD).toString('base64')) { deferred2.resolve(); } else { deferred2.reject(150); // Error in password verification } } else if (typeof req.headers['x-api-signature'] !== 'undefined') { // digital sign // </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">TODO:</span></span></span><span class="hljs-comment"> code not verified var crypto = require('crypto'), hexHash, signature = req.headers['x-api-signature'], encoded_signature, reqString = ""; var sortedIndexes = Object.keys(reqParams).sort(); // sort keys // generate string from values of sorted request for (var i in sortedIndexes) { reqString += "|" + reqParams[sortedIndexes[i]]; } reqString = THIS._convertUTF16ToUTF8ToByteStr(reqString.substring(1)); // convert UTF16 string to UTF8 and then to string of bytes hexHash = crypto.createHmac('sha1', THIS._convertUTF16ToUTF8ToByteStr(sails.config.custom_config.QIWI.SHOP_ID)).update(reqString).digest('hex'); // hashed string hexadecimal encoded_signature = new Buffer(THIS._convertUTF16ToUTF8ToByteStr(hexHash)).toString('base64'); // base64 encoded if (encoded_signature == signature) { // compare encoded signature with signature from header deferred2.resolve(); } else { deferred2.reject(151); // Error in sign verification } } return deferred2.promise; })().then(function() { if(parseFloat(reqParams.amount) !== sails.config.custom_config.QIWI.member_pro_membership_cost) return deferred.resolve(0); // ignore creating transactions for commission Transaction.findOne({txn_id: txn_id, payment_status: txn_status}).exec(function (err, found) { if (err) return deferred.reject('Invalid updating payment status. Error: ' + err); (function() { var deferred3 = Q.defer(); if (!found) { var params = { txn_id: txn_id, txn_type: reqParams.command, // "bill" mc_gross: reqParams.amount, mc_currency: reqParams.ccy, payment_date: payment_date, payment_status: reqParams.status, business: reqParams.prv_name, receiver_email: reqParams.prv_name, payer_id: UID, payer_email: reqParams.user, custom: JSON.stringify({error: reqParams.error}), gateway_type: Transaction.attributes.gateway_type.in[1] // qiwi gateway }; // first payment Transaction.create(params).then(function (created) { if (created) { deferred3.resolve(); } }).catch(function (err) { if (err) deferred3.reject('Invalid transaction creation. Error: ' + err); }); } else { // already exists deferred.resolve(0); } return deferred3.promise; })().then(function() { if (parseFloat(reqParams.amount) == sails.config.custom_config.QIWI.member_pro_membership_cost &amp;&amp; reqParams.ccy == sails.config.custom_config.QIWI.CURRENCY) { Model.findOne({id: UID}).then(function (found_user) { if(found_user) { switch(reqParams.status) { case 'paid': // mark user as paid ... break; case 'rejected': // mark user as unpaid if he was rejected payment ... break; } } else { if (err) return deferred.reject('User not found. Error: ' + err); } }).catch(function (err) { if (err) return deferred.reject('Error while searching user. Error: ' + err); }); } else { deferred.reject('Not valid currency or payment amount.'); } }, function(err) { deferred.reject('Error while transaction creation. Error: ' + err); }); }); }, function(err) { deferred.reject(err); }); return deferred.promise; })(req, res).then(function (result_code) { res.setHeader("Content-type", "text/xml"); var xml = '&lt;?xml version="1.0"?&gt;\ &lt;result&gt;\ &lt;result_code&gt;' + result_code + '&lt;/result_code&gt;\ &lt;/result&gt;'; return res.send(xml); }, function (error) { console.log(error); res.setHeader("Content-type", "text/xml"); var errNum = typeof error == 'number' ? error : 13; var xml = '&lt;?xml version="1.0"?&gt;\ &lt;result&gt;\ &lt;result_code&gt;' + errNum + '&lt;/result_code&gt;\ &lt;/result&gt;'; return res.send(xml); }); }, /** * Convert UTF16 string to UTF8 and then to bytes * @param str * @returns {string} * @private */ _convertUTF16ToUTF8ToByteStr: function (str) { var utf8 = unescape(encodeURIComponent(str)); var byteString = ""; for (var i = 0; i &lt; utf8.length; i++) { byteString += utf8.charCodeAt(i); } return byteString; } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードは複雑ではありませんが、いくつかの質問が発生する可能性があります。これについては、以下で予測して回答を示します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Qiwi IPNサーバーは、応答が結果コード0とHTTPステータスコード200を返すまで、日中に間隔を空けてリクエストを繰り返します（試行回数50回のみ）。支払いの重複を避けるため、最初の通知を受け取ったときに、将来、トランザクションがアカウント番号でトランザクションを作成しますこのようなアカウントが存在する-私はリクエストをドロップします。 また、支払いと払い戻し、つまり「支払い済み」と「拒否済み」の支払いステータスにも興味があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     リクエストのタイプを理解するために、アクションへのルートを投稿します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// routes.js module.exports.routes = { 'POST /qw_ipn': 'AccountController.qw_ipn', 'POST /qw_activate': 'AccountController.qw_activate' }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで私の短い最初の投稿は終わりです。  Qiwi APIのドキュメントでコードを読むことをお勧めします。すべてのエラー番号、ビジネスロジックなどが記述されています。 どんなコメントでも喜んでいます。 批判が大好きです。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J323372/index.html">ブラウザで通知をプッシュし、オブジェクトトラックを操作する</a></li>
<li><a href="../J323376/index.html">ブラウザおよびモバイルアプリケーションからのライブビデオストリーミング用にAmazon EC2クラウドでWebRTCメディアサーバーを起動する</a></li>
<li><a href="../J323378/index.html">ロシアのビットコイン：誰が使用していますか？</a></li>
<li><a href="../J323380/index.html">アドレスサニタイザー、またはvalgrindが機能しない場合の対処方法</a></li>
<li><a href="../J323382/index.html">スマートシティ、またはスマートシティ=幸せな市民</a></li>
<li><a href="../J323386/index.html">管理の概要：ブレードシステムの輝きと貧困</a></li>
<li><a href="../J323388/index.html">JavaScriptを使用したActionScript2.0の復活</a></li>
<li><a href="../J323390/index.html">青いバスローブを持ってきて</a></li>
<li><a href="../J323392/index.html">Yandex検索。 そして、これらの人々は私たちの鼻を摘むことを禁じています</a></li>
<li><a href="../J323394/index.html">人口100万人以上で奥地のある都市でのリアリティクエストの推進</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>