<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗒️ 🐧 ➖ OpenGeoDBからElasticsearchにオープンジオデータをインポートする 🛩️ 🔡 🏠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="きちんとした公共データベースを見つけて、わずかでも機能を最適化するためにアプリケーションに含めるのはどれほど良いことだろうと思ったことはありませんか？ もちろんそうです！ この投稿では、Logstashを使用して外部データセットを目的の形式に変換し、Kibanaで結果を確認し、Elasticsear...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>OpenGeoDBからElasticsearchにオープンジオデータをインポートする</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"> きちんとした公共データベースを見つけて、わずかでも機能を最適化するためにアプリケーションに含めるのはどれほど良いことだろうと思ったことはありませんか？ もちろんそうです！ この投稿では、Logstashを使用して外部データセットを目的の形式に変換し、Kibanaで結果を確認し、Elasticsearchでデータが正しくインデックス付けされていることを確認します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/5b6/dc0/338/5b6dc0338cf6a59112d772fd791b1fcb.png"><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> データをダウンロードする </h1>  ElasticsearchとLogstashの最新バージョンが既にインストールされていると仮定します。 次の例では、 <a href="http://www.elasticsearch.org/blog/elasticsearch-1-1-0-released/">Elasticsearch 1.1.0</a>と<a href="http://www.elasticsearch.org/blog/logstash-1-4-0-ga-unleashed/">Logstash 1.4.0</a>を使用します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://opengeodb.org/wiki/OpenGeoDB">OpenGeoDB</a>は、SQLおよびCSV形式のドイツの地理データを含むドイツのサイトです。  Elasticsearchにデータを保存するため、CSVのようにSQLは適していません。 ただし、これにもかかわらず、Logstashを使用してElasticsearchのデータを変換およびインデックス化できます。 インデックスを作成するファイルには、すべての郵便番号を含むドイツの都市のリストが含まれています。 このデータは、 <a href="http://opengeodb.org/wiki/OpenGeoDB_Lizenz">パブリックドメイン</a>ライセンスで<a href="">OpenGeoDB</a> Webサイト（ダウンロードファイル）からダウンロードできます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> データ形式 </h1> データを調べると、次の列で構成されていることがわかります。 <ul><li>  <b>loc_id：</b>一意の識別子（データベース内） </li><li>  <b>ags：</b>州の管理コード </li><li>  <b>ascii：</b>大文字の短い名前 </li><li>  <b>名前：</b>エンティティ名 </li><li>  <b>lat：</b>緯度（座標） </li><li>  <b>lon：</b>経度（座標） </li><li>  <b>amt：</b>使用されていません </li><li>  <b>plz：</b>郵便番号（複数ある場合は、コンマで区切ってください） </li><li>  <b>vorwahl：</b>電話コード </li><li>  <b>einwohner：</b>人口 </li><li>  <b>フレッシュ：</b>正方形 </li><li>  <b>kz：</b>車のナンバープレートシリーズ </li><li>  <b>typ：</b>管理単位タイプ </li><li>  <b>レベル：</b>階層内の地形の位置を決定する整数 </li><li>  <b>of：</b>このエリアが属するエリアの識別子 </li><li>  <b>無効：</b>列が無効です </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     フィールド<i>名、緯度、経度、面積、人口、ライセンスタグに</i>興味があります。 私たちはすぐにそれらに戻ります... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Elasticsearchのエントリのインデックス作成 </h1>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  csv logstashフィルターを使用 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次のステップは、データをElasticsearchに配置することです。 まず、Logstashを構成します。 以下の設定をopengeodb.confファイルにコピーします。 区切り文字がコンマではなくタブである場合でも、「csv」フィルター（コンマ区切り値）を使用していることに注意してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs">input { stdin {} } filter { <span class="hljs-comment"><span class="hljs-comment"># Step 1, possible dropping if [message] =~ /^#/ { drop {} } # Step 2, splitting csv { # careful... there is a "tab" embedded in the next line: # if you cannot copy paste it, press ctrl+V and then the tab key to create the control sequence # or maybe just tab, depending on your editor separator =&gt; ' ' quote_char =&gt; '|' # arbitrary, default one is included in the data and does not work columns =&gt; [ 'id', 'ags', 'name_uc', 'name', 'lat', 'lon', 'official_description', 'zip', 'phone_area_code', 'population', 'area', 'plate', 'type', 'level', 'of', 'invalid' ] } # Step 3, possible dropping if [level] != '6' { drop {} } # Step 4, zip code splitting if [zip] =~ /,/ { mutate { split =&gt; [ "zip", "," ] } } # Step 5, lat/lon love if [lat] and [lon] { # move into own location object for additional geo_point type in ES # copy field, then merge to create array for bettermap mutate { rename =&gt; [ "lat", "[location][lat]", "lon", "[location][lon]" ] add_field =&gt; { "lonlat" =&gt; [ "%{[location][lon]}", "%{[location][lat]}" ] } } } # Step 6, explicit conversion mutate { convert =&gt; [ "population", "integer" ] convert =&gt; [ "area", "integer" ] convert =&gt; [ "[location][lat]", "float" ] convert =&gt; [ "[location][lon]", "float" ] convert =&gt; [ "[lonlat]", "float" ] } } output { elasticsearch { host =&gt; 'localhost' index =&gt; 'opengeodb' index_type =&gt; "locality" flush_size =&gt; 1000 protocol =&gt; 'http' } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     先に進む前に、これがLogstashを実行してデータのインデックスを作成する方法であることに注意してください。  Elasticsearchが実行されている必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">cat DE.tab | logstash-1.4.0/bin/logstash -f opengeodb.conf</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この段階では、非常に多くのことが起こります（インデックス作成には1分以上かかることがありますが、すべては機器に依存します）。 最初に注意すべきことは、Logstash構成は「file」命令での入力を使用しないことです。 これは、この入力メソッドがUNIXシステムで「tail -f」のように動作する、つまり、新しいデータがファイルに追加されることを期待するためです。 それどころか、ファイルのサイズは固定されているため、入力「stdin」を使用してすべてのデータを読み取る方が合理的です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     フィルターセクションは6つのステップで構成されています。 それらを詳しく見て、それぞれの機能を説明しましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ1-コメントを無視する </h3> 最初のステップは、コメントを取り除くことです。 これらは、行頭のポンド記号で識別できます。 これが必要なのは、ファイルの最初の行が列名を含むコメントにすぎないためです。 インデックスを作成する必要はありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ2-CSVを逆アセンブルします </h3>  2番目のステップは、CSVを解析するすべてのハードワークを行います。 値「tab」（タブ）で「セパレータ」を再定義する必要があります。「quote_char」にはデフォルトで引用符が1つあり、これはデータの値に存在するため、別の文字に置き換える必要があります。「columns」プロパティは、後でフィールド名として使用されます。 <blockquote>  <b>注意！</b> ここからファイルをコピーする場合、タブの代わりに複数のスペースとしてコピーされるため、「セパレータ」文字を置き換える必要があります。 スクリプトが正しく機能しない場合は、まずこれを確認してください。 </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ3-不要なエントリをスキップする </h3> 都市に関する情報を表示するレコード（「レベル」フィールドが6のレコード）のみが必要です。 残りのエントリは単に無視します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ4-郵便番号の処理 </h3>  4番目のステップは、適切な郵便番号処理です。 レコードに複数の郵便番号がある場合（大都市など）、それらはすべて1つのフィールドに含まれていますが、コンマで区切られています。 単一の大きな行としてではなく配列として保存するには、「mutate」フィルターを使用してこのフィールドの値を分離します。 ここでは、たとえば、数値の配列の形式でこのデータのコンテンツを使用すると、数値の範囲で検索を使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ5-地理データ構造 </h3>  5番目のステップでは、地理データをより便利な形式で保存します。  DE.datファイルから読み取る場合、latフィールドとlonフィールドが別々に作成されます。 ただし、これらのフィールドの意味は、一緒に格納されている場合のみです。 このステップでは、両方のフィールドを2つのデータ構造に書き込みます。  Elasticsearchタイプgeo_pointのように見え、その結果、構造{"location"：{"lat"：x、 "lon"：y}}になります。 もう1つは単純な配列のように見え、経度と緯度を（この順序で！）含んでいます。  Kibana bettermapコンポーネントを使用して座標を表示できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ステップ6-入力するフィールドの明示的なキャスト </h3> 最後のフィルターステップでは、特定のフィールドにデータ型を明示的に割り当てます。 したがって、Elasticsearchは将来的にそれらを使用して数値演算を実行できるようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     出力セクションは、バージョン1.4以降のLogtashでのみ使用可能です。したがって、少なくともバージョンがあることを確認してください。 前のバージョンでは、「elasticsearch_http」の出力を明示的に指定する必要があります。 今後は、「elasticsearch」出力が1つだけになると言います。protocol=&gt; httpを指定して、ポート9200経由でHTTPを使用してElasticsearchに接続できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> データの視覚化にはKibanaとElasticsearchを使用します。 </h1> データにインデックスが付けられたら、Kibanaを使用してさらに分析できます。  bettermapウィジェットと人口のような単純な検索クエリを使用して：[10000 TO *]ドイツのすべての大都市を表示できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/5b6/dc0/338/5b6dc0338cf6a59112d772fd791b1fcb.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは、たとえば次の目的で使用できます。 <ul><li> 最も人口の多い都市を見つける </li><li> 車のナンバープレートの一般的なシリーズを使用する都市を検索します（たとえば、GTはGüterslohとその周辺で使用されます） </li><li> 集約スクリプトを使用して、平方キロメートルあたりの人口密度が最も高いか、まばらなエリアを見つけます。  Logstashでこれらの数値を事前計算することもできます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらはすべて非常に優れていますが、既存のアプリケーションの改善には役立ちません。 もっと深くする必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 自動補完を設定する </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     少し脱線して、このデータを使ってどんな便利なことができるか見てみましょう。 都市、郵便番号、およびこれらのデータを入力する必要があるWebアプリケーションの多くの場合があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     良い例は、チェックアウトプロセスです。 すべての店舗に事前にユーザーデータがあるわけではありません。 これは、注文が1回限りの店である場合もあれば、登録せずに注文することもできます。 この場合、ユーザーがチェックアウトプロセスを高速化できるようにすることが適切な場合があります。 同時に、「無料」のボーナスは、注文の難しさによる注文の損失またはキャンセルの防止になります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Elasticsearchには、「completion opinester」と呼ばれる非常に高速なプレフィックス検索機能があります。 しかし、この検索には欠点があります。 インデックスを作成する前にデータを少し補足する必要がありますが、このためにLogstashがあります。 この例をよりよく理解するには、 <a href="http://www.elasticsearch.org/blog/you-complete-me/">「完了ハプスター」の</a>概要を読む必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> ヒント </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ユーザーが住んでいる都市の名前を入力できるようにしたいとします。 また、選択した都市に合った郵便番号を見つけやすくするために、郵便番号のリストを提供したいと思います。 また、逆に、最初にユーザーに郵便番号を入力させてから、都市に関する情報を自動的に入力することもできます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Logstashの構成にいくつかの変更を加えて、動作するようにします。 フィルター内部の簡単な構成から始めましょう。 手順5の直後、手順6の前に、この構成スニペットをopengeodb.confに追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs"> <span class="hljs-comment"><span class="hljs-comment"># Step 5 and a half # create a prefix completion field data structure # input can be any of the zips or the name field # weight is the population, so big cities are preferred when the city name is entered mutate { add_field =&gt; [ "[suggest][input]", "%{name}" ] add_field =&gt; [ "[suggest][output]", "%{name}" ] add_field =&gt; [ "[suggest][payload][name]", "%{name}" ] add_field =&gt; [ "[suggest][weight]", "%{population}" ] } # add all the zips to the input as well mutate { merge =&gt; [ "[suggest][input]", zip ] convert =&gt; [ "[suggest][weight]", "integer" ] } # ruby filter to put an array into the event ruby { code =&gt; 'event["[suggest][payload][data]"] = event["zip"]' }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Logstashは、データのインデックスを再度作成するときに、「完了ハプスター」と互換性のある構造でデータを書き込みます。 ただし、Elaticsearchでもツールチップ機能が設定されるように、フィールド一致パターンを設定する必要もあります。 したがって、output&gt; elastichsearchセクションのLogstash設定でテンプレートを明示的に指定する必要もあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># change the output to this in order to include an index template output { elasticsearch { host =&gt; 'localhost' index =&gt; 'opengeodb' index_type =&gt; "locality" flush_size =&gt; 1000 protocol =&gt; 'http' template_name =&gt; 'opengeodb' template =&gt; '/path/to/opengeodb-template.json' } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このテンプレートは、デフォルトのLogstashテンプレートに非常に似ていますが、suggestフィールドとgeo_pointフィールドが追加されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"template"</span></span> : <span class="hljs-string"><span class="hljs-string">"opengeodb"</span></span>, <span class="hljs-string"><span class="hljs-string">"settings"</span></span> : { <span class="hljs-string"><span class="hljs-string">"index.refresh_interval"</span></span> : <span class="hljs-string"><span class="hljs-string">"5s"</span></span> }, <span class="hljs-string"><span class="hljs-string">"mappings"</span></span> : { <span class="hljs-string"><span class="hljs-string">"_default_"</span></span> : { <span class="hljs-string"><span class="hljs-string">"_all"</span></span> : {<span class="hljs-string"><span class="hljs-string">"enabled"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, <span class="hljs-string"><span class="hljs-string">"dynamic_templates"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"string_fields"</span></span> : { <span class="hljs-string"><span class="hljs-string">"match"</span></span> : <span class="hljs-string"><span class="hljs-string">"*"</span></span>, <span class="hljs-string"><span class="hljs-string">"match_mapping_type"</span></span> : <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"mapping"</span></span> : { <span class="hljs-string"><span class="hljs-string">"type"</span></span> : <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"index"</span></span> : <span class="hljs-string"><span class="hljs-string">"analyzed"</span></span>, <span class="hljs-string"><span class="hljs-string">"omit_norms"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"fields"</span></span> : { <span class="hljs-string"><span class="hljs-string">"raw"</span></span> : {<span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"index"</span></span> : <span class="hljs-string"><span class="hljs-string">"not_analyzed"</span></span>, <span class="hljs-string"><span class="hljs-string">"ignore_above"</span></span> : <span class="hljs-number"><span class="hljs-number">256</span></span>} } } } } ], <span class="hljs-string"><span class="hljs-string">"properties"</span></span> : { <span class="hljs-string"><span class="hljs-string">"@version"</span></span>: { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"string"</span></span>, <span class="hljs-string"><span class="hljs-string">"index"</span></span>: <span class="hljs-string"><span class="hljs-string">"not_analyzed"</span></span> }, <span class="hljs-string"><span class="hljs-string">"location"</span></span> : { <span class="hljs-string"><span class="hljs-string">"type"</span></span> : <span class="hljs-string"><span class="hljs-string">"geo_point"</span></span> }, <span class="hljs-string"><span class="hljs-string">"suggest"</span></span> : { <span class="hljs-string"><span class="hljs-string">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"completion"</span></span>, <span class="hljs-string"><span class="hljs-string">"payloads"</span></span> : <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"analyzer"</span></span> : <span class="hljs-string"><span class="hljs-string">"whitespace"</span></span> } } } } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、古いデータ（インデックスを含む）を削除して、インデックスの再作成を開始します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">curl -X DELETE localhost:9200/opengeodb cat DE.tab | logstash-1.4.0/bin/logstash -f opengeodb.conf</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、「sojest」へのリクエストを完了できます 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">curl -X GET <span class="hljs-string"><span class="hljs-string">'localhost:9200/opengeodb/_suggest?pretty'</span></span> -d <span class="hljs-string"><span class="hljs-string">'{ "places" : { "text" : "B", "completion" : { "field" : "suggest" } } }'</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     結果は次のとおりです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"_shards"</span></span> : { <span class="hljs-string"><span class="hljs-string">"total"</span></span> : <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"successful"</span></span> : <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"failed"</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span> }, <span class="hljs-string"><span class="hljs-string">"places"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"B"</span></span>, <span class="hljs-string"><span class="hljs-string">"offset"</span></span> : <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"length"</span></span> : <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"options"</span></span> : [ { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"Berlin"</span></span>, <span class="hljs-string"><span class="hljs-string">"score"</span></span> : <span class="hljs-number"><span class="hljs-number">3431675.0</span></span>, <span class="hljs-string"><span class="hljs-string">"payload"</span></span> : {<span class="hljs-string"><span class="hljs-string">"data"</span></span>:[<span class="hljs-string"><span class="hljs-string">"Berlin"</span></span>,<span class="hljs-string"><span class="hljs-string">"10115"</span></span>,<span class="hljs-string"><span class="hljs-string">"10117"</span></span>,<span class="hljs-string"><span class="hljs-string">"10119"</span></span>,<span class="hljs-string"><span class="hljs-string">"10178"</span></span>,<span class="hljs-string"><span class="hljs-string">"10179"</span></span>,<span class="hljs-string"><span class="hljs-string">"10243"</span></span>,<span class="hljs-string"><span class="hljs-string">"10245"</span></span>,<span class="hljs-string"><span class="hljs-string">"10247"</span></span>,<span class="hljs-string"><span class="hljs-string">"10249"</span></span>,<span class="hljs-string"><span class="hljs-string">"10315"</span></span>,<span class="hljs-string"><span class="hljs-string">"10317"</span></span>,<span class="hljs-string"><span class="hljs-string">"10318"</span></span>,<span class="hljs-string"><span class="hljs-string">"10319"</span></span>,<span class="hljs-string"><span class="hljs-string">"10365"</span></span>,<span class="hljs-string"><span class="hljs-string">"10367"</span></span>,<span class="hljs-string"><span class="hljs-string">"10369"</span></span>,<span class="hljs-string"><span class="hljs-string">"10405"</span></span>,<span class="hljs-string"><span class="hljs-string">"10407"</span></span>,<span class="hljs-string"><span class="hljs-string">"10409"</span></span>,<span class="hljs-string"><span class="hljs-string">"10435"</span></span>,<span class="hljs-string"><span class="hljs-string">"10437"</span></span>,<span class="hljs-string"><span class="hljs-string">"10439"</span></span>,<span class="hljs-string"><span class="hljs-string">"10551"</span></span>,<span class="hljs-string"><span class="hljs-string">"10553"</span></span>,<span class="hljs-string"><span class="hljs-string">"10555"</span></span>,<span class="hljs-string"><span class="hljs-string">"10557"</span></span>,<span class="hljs-string"><span class="hljs-string">"10559"</span></span>,<span class="hljs-string"><span class="hljs-string">"10585"</span></span>,<span class="hljs-string"><span class="hljs-string">"10587"</span></span>,<span class="hljs-string"><span class="hljs-string">"10589"</span></span>,<span class="hljs-string"><span class="hljs-string">"10623"</span></span>,<span class="hljs-string"><span class="hljs-string">"10625"</span></span>,<span class="hljs-string"><span class="hljs-string">"10627"</span></span>,<span class="hljs-string"><span class="hljs-string">"10629"</span></span>,<span class="hljs-string"><span class="hljs-string">"10707"</span></span>,<span class="hljs-string"><span class="hljs-string">"10709"</span></span>,<span class="hljs-string"><span class="hljs-string">"10711"</span></span>,<span class="hljs-string"><span class="hljs-string">"10713"</span></span>,<span class="hljs-string"><span class="hljs-string">"10715"</span></span>,<span class="hljs-string"><span class="hljs-string">"10717"</span></span>,<span class="hljs-string"><span class="hljs-string">"10719"</span></span>,<span class="hljs-string"><span class="hljs-string">"10777"</span></span>,<span class="hljs-string"><span class="hljs-string">"10779"</span></span>,<span class="hljs-string"><span class="hljs-string">"10781"</span></span>,<span class="hljs-string"><span class="hljs-string">"10783"</span></span>,<span class="hljs-string"><span class="hljs-string">"10785"</span></span>,<span class="hljs-string"><span class="hljs-string">"10787"</span></span>,<span class="hljs-string"><span class="hljs-string">"10789"</span></span>,<span class="hljs-string"><span class="hljs-string">"10823"</span></span>,<span class="hljs-string"><span class="hljs-string">"10825"</span></span>,<span class="hljs-string"><span class="hljs-string">"10827"</span></span>,<span class="hljs-string"><span class="hljs-string">"10829"</span></span>,<span class="hljs-string"><span class="hljs-string">"10961"</span></span>,<span class="hljs-string"><span class="hljs-string">"10963"</span></span>,<span class="hljs-string"><span class="hljs-string">"10965"</span></span>,<span class="hljs-string"><span class="hljs-string">"10967"</span></span>,<span class="hljs-string"><span class="hljs-string">"10969"</span></span>,<span class="hljs-string"><span class="hljs-string">"10997"</span></span>,<span class="hljs-string"><span class="hljs-string">"10999"</span></span>,<span class="hljs-string"><span class="hljs-string">"12043"</span></span>,<span class="hljs-string"><span class="hljs-string">"12045"</span></span>,<span class="hljs-string"><span class="hljs-string">"12047"</span></span>,<span class="hljs-string"><span class="hljs-string">"12049"</span></span>,<span class="hljs-string"><span class="hljs-string">"12051"</span></span>,<span class="hljs-string"><span class="hljs-string">"12053"</span></span>,<span class="hljs-string"><span class="hljs-string">"12055"</span></span>,<span class="hljs-string"><span class="hljs-string">"12057"</span></span>,<span class="hljs-string"><span class="hljs-string">"12059"</span></span>,<span class="hljs-string"><span class="hljs-string">"12099"</span></span>,<span class="hljs-string"><span class="hljs-string">"12101"</span></span>,<span class="hljs-string"><span class="hljs-string">"12103"</span></span>,<span class="hljs-string"><span class="hljs-string">"12105"</span></span>,<span class="hljs-string"><span class="hljs-string">"12107"</span></span>,<span class="hljs-string"><span class="hljs-string">"12109"</span></span>,<span class="hljs-string"><span class="hljs-string">"12157"</span></span>,<span class="hljs-string"><span class="hljs-string">"12159"</span></span>,<span class="hljs-string"><span class="hljs-string">"12161"</span></span>,<span class="hljs-string"><span class="hljs-string">"12163"</span></span>,<span class="hljs-string"><span class="hljs-string">"12165"</span></span>,<span class="hljs-string"><span class="hljs-string">"12167"</span></span>,<span class="hljs-string"><span class="hljs-string">"12169"</span></span>,<span class="hljs-string"><span class="hljs-string">"12203"</span></span>,<span class="hljs-string"><span class="hljs-string">"12205"</span></span>,<span class="hljs-string"><span class="hljs-string">"12207"</span></span>,<span class="hljs-string"><span class="hljs-string">"12209"</span></span>,<span class="hljs-string"><span class="hljs-string">"12247"</span></span>,<span class="hljs-string"><span class="hljs-string">"12249"</span></span>,<span class="hljs-string"><span class="hljs-string">"12277"</span></span>,<span class="hljs-string"><span class="hljs-string">"12279"</span></span>,<span class="hljs-string"><span class="hljs-string">"12305"</span></span>,<span class="hljs-string"><span class="hljs-string">"12307"</span></span>,<span class="hljs-string"><span class="hljs-string">"12309"</span></span>,<span class="hljs-string"><span class="hljs-string">"12347"</span></span>,<span class="hljs-string"><span class="hljs-string">"12349"</span></span>,<span class="hljs-string"><span class="hljs-string">"12351"</span></span>,<span class="hljs-string"><span class="hljs-string">"12353"</span></span>,<span class="hljs-string"><span class="hljs-string">"12355"</span></span>,<span class="hljs-string"><span class="hljs-string">"12357"</span></span>,<span class="hljs-string"><span class="hljs-string">"12359"</span></span>,<span class="hljs-string"><span class="hljs-string">"12435"</span></span>,<span class="hljs-string"><span class="hljs-string">"12437"</span></span>,<span class="hljs-string"><span class="hljs-string">"12439"</span></span>,<span class="hljs-string"><span class="hljs-string">"12459"</span></span>,<span class="hljs-string"><span class="hljs-string">"12487"</span></span>,<span class="hljs-string"><span class="hljs-string">"12489"</span></span>,<span class="hljs-string"><span class="hljs-string">"12524"</span></span>,<span class="hljs-string"><span class="hljs-string">"12526"</span></span>,<span class="hljs-string"><span class="hljs-string">"12527"</span></span>,<span class="hljs-string"><span class="hljs-string">"12529"</span></span>,<span class="hljs-string"><span class="hljs-string">"12555"</span></span>,<span class="hljs-string"><span class="hljs-string">"12557"</span></span>,<span class="hljs-string"><span class="hljs-string">"12559"</span></span>,<span class="hljs-string"><span class="hljs-string">"12587"</span></span>,<span class="hljs-string"><span class="hljs-string">"12589"</span></span>,<span class="hljs-string"><span class="hljs-string">"12619"</span></span>,<span class="hljs-string"><span class="hljs-string">"12621"</span></span>,<span class="hljs-string"><span class="hljs-string">"12623"</span></span>,<span class="hljs-string"><span class="hljs-string">"12627"</span></span>,<span class="hljs-string"><span class="hljs-string">"12629"</span></span>,<span class="hljs-string"><span class="hljs-string">"12679"</span></span>,<span class="hljs-string"><span class="hljs-string">"12681"</span></span>,<span class="hljs-string"><span class="hljs-string">"12683"</span></span>,<span class="hljs-string"><span class="hljs-string">"12685"</span></span>,<span class="hljs-string"><span class="hljs-string">"12687"</span></span>,<span class="hljs-string"><span class="hljs-string">"12689"</span></span>,<span class="hljs-string"><span class="hljs-string">"13051"</span></span>,<span class="hljs-string"><span class="hljs-string">"13053"</span></span>,<span class="hljs-string"><span class="hljs-string">"13055"</span></span>,<span class="hljs-string"><span class="hljs-string">"13057"</span></span>,<span class="hljs-string"><span class="hljs-string">"13059"</span></span>,<span class="hljs-string"><span class="hljs-string">"13086"</span></span>,<span class="hljs-string"><span class="hljs-string">"13088"</span></span>,<span class="hljs-string"><span class="hljs-string">"13089"</span></span>,<span class="hljs-string"><span class="hljs-string">"13125"</span></span>,<span class="hljs-string"><span class="hljs-string">"13127"</span></span>,<span class="hljs-string"><span class="hljs-string">"13129"</span></span>,<span class="hljs-string"><span class="hljs-string">"13156"</span></span>,<span class="hljs-string"><span class="hljs-string">"13158"</span></span>,<span class="hljs-string"><span class="hljs-string">"13159"</span></span>,<span class="hljs-string"><span class="hljs-string">"13187"</span></span>,<span class="hljs-string"><span class="hljs-string">"13189"</span></span>,<span class="hljs-string"><span class="hljs-string">"13347"</span></span>,<span class="hljs-string"><span class="hljs-string">"13349"</span></span>,<span class="hljs-string"><span class="hljs-string">"13351"</span></span>,<span class="hljs-string"><span class="hljs-string">"13353"</span></span>,<span class="hljs-string"><span class="hljs-string">"13355"</span></span>,<span class="hljs-string"><span class="hljs-string">"13357"</span></span>,<span class="hljs-string"><span class="hljs-string">"13359"</span></span>,<span class="hljs-string"><span class="hljs-string">"13403"</span></span>,<span class="hljs-string"><span class="hljs-string">"13405"</span></span>,<span class="hljs-string"><span class="hljs-string">"13407"</span></span>,<span class="hljs-string"><span class="hljs-string">"13409"</span></span>,<span class="hljs-string"><span class="hljs-string">"13435"</span></span>,<span class="hljs-string"><span class="hljs-string">"13437"</span></span>,<span class="hljs-string"><span class="hljs-string">"13439"</span></span>,<span class="hljs-string"><span class="hljs-string">"13442"</span></span>,<span class="hljs-string"><span class="hljs-string">"13465"</span></span>,<span class="hljs-string"><span class="hljs-string">"13467"</span></span>,<span class="hljs-string"><span class="hljs-string">"13469"</span></span>,<span class="hljs-string"><span class="hljs-string">"13503"</span></span>,<span class="hljs-string"><span class="hljs-string">"13505"</span></span>,<span class="hljs-string"><span class="hljs-string">"13507"</span></span>,<span class="hljs-string"><span class="hljs-string">"13509"</span></span>,<span class="hljs-string"><span class="hljs-string">"13581"</span></span>,<span class="hljs-string"><span class="hljs-string">"13583"</span></span>,<span class="hljs-string"><span class="hljs-string">"13585"</span></span>,<span class="hljs-string"><span class="hljs-string">"13587"</span></span>,<span class="hljs-string"><span class="hljs-string">"13589"</span></span>,<span class="hljs-string"><span class="hljs-string">"13591"</span></span>,<span class="hljs-string"><span class="hljs-string">"13593"</span></span>,<span class="hljs-string"><span class="hljs-string">"13595"</span></span>,<span class="hljs-string"><span class="hljs-string">"13597"</span></span>,<span class="hljs-string"><span class="hljs-string">"13599"</span></span>,<span class="hljs-string"><span class="hljs-string">"13627"</span></span>,<span class="hljs-string"><span class="hljs-string">"13629"</span></span>,<span class="hljs-string"><span class="hljs-string">"14050"</span></span>,<span class="hljs-string"><span class="hljs-string">"14052"</span></span>,<span class="hljs-string"><span class="hljs-string">"14053"</span></span>,<span class="hljs-string"><span class="hljs-string">"14055"</span></span>,<span class="hljs-string"><span class="hljs-string">"14057"</span></span>,<span class="hljs-string"><span class="hljs-string">"14059"</span></span>,<span class="hljs-string"><span class="hljs-string">"14089"</span></span>,<span class="hljs-string"><span class="hljs-string">"14109"</span></span>,<span class="hljs-string"><span class="hljs-string">"14129"</span></span>,<span class="hljs-string"><span class="hljs-string">"14163"</span></span>,<span class="hljs-string"><span class="hljs-string">"14165"</span></span>,<span class="hljs-string"><span class="hljs-string">"14167"</span></span>,<span class="hljs-string"><span class="hljs-string">"14169"</span></span>,<span class="hljs-string"><span class="hljs-string">"14193"</span></span>,<span class="hljs-string"><span class="hljs-string">"14195"</span></span>,<span class="hljs-string"><span class="hljs-string">"14197"</span></span>,<span class="hljs-string"><span class="hljs-string">"14199"</span></span>]} }, { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"Bremen"</span></span>, <span class="hljs-string"><span class="hljs-string">"score"</span></span> : <span class="hljs-number"><span class="hljs-number">545932.0</span></span>, <span class="hljs-string"><span class="hljs-string">"payload"</span></span> : {<span class="hljs-string"><span class="hljs-string">"data"</span></span>:[<span class="hljs-string"><span class="hljs-string">"Bremen"</span></span>,<span class="hljs-string"><span class="hljs-string">"28195"</span></span>,<span class="hljs-string"><span class="hljs-string">"28203"</span></span>,<span class="hljs-string"><span class="hljs-string">"28205"</span></span>,<span class="hljs-string"><span class="hljs-string">"28207"</span></span>,<span class="hljs-string"><span class="hljs-string">"28209"</span></span>,<span class="hljs-string"><span class="hljs-string">"28211"</span></span>,<span class="hljs-string"><span class="hljs-string">"28213"</span></span>,<span class="hljs-string"><span class="hljs-string">"28215"</span></span>,<span class="hljs-string"><span class="hljs-string">"28217"</span></span>,<span class="hljs-string"><span class="hljs-string">"28219"</span></span>,<span class="hljs-string"><span class="hljs-string">"28237"</span></span>,<span class="hljs-string"><span class="hljs-string">"28239"</span></span>,<span class="hljs-string"><span class="hljs-string">"28307"</span></span>,<span class="hljs-string"><span class="hljs-string">"28309"</span></span>,<span class="hljs-string"><span class="hljs-string">"28325"</span></span>,<span class="hljs-string"><span class="hljs-string">"28327"</span></span>,<span class="hljs-string"><span class="hljs-string">"28329"</span></span>,<span class="hljs-string"><span class="hljs-string">"28355"</span></span>,<span class="hljs-string"><span class="hljs-string">"28357"</span></span>,<span class="hljs-string"><span class="hljs-string">"28359"</span></span>,<span class="hljs-string"><span class="hljs-string">"28717"</span></span>,<span class="hljs-string"><span class="hljs-string">"28719"</span></span>,<span class="hljs-string"><span class="hljs-string">"28755"</span></span>,<span class="hljs-string"><span class="hljs-string">"28757"</span></span>,<span class="hljs-string"><span class="hljs-string">"28759"</span></span>,<span class="hljs-string"><span class="hljs-string">"28777"</span></span>,<span class="hljs-string"><span class="hljs-string">"28779"</span></span>,<span class="hljs-string"><span class="hljs-string">"28197"</span></span>,<span class="hljs-string"><span class="hljs-string">"28199"</span></span>,<span class="hljs-string"><span class="hljs-string">"28201"</span></span>,<span class="hljs-string"><span class="hljs-string">"28259"</span></span>,<span class="hljs-string"><span class="hljs-string">"28277"</span></span>,<span class="hljs-string"><span class="hljs-string">"28279"</span></span>]} }, { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"Bochum"</span></span>, <span class="hljs-string"><span class="hljs-string">"score"</span></span> : <span class="hljs-number"><span class="hljs-number">388179.0</span></span>, <span class="hljs-string"><span class="hljs-string">"payload"</span></span> : {<span class="hljs-string"><span class="hljs-string">"data"</span></span>:[<span class="hljs-string"><span class="hljs-string">"Bochum"</span></span>,<span class="hljs-string"><span class="hljs-string">"44787"</span></span>,<span class="hljs-string"><span class="hljs-string">"44789"</span></span>,<span class="hljs-string"><span class="hljs-string">"44791"</span></span>,<span class="hljs-string"><span class="hljs-string">"44793"</span></span>,<span class="hljs-string"><span class="hljs-string">"44795"</span></span>,<span class="hljs-string"><span class="hljs-string">"44797"</span></span>,<span class="hljs-string"><span class="hljs-string">"44799"</span></span>,<span class="hljs-string"><span class="hljs-string">"44801"</span></span>,<span class="hljs-string"><span class="hljs-string">"44803"</span></span>,<span class="hljs-string"><span class="hljs-string">"44805"</span></span>,<span class="hljs-string"><span class="hljs-string">"44807"</span></span>,<span class="hljs-string"><span class="hljs-string">"44809"</span></span>,<span class="hljs-string"><span class="hljs-string">"44866"</span></span>,<span class="hljs-string"><span class="hljs-string">"44867"</span></span>,<span class="hljs-string"><span class="hljs-string">"44869"</span></span>,<span class="hljs-string"><span class="hljs-string">"44879"</span></span>,<span class="hljs-string"><span class="hljs-string">"44892"</span></span>,<span class="hljs-string"><span class="hljs-string">"44894"</span></span>]} }, { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"Bielefeld"</span></span>, <span class="hljs-string"><span class="hljs-string">"score"</span></span> : <span class="hljs-number"><span class="hljs-number">328012.0</span></span>, <span class="hljs-string"><span class="hljs-string">"payload"</span></span> : {<span class="hljs-string"><span class="hljs-string">"data"</span></span>:[<span class="hljs-string"><span class="hljs-string">"Bielefeld"</span></span>,<span class="hljs-string"><span class="hljs-string">"33602"</span></span>,<span class="hljs-string"><span class="hljs-string">"33604"</span></span>,<span class="hljs-string"><span class="hljs-string">"33605"</span></span>,<span class="hljs-string"><span class="hljs-string">"33607"</span></span>,<span class="hljs-string"><span class="hljs-string">"33609"</span></span>,<span class="hljs-string"><span class="hljs-string">"33611"</span></span>,<span class="hljs-string"><span class="hljs-string">"33613"</span></span>,<span class="hljs-string"><span class="hljs-string">"33615"</span></span>,<span class="hljs-string"><span class="hljs-string">"33617"</span></span>,<span class="hljs-string"><span class="hljs-string">"33619"</span></span>,<span class="hljs-string"><span class="hljs-string">"33647"</span></span>,<span class="hljs-string"><span class="hljs-string">"33649"</span></span>,<span class="hljs-string"><span class="hljs-string">"33659"</span></span>,<span class="hljs-string"><span class="hljs-string">"33689"</span></span>,<span class="hljs-string"><span class="hljs-string">"33699"</span></span>,<span class="hljs-string"><span class="hljs-string">"33719"</span></span>,<span class="hljs-string"><span class="hljs-string">"33729"</span></span>,<span class="hljs-string"><span class="hljs-string">"33739"</span></span>]} }, { <span class="hljs-string"><span class="hljs-string">"text"</span></span> : <span class="hljs-string"><span class="hljs-string">"Bonn"</span></span>, <span class="hljs-string"><span class="hljs-string">"score"</span></span> : <span class="hljs-number"><span class="hljs-number">311938.0</span></span>, <span class="hljs-string"><span class="hljs-string">"payload"</span></span> : {<span class="hljs-string"><span class="hljs-string">"data"</span></span>:[<span class="hljs-string"><span class="hljs-string">"Bonn"</span></span>,<span class="hljs-string"><span class="hljs-string">"53111"</span></span>,<span class="hljs-string"><span class="hljs-string">"53113"</span></span>,<span class="hljs-string"><span class="hljs-string">"53115"</span></span>,<span class="hljs-string"><span class="hljs-string">"53117"</span></span>,<span class="hljs-string"><span class="hljs-string">"53119"</span></span>,<span class="hljs-string"><span class="hljs-string">"53121"</span></span>,<span class="hljs-string"><span class="hljs-string">"53123"</span></span>,<span class="hljs-string"><span class="hljs-string">"53125"</span></span>,<span class="hljs-string"><span class="hljs-string">"53127"</span></span>,<span class="hljs-string"><span class="hljs-string">"53129"</span></span>,<span class="hljs-string"><span class="hljs-string">"53173"</span></span>,<span class="hljs-string"><span class="hljs-string">"53175"</span></span>,<span class="hljs-string"><span class="hljs-string">"53177"</span></span>,<span class="hljs-string"><span class="hljs-string">"53179"</span></span>,<span class="hljs-string"><span class="hljs-string">"53225"</span></span>,<span class="hljs-string"><span class="hljs-string">"53227"</span></span>,<span class="hljs-string"><span class="hljs-string">"53229"</span></span>]} } ] } ] }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     気づいたかもしれませんが、都市の人口を重みとして使用することは論理的です。 大都市は小都市よりも先端にあります。 返される結果には、都市の名前とそのすべての郵便番号が含まれます。これを使用して、フォームに自動的に入力することができます（特に郵便番号が1つだけ見つかった場合）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     今日は以上です！ ただし、これはパブリックデータベースに適しているだけではないことに注意してください。 あなたの会社の奥深くのどこかで、誰かが既に有用なデータを収集していて、それがあなたのアプリケーションで補足され、使用されるのを待っていることは間違いありません。 あなたの同僚に聞いてください。 このようなデータベースはどの会社にもあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1> 翻訳者から </h1> これは私の最初の翻訳です。 したがって、私はそれを改善し、私の間違いを指摘するのを助けるすべての人に前もって感謝しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ありがとう 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J227063/index.html">開発者は、ゲームを完成させるために13年を費やしました。</a></li>
<li><a href="../J227065/index.html">Nokia Lumia 930：主力スマートフォンの詳細</a></li>
<li><a href="../J227067/index.html">ソーシャルネットワークの発明</a></li>
<li><a href="../J227069/index.html">Web開発者のためのいくつかの興味深い有用なこと＃19</a></li>
<li><a href="../J227073/index.html">Golang Moscowカンファレンスのビデオ録画</a></li>
<li><a href="../J22708/index.html">BigStreet.ruで、明白ではないことが起こりました</a></li>
<li><a href="../J227081/index.html">金属加工-2014、または実際のロボットの物語</a></li>
<li><a href="../J227083/index.html">最初の米国スペースジャンプ</a></li>
<li><a href="../J227087/index.html">日曜日のちょっとしたインフォグラフィック</a></li>
<li><a href="../J22709/index.html">パレットデジタルアーティスト-コンピューターパレット</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>