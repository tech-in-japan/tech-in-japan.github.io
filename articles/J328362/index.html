<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤– ğŸ§œ ğŸ¦ƒ stdã®é«˜é€ŸåŒ–:: shared_mutexã‚’10å€ ğŸš¢ ğŸ¤¾ğŸ¿ ğŸ‘’</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã®è¨˜äº‹ã§ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã¨C ++ 11ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã€ãŠã‚ˆã³ãã‚Œã‚‰ã«ã‚ˆã£ã¦x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µã§ç”Ÿæˆã•ã‚ŒãŸã‚¢ã‚»ãƒ³ãƒ–ãƒ©å‘½ä»¤ã‚’è©³ç´°ã«åˆ†æã—ã¾ã™ã€‚ 
  
 
  
 æ¬¡ã«ã€ contfree_safe_ptr <std :: map>ã®ä½œæ¥­ã‚’ã€std :: map <>ã¨æ©Ÿèƒ½çš„ã«é¡ä¼¼ã—ãŸè¤‡é›‘ã§æœ€é©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>stdã®é«˜é€ŸåŒ–:: shared_mutexã‚’10å€</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/328362/"> ã“ã®è¨˜äº‹ã§ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã¨C ++ 11ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã€ãŠã‚ˆã³ãã‚Œã‚‰ã«ã‚ˆã£ã¦x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µã§ç”Ÿæˆã•ã‚ŒãŸã‚¢ã‚»ãƒ³ãƒ–ãƒ©å‘½ä»¤ã‚’è©³ç´°ã«åˆ†æã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¬¡ã«ã€ <b>contfree_safe_ptr &lt;std :: map&gt;</b>ã®ä½œæ¥­ã‚’ã€std :: map &lt;&gt;ã¨æ©Ÿèƒ½çš„ã«é¡ä¼¼ã—ãŸè¤‡é›‘ã§æœ€é©åŒ–ã•ã‚ŒãŸ<b>ãƒ­ãƒƒã‚¯ãƒ•ãƒªãƒ¼</b>ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®ãƒ¬ãƒ™ãƒ«ã¾ã§é«˜é€ŸåŒ–ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™<a href="https://github.com/khizmax/libcds">ã€‚ com / khizmax / libcds</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¾ãŸã€contfree_safe_ptr &lt;T&gt;ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹æœ€åˆã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã‚¯ãƒ©ã‚¹Tã®ã„ãšã‚Œã§ã‚‚ã€ã“ã®ã‚ˆã†ãªãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ç”Ÿç”£æ€§ã‚’ç´„1000ï¼…å‘ä¸Šã•ã›ã‚‹æœ€é©åŒ–ã«é–¢å¿ƒãŒã‚ã‚‹ãŸã‚ã€å¼±ãã¦ç–‘ã‚ã—ã„æœ€é©åŒ–ã«ã¯æ³¨æ„ã‚’æ‰•ã„ã¾ã›ã‚“ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é–¢é€£ã™ã‚‹3ã¤ã®è¨˜äº‹ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <a href="https://habrahabr.ru/post/328348/">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã«ã™ã‚‹</a> </li><li>  stdã®é«˜é€ŸåŒ–:: shared_mutexã‚’10å€ </li><li>  <a href="https://habrahabr.ru/post/328374/">ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•std ::ãƒ­ãƒƒã‚¯ã®ãªã„ãƒãƒƒãƒ—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‚™ãˆãŸãƒãƒƒãƒ—</a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â†’ <a href="https://www.codeproject.com/Articles/1183423/We-make-a-std-shared-mutex-times-faster">ç§ã®è‹±èªã®è¨˜äº‹</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â†’ <a href="https://github.com/AlexeyAB/object_threadsafe">3ã¤ã®è¨˜äº‹ã™ã¹ã¦ã®ä¾‹ã¨ãƒ†ã‚¹ãƒˆ</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <b>é«˜æ€§èƒ½ãƒ­ãƒƒã‚¯ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿æ§‹é€ </b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      contfree_safe_ptr &lt;T&gt;ã¯ã‚¯ãƒ©ã‚¹safe_ptr &lt;Tã€contention_free_shared_mutex&gt;ã§ã™ã€‚contention_free_shared_mutexã¯ã€ç‹¬è‡ªã®æœ€é©åŒ–ã•ã‚ŒãŸå…±æœ‰mutexã§ã™ã€‚ ã¾ãŸã€safe_ptrã¯å‰å›ã®è¨˜äº‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é †ç•ªã«ã€ç‹¬è‡ªã®é«˜æ€§èƒ½ã§<b>ç«¶åˆã®ãªã„shared-mutex</b>ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã‚Œã¯ã€èª­ã¿å–ã‚Šã§ã»ã¨ã‚“ã©ç«¶åˆã—ã¾ã›ã‚“ã€‚ æ›´æ–°æ“ä½œã§è¡Œã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ã€ç‹¬è‡ªã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ãŠã‚ˆã³å†å¸°ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ãƒ­ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¾ã™ã€‚  RAIIãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’ä½œæˆã—ã¦ã€è¤‡æ•°ã®ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã®ã‚³ã‚¹ãƒˆã‚’å›é¿ã—ã¾ã™ã€‚ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆã®çµæœã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¾ãŸã€ã€Œæ¥½ã—ã¿ã®ãŸã‚ã€ã®ãƒœãƒ¼ãƒŠã‚¹ã¨ã—ã¦ã€å„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å¢ƒç•ŒãŒæœ€åˆã«ã‚ã‹ã£ã¦ã„ã‚‹å ´åˆã€DBMSã®ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¼¼ãŸè¤‡æ•°ã®std ::ãƒãƒƒãƒ—ã§æ§‹æˆã•ã‚Œã‚‹ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ç”¨ã«ã•ã‚‰ã«æœ€é©åŒ–ã•ã‚ŒãŸç‹¬è‡ªã®å˜ç´”åŒ–ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—partition_mapã®ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <b>åŸå­æ“ä½œã®åŸºç¤</b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã€åŸå­æ€§ã€ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã®åŸºæœ¬ã‚’è€ƒæ…®ã—ã¦ãã ã•ã„ã€‚ è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹å ´åˆã€ã¤ã¾ã‚Š  thread_funcï¼ˆï¼‰é–¢æ•°ã‚’è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§åŒæ™‚ã«å®Ÿè¡Œã™ã‚‹å ´åˆï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thread_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ a = a + <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// wrong: data-race</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¬¡ã«ã€thread_funcï¼ˆï¼‰é–¢æ•°ã‚’å‘¼ã³å‡ºã™å„ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€é€šå¸¸ã®å…±æœ‰å¤‰æ•°int aã«1ã‚’è¿½åŠ ã—ã¾ã™ã€‚ ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯ä¸€èˆ¬ã«ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ é€šå¸¸ã®å¤‰æ•°ã«å¯¾ã™ã‚‹è¤‡åˆæ“ä½œï¼ˆRMW-èª­ã¿å–ã‚Š-å¤‰æ›´-æ›¸ãè¾¼ã¿ï¼‰ã¯ã€åˆ¥ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã§ãã‚‹å¤šãã®å°ã•ãªæ“ä½œã§æ§‹æˆã•ã‚Œã¾ã™ã€‚ æ“ä½œa = a + 1; å°‘ãªãã¨ã‚‚3ã¤ã®ãƒŸãƒ‹ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§æ§‹æˆã•ã‚Œã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> å¤‰æ•°ã€Œaã€ã®å€¤ã‚’ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¬ã‚¸ã‚¹ã‚¿ã«ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ </li><li> ãƒ¬ã‚¸ã‚¹ã‚¿ã®å€¤ã«1ã‚’åŠ ç®—ã—ã¾ã™ </li><li> ãƒ¬ã‚¸ã‚¹ã‚¿ã®å€¤ã‚’å¤‰æ•°ã€Œaã€ã«æ›¸ãæˆ»ã—ã¾ã™ </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãŸã¨ãˆã°ã€int a = 0; ã¾ãŸã€2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ“ä½œa = a + 1ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ çµæœã¯a = 2ã«ãªã‚Šã¾ã™ã€‚ ã—ã‹ã—ã€æ¬¡ã®ã“ã¨ãŒèµ·ã“ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™-ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// register1 = ?, register2 = ?, a = 0 Thread 1: register1 = a; // register1 = 0, register2 = ?, a = 0 Thread 2: register2 = a; // register1 = 0, register2 = 0, a = 0 Thread 1: register1++; // register1 = 1, register2 = 0, a = 0 Thread 2: register2++; // register1 = 1, register2 = 1, a = 0 Thread 1: a = register1; // register1 = 1, register2 = 1, a = 1 Thread 2: a = register2; // register1 = 1, register2 = 1, a = 1</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2ã¤ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒåŒã˜ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°+1ã«è¿½åŠ ã•ã‚Œã¾ã™ãŒã€æœ€çµ‚çš„ã«å¤‰æ•°a = 1ã§ã™ã€‚ã“ã®å•é¡Œã¯ãƒ‡ãƒ¼ã‚¿ãƒ¬ãƒ¼ã‚¹ã¨å‘¼ã°ã‚Œã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®å•é¡Œã‚’å›é¿ã™ã‚‹ã«ã¯3ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯å‘½ä»¤ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€1ã¤ã®æ¬ ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã‚¢ãƒˆãƒŸãƒƒã‚¯é–¢æ•°ã®æ•°ã¯éå¸¸ã«å°‘ãªã„ãŸã‚ã€ãã‚Œã‚‰ã‚’ä½¿ç”¨ã—ã¦è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã¯å›°é›£<a href="http://en.cppreference.com/w/cpp/atomic/atomic">ã§ã™ã€‚</a> </li><li> æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒŠã”ã¨ã«ç‹¬è‡ªã®è¤‡é›‘ãªãƒ­ãƒƒã‚¯ãƒ•ãƒªãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’é–‹ç™ºã—ã¾ã™ã€‚ </li><li> ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ï¼ˆstd :: mutexã€std :: shared_timed_mutexã€spinlock ...ï¼‰-ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã¸ã®1ã¤ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’é †ç•ªã«è¨±å¯ã™ã‚‹ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ç«¶åˆã¯ç™ºç”Ÿã›ãšã€é€šå¸¸ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ãªã„ä»»æ„ã®è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’ä½¿ç”¨ã§ãã¾ã™ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€‚ </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      std :: atomic &lt;int&gt; a; æœ€åˆã«a = 0ã®å ´åˆ; ã¾ãŸã€2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ“ä½œa + = 1ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ çµæœã¯å¸¸ã«a = 2ã«ãªã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; a; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">thread_func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ a += <span class="hljs-number"><span class="hljs-number">1</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// correct: no data-race</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¬¡ã¯x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µã§å¸¸ã«ç™ºç”Ÿã—ã¾ã™ï¼ˆã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; a = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// register1 = ?, register2 = ?, a = 0 Thread 1: register1 = a; // register1 = 0, register2 = ?, a = 0 Thread 1: register1++; // register1 = 1, register2 = ?, a = 0 Thread 1: a = register1; // register1 = 1, register2 = ?, a = 1 Thread 2: register2 = a; // register1 = 1, register2 = 1, a = 1 Thread 2: register2++; // register1 = 1, register2 = 2, a = 1 Thread 2: a = register2; // register1 = 1, register2 = 2, a = 2</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ARMã‚„PowerPCãªã©ã€LL / SCã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ã¯ã€ä»–ã®æ‰‹é †ãŒç™ºç”Ÿã—ã¾ã™ãŒã€åŒã˜çµæœa = 2ãŒç™ºç”Ÿã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      C ++ 11ã§å°å…¥ã•ã‚ŒãŸã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ï¼š <a href="http://en.cppreference.com/w/cpp/atomic/atomic">en.cppreference.com/w/cpp/atomic/atomic</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      std :: atomic &lt;&gt;ã‚¯ãƒ©ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ¡ãƒ³ãƒãƒ¼ã§ã‚ã‚‹é–¢æ•°ã¯å¸¸ã«ã‚¢ãƒˆãƒŸãƒƒã‚¯ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ä»¥ä¸‹ã«ã€æ­£ã—ã„ã‚³ãƒ¼ãƒ‰ã®3ã¤ã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’ç¤ºã—ã¾ã™ã€‚æ„å‘³ã¯åŒã˜ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1.ä¾‹ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; a; a = <span class="hljs-number"><span class="hljs-number">20</span></span>; a += <span class="hljs-number"><span class="hljs-number">50</span></span>;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2.ã“ã‚Œã¯ä¾‹1ã¨åŒã˜ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; a; a.store( <span class="hljs-number"><span class="hljs-number">20</span></span> ); a.fetch_add( <span class="hljs-number"><span class="hljs-number">50</span></span> );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3.ãã—ã¦ã€ã“ã‚Œã¯ä¾‹1ã¨åŒã˜ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; a; a.store( <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_seq_cst ); a.fetch_add( <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_seq_cst );</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¤ã¾ã‚Šã€std :: atomicã®å ´åˆï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>loadï¼ˆï¼‰</b>ãŠã‚ˆã³<b>storeï¼ˆï¼‰</b>ã¯ã€ <b>æ¼”ç®—å­T</b>ãŠã‚ˆã³<b>æ¼”ç®—å­=</b>ã¨åŒã˜ã§ã™ã€‚ </li><li>  <b>fetch_addï¼ˆï¼‰</b>ãŠã‚ˆã³<b>fetch_subï¼ˆï¼‰</b>ã¯ã€ <b>operator + =</b>ãŠã‚ˆã³<b>operator- =</b>ã¨åŒã˜ã§ã™ </li><li>  Sequential Consistencyï¼ˆstd :: memory_order_seq_cstï¼‰ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã§ã™ï¼ˆæœ€ã‚‚å³æ ¼ã§ä¿¡é ¼æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ä»–ã¨æ¯”è¼ƒã—ã¦æœ€ã‚‚ä½é€Ÿã§ã™ï¼‰ã€‚ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      C ++ 11ã®<b>std :: atomic</b>ã¨<b>volatile</b>ã®é•ã„ã«æ³¨æ„ã—ã¦ãã ã•ã„ï¼š <a href="http://www.drdobbs.com/parallel/volatile-vs-volatile/212701484">www.drdobbs.com/parallel/volatile-vs-volatile/212701484</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      5ã¤ã®ä¸»ãªé•ã„ãŒã‚ã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <b>æœ€é©åŒ–</b> ï¼šstd :: Atomic &lt;T&gt; a; æ®ç™ºæ€§T aã§ã¯ä¸å¯èƒ½ãª2ã¤ã®æœ€é©åŒ–ãŒå¯èƒ½ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ãƒãƒ¼ã‚¸ã®æœ€é©åŒ–ï¼ša = 10;  a = 20;  = 20ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢å®šæ•°ç½®æ›ã®æœ€é©åŒ–ï¼ša = 1; ãƒ­ãƒ¼ã‚«ãƒ«= a;  = 1ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãƒ­ãƒ¼ã‚«ãƒ«= 1; </li><li>  <b>ä¸¦ã¹æ›¿ãˆ</b> ï¼šstdã®æ“ä½œ:: atomic &lt;T&gt; a; ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢std :: memory_order_ ...ã«å¾“ã£ã¦ã€é€šå¸¸ã®å¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸæ“ä½œãŠã‚ˆã³ä»–ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸæ“ä½œã«ã¤ã„ã¦ã€ãã‚Œè‡ªä½“ã®å‘¨ã‚Šã®ä¸¦ã¹æ›¿ãˆã‚’åˆ¶é™ã§ãã¾ã™ã€‚ é€šå¸¸ã®å¤‰æ•°ï¼ˆéåŸå­/ä¸æ®ç™ºæ€§ï¼‰ã®é †åºã«ã¯å½±éŸ¿ã—ã¾ã›ã‚“ãŒã€ã™ã¹ã¦ã®æ®ç™ºæ€§å¤‰æ•°ã®å‘¼ã³å‡ºã—ã¯å¸¸ã«å³å¯†ãªç›¸äº’é †åºã‚’ç¶­æŒã—ã¾ã™ã€‚  2ã¤ã®æ®ç™ºæ€§æ“ä½œã®å®Ÿè¡Œé †åºã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã§ã¯ãªãã€ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§å¤‰æ›´ã§ãã¾ã™ã€‚ </li><li> ã‚¹ãƒ”ãƒ«ï¼šãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢std :: memory_order_releaseã€std :: memory_order_acq_relã€std :: memory_order_seq_cstãŒstd :: atomic &lt;T&gt; aã®æ“ä½œã«æŒ‡å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹å‰ã«ã€ã™ã¹ã¦ã®å…±é€šå¤‰æ•°ã®æµå‡ºã‚’é–‹å§‹ã—ã¾ã™ã€‚ ã¤ã¾ã‚Š ã“ã‚Œã‚‰ã®ãƒãƒªã‚¢ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã“ã®ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã‚’ä»–ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§ä½¿ç”¨ã§ããªã„ã“ã¨ã‚’100ï¼…ä¿è¨¼ã§ããªã„é™ã‚Šã€ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¬ã‚¸ã‚¹ã‚¿ã‹ã‚‰RAM /ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«é€šå¸¸ã®å¤‰æ•°ã‚’ã‚¢ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ </li><li>  <b>Atomicity / Alignment</b> ï¼šstdã«å¯¾ã™ã‚‹æ“ä½œ:: atomic &lt;T&gt; a; ä»–ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å®Œå…¨ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‹ã€ã¾ã£ãŸãè¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ æ•´æ•°å‹Tã®å ´åˆã€ã“ã‚Œã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ã‚ˆã£ã¦ãƒ¡ãƒ¢ãƒªå†…ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã®ä½ç½®ã‚’èª¿æ•´ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã•ã‚Œã¾ã™-å°‘ãªãã¨ã‚‚å¤‰æ•°ã¯1ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«å­˜åœ¨ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã¯1å›ã®CPUæ“ä½œã§å¤‰æ›´ã¾ãŸã¯èª­ã¿å–ã‚Šã§ãã¾ã™ é€†ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã€æ®ç™ºæ€§å¤‰æ•°ã®ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã¨ãã‚Œã‚‰ã«å¯¾ã™ã‚‹æ“ä½œã®ã‚¢ãƒˆãƒŸãƒƒã‚¯æ€§ã‚’ä¿è¨¼ã—ã¾ã›ã‚“ã€‚ æ®ç™ºæ€§å¤‰æ•°ã¯é€šå¸¸ã€ãƒ‡ãƒã‚¤ã‚¹ãƒ¡ãƒ¢ãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚„<a href="https://en.wikipedia.org/wiki/Volatile_(computer_programming)">ãã®ä»–ã®å ´åˆ</a>ã«ä½¿ç”¨ã•ã‚Œã¾ã™ãŒã€ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã®ãƒ‡ãƒ¼ã‚¿äº¤æ›ã«ã¯ä½¿ç”¨ã•ã‚Œã¾ã›ã‚“ã€‚ ãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒãƒ¼APIã¯ã€æ®ç™ºæ€§å¤‰æ•°ã¸ã®ãƒã‚¤ãƒ³ã‚¿ãƒ¼ã‚’è¿”ã—ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€ã“ã®APIã¯ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚ </li><li>  <b>RMWæ“ä½œã®ã‚¢ãƒˆãƒŸãƒƒã‚¯æ€§</b> ï¼ˆèª­ã¿å–ã‚Š-å¤‰æ›´-æ›¸ãè¾¼ã¿ï¼‰ï¼šstd <b>ã«å¯¾ã™ã‚‹æ“ä½œ</b> :: atomic &lt;T&gt; a;  ï¼ˆ++ã€-ã€+ =ã€-=ã€* =ã€/ =ã€CASã€äº¤æ›ï¼‰ãªã©ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚  2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒ++ aæ“ä½œã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ; ã“ã®å¤‰æ•°ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ï¼ˆx86_64ï¼‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã‹ã€RMWæ“ä½œã®å…¨æœŸé–“ã«ã‚ãŸã£ã¦LL / SCï¼ˆARMã€PowerPCï¼‰ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«å¤‰æ›´ãŒãªã„ã“ã¨ã‚’ãƒãƒ¼ã‚¯ã™ã‚‹ã“ã¨ã§é”æˆã•ã‚Œã¾ã™ã€‚ æ®ç™ºæ€§å¤‰æ•°ã¯ã€è¤‡åˆRMWæ“ä½œã®åŸå­æ€§ã‚’æä¾›ã—ã¾ã›ã‚“ã€‚ </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      std ::ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã¨æ®ç™ºæ€§å¤‰æ•°ã«ã¯ã€1ã¤ã®ä¸€èˆ¬çš„ãªãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚å„èª­ã¿å–ã‚Šã¾ãŸã¯æ›¸ãè¾¼ã¿æ“ä½œã¯ã€å¸¸ã«ãƒ¡ãƒ¢ãƒª/ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ å€¤ãŒãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¬ã‚¸ã‚¹ã‚¿ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¾ãŸã€é€šå¸¸ã®ï¼ˆé€šå¸¸ã®ï¼‰å¤‰æ•°ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆéã‚¢ãƒˆãƒŸãƒƒã‚¯/ä¸æ®ç™ºæ€§ï¼‰ã«ã¤ã„ã¦ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¾ãŸã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã‚ˆã‚‹ç›¸äº’ã®ç‹¬ç«‹ã—ãŸå‘½ä»¤ã®æœ€é©åŒ–ã¨ä¸¦ã¹æ›¿ãˆãŒå¯èƒ½ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢std :: memory_order_releaseã€std :: memory_order_acq_relãŠã‚ˆã³std :: memory_order_seq_cstã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã«ãƒ¡ãƒ¢ãƒªã«æ›¸ãè¾¼ã‚€æ“ä½œã¯ã€ç¾åœ¨ã‚ªãƒ³ã«ãªã£ã¦ã„ã‚‹ã™ã¹ã¦ã®éã‚¢ãƒˆãƒŸãƒƒã‚¯/ä¸æ®ç™ºæ€§å¤‰æ•°ã®æµå‡ºï¼ˆãƒ¬ã‚¸ã‚¹ã‚¿ã‹ã‚‰ãƒ¡ãƒ¢ãƒªã¸ã®æ›¸ãè¾¼ã¿ï¼‰ã‚’ä¿è¨¼ã™ã‚‹ã“ã¨ã‚’æ€ã„å‡ºã—ã¦ãã ã•ã„ãƒ—ãƒ­ã‚»ãƒƒã‚µã®ç™»éŒ²ã®ç¬é–“ï¼š <a href="https://en.wikipedia.org/wiki/Register_allocation">en.wikipedia.org/wiki/Register_allocation#Spilling</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <b>å‘½ä»¤ã®å®Ÿè¡Œé †åºã‚’å¤‰æ›´ã™ã‚‹</b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯å‘½ä»¤ã‚’ä¸¦ã¹æ›¿ãˆã¦ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æœ€é©åŒ–ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      GCCã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µãŒè¡Œã†æœ€é©åŒ–ã®ä¾‹ã‚’æ¬¡ã«ç¤ºã—ã¾ã™<a href="https://godbolt.org/g/n91hpt">ã€‚godbolt.org</a> / <a href="https://godbolt.org/g/n91hpt">g</a> / <a href="https://godbolt.org/g/n91hpt">n91hpt</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/f31/f71/4e6/f31f714e62fad1a8f2046cffab9e2296.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ•ãƒ«ã‚µã‚¤ã‚ºã®ç”»åƒï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="">hsto.org/files/3d2/18b/c7b/3d218bc7b3584f82820f92077096d7a0.jpg</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     å†™çœŸã®æœ€é©åŒ–ã¯ä½•ã§ã™ã‹ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <b>GCC 7.0ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ä¸¦ã¹æ›¿ãˆï¼š</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ãƒ¡ãƒ¢ãƒªã‚¨ãƒ³ãƒˆãƒªã‚’äº¤æ›ã—ã¾ã™b = 5; ãƒ¡ãƒ¢ãƒªã‹ã‚‰ãƒ¬ã‚¸ã‚¹ã‚¿int tmp_c = c;ã«ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€ã€Œcã€ã®å€¤ã‚’ã§ãã‚‹ã ã‘æ—©ãè¦æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã€ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã“ã®é•·ã„æ“ä½œã®å®Œäº†ã‚’æœŸå¾…ã—ã¾ã™ãŒã€ãƒ—ãƒ­ã‚»ãƒƒã‚µã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¯æ“ä½œb = 5ã®ä¸¦åˆ—å®Ÿè¡Œã‚’è¨±å¯ã—ã¾ã™ã€‚ ã“ã‚Œã‚‰2ã¤ã®æ“ä½œã¯äº’ã„ã«ç‹¬ç«‹ã—ã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ãƒ¡ãƒ¢ãƒªã‹ã‚‰ãƒ¬ã‚¸ã‚¹ã‚¿int tmp_a = aã¸ã®ãƒ­ãƒ¼ãƒ‰ã‚’çµ„ã¿åˆã‚ã›ã¾ã™ã€‚ ãŠã‚ˆã³è¿½åŠ æ“ä½œtmp_c = tmp_c + tmp_a;  -çµæœã¨ã—ã¦ã€2ã¤ã®å‘½ä»¤ã®ä»£ã‚ã‚Šã«ã€1ã¤ã®è¿½åŠ eaxãŒå–å¾—ã•ã‚Œã€[rip] </li><li>  <b>x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã‚ˆã‚‹ä¸¦ã¹æ›¿ãˆï¼š</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã€å®Ÿéš›ã®ãƒ¡ãƒ¢ãƒªãƒ¬ã‚³ãƒ¼ãƒ‰mov b [rip]ã€5ã‚’ã‚¹ãƒ¯ãƒƒãƒ—ã—ã€add add eaxã€a [rip]ã¨çµ„ã¿åˆã‚ã›ã¦ãƒ¡ãƒ¢ãƒªã‹ã‚‰èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      mov b [rip]å‘½ä»¤ã‚’ä½¿ç”¨ã—ã¦ãƒ¡ãƒ¢ãƒªã¸ã®æ›¸ãè¾¼ã¿ã‚’é–‹å§‹ã™ã‚‹ã¨ã€æ¬¡ã®5ãŒç™ºç”Ÿã—ã¾ã™ã€‚ã¾ãšã€å€¤5ã¨ã‚¢ãƒ‰ãƒ¬ã‚¹b [rip]ãŒStore-bufferãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ã‚­ãƒ¥ãƒ¼ã«é…ç½®ã•ã‚Œã€ã™ã¹ã¦ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã‚³ã‚¢ã®ã‚¢ãƒ‰ãƒ¬ã‚¹b [rip]å¿œç­”ã®å ´åˆã€CPU-Core-0ã¯b [rip]ã‚’å«ã‚€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ŒeXclusiveã€ã‚’è¨­å®šã—ã€ãã®å¾Œã§å®Ÿéš›ã®å€¤5ãŒã‚¹ãƒˆã‚¢ãƒãƒƒãƒ•ã‚¡ã‹ã‚‰b [rip]ã§ã“ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚  x86_64ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚³ãƒ’ãƒ¼ãƒ¬ãƒ³ã‚¹ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®è©³ç´°MOESI / MESIF-ã™ã¹ã¦ã®ã‚³ã‚¢ã«å³åº§ã«è¡¨ç¤ºã•ã‚Œã‚‹å¤‰æ›´ï¼š <a href="https://en.wikipedia.org/wiki/MESIF_protocol">en.wikipedia.org/wiki/MESIF_protocol</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®ã™ã¹ã¦ã®æ™‚é–“ã‚’å¾…ãŸãªã„ãŸã‚ã«ã€å®Ÿéš›ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¨ãƒ³ãƒˆãƒªã‚’å¾…ãŸãšã«5ãŒStore-Bufferã«é…ç½®ã•ã‚ŒãŸç›´å¾Œã«ã€ãƒ¡ãƒ¢ãƒªã‹ã‚‰ã®èª­ã¿å–ã‚Šã¾ãŸã¯ãƒ¬ã‚¸ã‚¹ã‚¿æ“ä½œã®å®Ÿè¡Œã‚’é–‹å§‹ã§ãã¾ã™ã€‚ ã“ã‚Œã¯ã€ã¾ã•ã«x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãŒè¡Œã†ã“ã¨ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Intel 64ãŠã‚ˆã³IA-32ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºè€…å‘ã‘ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ç¬¬3å·»ï¼ˆ3Aã€3Bã€3CãŠã‚ˆã³3Dï¼‰ï¼šã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ï¼š <a href="https://www-ssl.intel.com/content/dam/www/public/us/en/documents/manuals/64-ia-32-architectures-software-developer-system-programming-manual-325384.pdf">www-ssl.intel.com/content/dam/www/public/us/en/documents/manuals/ 64-ia-32-architectures-software-developer-system-programming-manual-325384.pdf</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  8.2.3.4ç•°ãªã‚‹å ´æ‰€ã¸ã®ä»¥å‰ã®ã‚¹ãƒˆã‚¢ã§ãƒ­ãƒ¼ãƒ‰ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Intel-64ã®ãƒ¡ãƒ¢ãƒªé †åºãƒ¢ãƒ‡ãƒ«ã§ã¯ã€ä»¥å‰ã®ã‚¹ãƒˆã‚¢ã‚’ä½¿ç”¨ã—ã¦åˆ¥ã®å ´æ‰€ã«ãƒ­ãƒ¼ãƒ‰ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ ãŸã ã—ã€åŒã˜å ´æ‰€ã¸ã®åº—èˆ—ã®å ´åˆã€è·ç‰©ã¯ä¸¦ã¹æ›¿ãˆã‚‰ã‚Œã¾ã›ã‚“ã€‚ </blockquote></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      x86_64ãƒ•ã‚¡ãƒŸãƒªã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã¯å¼·åŠ›ãªãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚ ã¾ãŸã€PowerPCã‚„ARM v7 / v8ãªã©ã®ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ãŒå¼±ã„ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã€ã•ã‚‰ã«å¤šãã®ä¸¦ã¹æ›¿ãˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é€šå¸¸ã®<b>é€šå¸¸</b>å¤‰æ•°ã€ <b>æ®ç™ºæ€§</b>å¤‰æ•°ã€ <b>ã‚¢ãƒˆãƒŸãƒƒã‚¯</b>å¤‰æ•°ã®ãƒ¡ãƒ¢ãƒªã‚¨ãƒ³ãƒˆãƒªã®å¯èƒ½ãªä¸¦ã¹æ›¿ãˆã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é€šå¸¸ã®å¤‰æ•°ã®ä¸¦ã¹æ›¿ãˆï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/644/14e/f9d/64414ef9db4b116d1200e366df6b7aee.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é€šå¸¸ã®å¤‰æ•°ã‚’å«ã‚€ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¾ãŸã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚  1ã¤ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ å†…ã§ã¯ã€ãã®æ„å‘³ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚ ã—ã‹ã—ã€å¤šãã®ã‚¹ãƒ¬ãƒƒãƒ‰å†…ã§ã¯ã€ã“ã®ã‚ˆã†ãªä¸¦ã¹æ›¿ãˆãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2ã¤ã®å¤‰æ•°ãŒæ®ç™ºæ€§ã®å ´åˆã€æ¬¡ã®ä¸¦ã¹æ›¿ãˆãŒå¯èƒ½ã§ã™ã€‚ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«volatileå¤‰æ•°ã®æ“ä½œã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã€å®Ÿè¡Œæ™‚ã«ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãŒã“ã®ä¸¦ã¹æ›¿ãˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/1c0/db4/8fa/1c0db48faea9a487237a09b009de2d3e.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãã®ã‚ˆã†ãªä¸¦ã¹æ›¿ãˆã®ã™ã¹ã¦ã¾ãŸã¯ä¸€éƒ¨ã®ã¿ã‚’é˜²ããŸã‚ã«ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œãŒã‚ã‚Šã¾ã™ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã¯æœ€ã‚‚å³ã—ã„ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢<b>std :: memory_order_seq_cstã‚’</b>ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’æ€ã„å‡ºã—ã¦<b>ãã ã•ã„</b> ï¼‰ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/630/a55/769/630a55769ff98887a9ae924b36816c11.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     åˆ¥ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€ãƒ¡ãƒ¢ãƒªå†…ã®å¤‰æ•°ã®å¤‰æ›´ã‚’ã“ã®å¤‰æ›´ã•ã‚ŒãŸé †åºã§æ­£ç¢ºã«è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã«ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã‚’æŒ‡å®šã—ãªã„å ´åˆã€æœ€ã‚‚å³å¯†ãªstd :: memory_order_seq_cstãƒãƒªã‚¢ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨ã•ã‚Œã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ã¾ãŸã¯éã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã¯ãã®ã‚ˆã†ãªæ“ä½œã§ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ï¼ˆãŸã ã—ã€ä¾‹å¤–ãŒã‚ã‚Šã¾ã™-ã“ã‚Œã«ã¤ã„ã¦ã¯å¾Œã§èª¬æ˜ã—ã¾ã™ï¼‰ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ä¸Šè¨˜ã®å ´åˆã€æœ€åˆã«é€šå¸¸ã®å¤‰æ•°aãŠã‚ˆã³bã«æ›¸ãè¾¼ã¿ã€æ¬¡ã«ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°a_atãŠã‚ˆã³b_atã«æ›¸ãè¾¼ã¿ã¾ã™ã€‚ã“ã®é †åºã¯å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚ ã¾ãŸã€b_atãƒ¡ãƒ¢ãƒªã¸ã®æ›¸ãè¾¼ã¿ã¯ã€a_atãƒ¡ãƒ¢ãƒªã¸ã®æ›¸ãè¾¼ã¿ã‚ˆã‚Šã‚‚æ—©ãè¡Œã†ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ ãŸã ã—ã€å¤‰æ•°aãŠã‚ˆã³bã¸ã®æ›¸ãè¾¼ã¿ã¯ã€ç›¸äº’ã«ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ã€Œæ³¨æ–‡ã§ãã‚‹ã€ã¨è¨€ã†ã¨ãã€ã“ã‚Œã¯å¯èƒ½ã§ã™ãŒã€å¿…ãšã—ã‚‚ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«C ++ã‚³ãƒ¼ãƒ‰ã‚’æœ€é©åŒ–ã™ã‚‹ã‹ã€å®Ÿè¡Œæ™‚ã«CPUã‚’æœ€é©åŒ–ã™ã‚‹ã‹ã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ä»¥ä¸‹ã§ã¯ã€è¨±å¯ã•ã‚ŒãŸæ–¹å‘ã«å‘½ä»¤ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€ã‚ˆã‚Šå¼±ã„ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ã‚³ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šæœ€é©åŒ–ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <b>ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹æ“ä½œã«å¯¾ã™ã‚‹éšœå£ã®ä¸¦ã¹æ›¿ãˆ</b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      C ++ 11æ¨™æº–ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¯ã€æœ€æ–°ã®CPUã®æŠ•æ©Ÿçš„å®Ÿè¡Œã®æ©Ÿèƒ½ã«å¯¾å¿œã™ã‚‹6ç¨®é¡ã®ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã‚’æä¾›ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ä¸¦ã¹æ›¿ãˆã‚’å®Œå…¨ã«ç¦æ­¢ã™ã‚‹ã®ã§ã¯ãªãã€å¿…è¦ãªæ–¹å‘ã«ã®ã¿ä½¿ç”¨ã§ãã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ãƒ—ãƒ­ã‚»ãƒƒã‚µãŒã‚³ãƒ¼ãƒ‰ã‚’å¯èƒ½ãªé™ã‚Šæœ€é©åŒ–ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ ã¾ãŸã€ç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ä¸¦ã¹æ›¿ãˆã®æŒ‡ç¤ºã«ã‚ˆã‚Šã€ã‚³ãƒ¼ãƒ‰ã®æ­£ç¢ºæ€§ã‚’ç¶­æŒã§ãã¾ã™ã€‚  <a href="http://en.cppreference.com/w/cpp/atomic/memory_order">en.cppreference.com/w/cpp/atomic/memory_order</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> memory_order { memory_order_relaxed, memory_order_consume, memory_order_acquire, memory_order_release, memory_order_acq_rel, memory_order_seq_cst };</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>memory_order_consumeã€‚</b> ãŸã ã—ã€meâ€‹â€‹mory_order_consumeãƒãƒªã‚¢ã‚’å®Ÿéš›ã«ã¯ä½¿ç”¨ã—ãªã„ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ æ¨™æº–ã¯ãã®ä½¿ç”¨ã®é©åˆ‡æ€§ã«ç–‘å•ã‚’æŠ±ã„ã¦ã„ã¾ã™-æ¨™æº–ã‹ã‚‰ã®å¼•ç”¨ï¼š <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf">www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  Â§29.3 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ï¼ˆ1.3ï¼‰-memory_order_consumeï¼šãƒ­ãƒ¼ãƒ‰æ“ä½œã¯ã€å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ¡ãƒ¢ãƒªä½ç½®ã§æ¶ˆè²»æ“ä½œã‚’å®Ÿè¡Œã—ã¾ã™ã€‚  [æ³¨ï¼šmemory_order_acumeã‚’å„ªå…ˆã—ã¾ã™ã€‚ã“ã‚Œã¯ã€memory_order_consumeã‚ˆã‚Šã‚‚å¼·åŠ›ãªä¿è¨¼ã‚’æä¾›ã—ã¾ã™ã€‚ å®Ÿè£…ã§ã¯ã€memory_order_acquireã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ˆã‚Šã‚‚å„ªã‚ŒãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æä¾›ã™ã‚‹ã“ã¨ã¯å®Ÿè¡Œä¸å¯èƒ½ã§ã‚ã‚‹ã“ã¨ãŒã‚ã‹ã£ã¦ã„ã¾ã™ã€‚ ä»•æ§˜ã®æ”¹è¨‚ã¯æ¤œè¨ä¸­ã§ã™ã€‚  -çµ‚äº†ãƒãƒ¼ãƒˆ] </blockquote></li><li>  <b>memory_order_acq_relã€‚</b> ã¾ãŸã€memory_order_acq_relãƒãƒªã‚¢ã¯ã€compare_exchange_weakï¼ˆï¼‰/ _ strongï¼ˆï¼‰ã€exchangeï¼ˆï¼‰ã€fetch_ï¼ˆaddã€subã€andã€orã€xorï¼‰ãªã©ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªåŒ–åˆç‰©RMWï¼ˆèª­ã¿å–ã‚Š-å¤‰æ›´-æ›¸ãè¾¼ã¿ï¼‰æ“ä½œã«ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚åå‰ä»˜ãæ¼”ç®—å­ï¼š <a href="http://en.cppreference.com/w/cpp/atomic/atomic">en.cppreference.com/w/cpp/atomic/atomic</a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ®‹ã‚Šã®4ã¤ã®ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã¯ã€å–å¾—-ã‚¹ãƒˆã‚¢ï¼ˆï¼‰ã«ä½¿ç”¨ã•ã‚Œãªã„ã€ãƒªãƒªãƒ¼ã‚¹-ãƒ­ãƒ¼ãƒ‰ï¼ˆï¼‰ã«ä½¿ç”¨ã•ã‚Œãªã„-ã‚’é™¤ãã€ã™ã¹ã¦ã®æ“ä½œã«ä½¿ç”¨ã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/64c/422/198/64c422198a2c76f6814aa24315c13bed.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     é¸æŠã—ãŸãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã«å¿œã˜ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯ãƒãƒªã‚¢ã«å¯¾ã—ã¦å®Ÿè¡Œå¯èƒ½ãªã‚³ãƒ¼ãƒ‰ã‚’ç•°ãªã‚‹æ–¹å‘ã«ç§»å‹•ã™ã‚‹ã“ã¨ã‚’ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã“ã§ã€çŸ¢å°ãŒç¤ºã™ã‚‚ã®ã‚’æ­£ç¢ºã«ç¤ºã—ã¾ã™-å ´æ‰€ã‚’å¤‰æ›´ã§ãã‚‹ã‚‚ã®ã¨ã§ããªã„ã‚‚ã®ã‚’ç¤ºã—ã¾ã™ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/6ca/3f8/9b6/6ca3f89b6ec08634131df0c499ad0f2d.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2ã¤ã®å‘½ä»¤ã§å ´æ‰€ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã«ã¯ã€ã“ã‚Œã‚‰ã®å‘½ä»¤ã®ä¸¡æ–¹ã®éšœå£ãŒãã®ã‚ˆã†ãªäº¤æ›ã‚’è¨±å¯ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ãªãœãªã‚‰  ã€Œãã®ä»–ã®ä»»æ„ã®ã‚³ãƒ¼ãƒ‰ã€ã¯ã€éšœå£ã®ãªã„é€šå¸¸ã®éåŸå­å¤‰æ•°ã§ã‚ã‚Šã€é †åºã‚’å¤‰æ›´ã§ãã¾ã™ã€‚ å·¦ä¸‹ã®ä¾‹ã®<b>Relaxed-Release-Relaxed</b>ã§ã¯ã€ã”è¦§ã®<b>ã¨ãŠã‚Š</b> ã€åŒã˜ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã®é †åºã‚’å¤‰æ›´ã§ãã‚‹ã‹ã©ã†ã‹ã¯ã€ãã®é †åºã«ã‚ˆã£ã¦ç•°ãªã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã‚Œã‚‰ã®ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã®æ„å‘³ã¨ã€æœ€ã‚‚ä¸€èˆ¬çš„ãªAcquire-Releaseã®ä¸¦ã¹æ›¿ãˆã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’å¿…è¦ã¨ã™ã‚‹å˜ç´”ãªã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯å®Ÿè£…ã‚’ä½¿ç”¨ã—ã¦å¾—ã‚‰ã‚Œã‚‹åˆ©ç‚¹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã¯ã€std :: mutexã¨åŒæ§˜ã®ä½¿ç”¨æ³•ã«ã‚ˆã‚‹ãƒ­ãƒƒã‚¯ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¾ãšã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®æœ¬ä½“ã«ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã®æ¦‚å¿µã‚’ç›´æ¥å®Ÿè£…ã—ã¾ã™ã€‚ ãã—ã¦ã€åˆ¥ã®ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ ãƒ­ãƒƒã‚¯ï¼ˆãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯...ï¼‰ã‚’å®Ÿè£…ã™ã‚‹ã«ã¯ã€Acquire-Releaseã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã€ <b>C ++ 11 StandardÂ§1.10.1</b> ï¼ˆ3ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf">www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606 .pdf</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  ...ãŸã¨ãˆã°ã€mutexã‚’å–å¾—ã™ã‚‹å‘¼ã³å‡ºã—ã¯ã€mutexã‚’æ§‹æˆã™ã‚‹å ´æ‰€ã§<b>å–å¾—</b>æ“ä½œã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ åŒæ§˜ã«ã€åŒã˜ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã‚’è§£æ”¾ã™ã‚‹å‘¼ã³å‡ºã—ã¯ã€åŒã˜å ´æ‰€ã§<b>è§£æ”¾</b>æ“ä½œã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ éå…¬å¼ã«ã¯ã€ <u>Aã§ãƒªãƒªãƒ¼ã‚¹æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»–ã®ãƒ¡ãƒ¢ãƒªä½ç½®ã«å¯¾ã™ã‚‹ä»¥å‰ã®å‰¯ä½œç”¨ãŒã€å¾Œã§Aã§æ¶ˆè²»ã¾ãŸã¯å–å¾—æ“ä½œã‚’å®Ÿè¡Œã™ã‚‹ä»–ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰è¦‹ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</u> </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Acquire-Releaseã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã®ä¸»ãªãƒã‚¤ãƒ³ãƒˆã¯ã€ <b>æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚flag.load</b>æ“ä½œ<b>ï¼ˆstd :: memory_order_acquireï¼‰ã®</b>å¾Œã®thread-2â€œ Thread-2â€ã¯ã€è¡Œã‚ã‚ŒãŸå¤‰æ•°/æ§‹é€ /ã‚¯ãƒ©ã‚¹ï¼ˆã‚¢ãƒˆãƒŸãƒƒã‚¯ãªã‚‚ã®ã§ã•ãˆãªã„ï¼‰ã®ã™ã¹ã¦ã®å¤‰æ›´ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã™<b>thread.1 flag.storeï¼ˆ0ã€std :: memory_order_releaseï¼‰</b>æ“ä½œãŒ<b>å®Ÿè¡Œã•ã‚Œã‚‹</b>å‰ã®ã€Œã‚¹ãƒ¬ãƒƒãƒ‰-1ã€ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ­ãƒƒã‚¯ï¼ˆãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯...ï¼‰ã®ä¸»ãªæ„å‘³ã¯ã€ä¸€åº¦ã«1ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã®ã¿ãŒå®Ÿè¡Œã§ãã‚‹ã‚³ãƒ¼ãƒ‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ã™ã€‚ è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§ä¸¦è¡Œã—ã¦å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ ã‚³ãƒ¼ãƒ‰ã®ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨å‘¼ã°ã‚Œã¾ã™ã€‚ ãã®å†…éƒ¨ã§ã¯ã€std :: atomicãªã—ãªã©ã€é€šå¸¸ã®ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ï¼ˆãƒ¡ãƒ¢ãƒªãƒ•ã‚§ãƒ³ã‚¹ï¼‰-ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰ã®æ“ä½œãŒãã‚Œã‚’è¶…ãˆã¦æ‹¡å¼µã—ãªã„ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’æœ€é©åŒ–ã—ãªã„ã‚ˆã†ã«ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æœ€åˆã«ãƒ­ãƒƒã‚¯ã‚’å–å¾—ã—ãŸã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã“ã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã€æ®‹ã‚Šã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ãƒ«ãƒ¼ãƒ—ã§å¾…æ©Ÿã—ã¾ã™ï¼ˆä¸€æ™‚çš„ã«ã‚¹ãƒªãƒ¼ãƒ—çŠ¶æ…‹ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚ æœ€åˆã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒ­ãƒƒã‚¯ã‚’è§£æ”¾ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯æ¬¡ã®å¾…æ©Ÿã‚¹ãƒ¬ãƒƒãƒ‰ã®ã©ã‚ŒãŒãƒ­ãƒƒã‚¯ã‚’å–å¾—ã™ã‚‹ã‹ã‚’æ±ºå®šã—ã¾ã™ã€‚ ãªã©ãªã©ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ„å‘³ãŒåŒã˜2ã¤ã®ä¾‹ã‚’æ¬¡ã«ç¤ºã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  std :: atomic_flagã‚’ä½¿ç”¨ï¼š[19] <a href="http://coliru.stacked-crooked.com/a/1ec9a0c2b10ce864">coliru.stacked-crooked.com/a/1ec9a0c2b10ce864</a> </li><li>  std :: atomic &lt;int&gt;ã‚’ä½¿ç”¨ï¼š[20] <a href="http://coliru.stacked-crooked.com/a/03c019596b65199a">coliru.stacked-crooked.com/a/03c019596b65199a</a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ä¾‹1ãŒæœ›ã¾ã—ã„ãŸã‚ã€ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã‚’ä½¿ç”¨ã™ã‚‹æ„å‘³ã‚’æ¦‚ç•¥çš„ã«ç¤ºã—ã¦ã„ã¾ã™ã€‚åŸå­æ“ä½œã¯é’ä¸€è‰²ã§ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/a5c/089/f12/a5c089f12996e73d320da1e7fec478da.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      [19] <a href="http://coliru.stacked-crooked.com/a/1ec9a0c2b10ce864">coliru.stacked-crooked.com/a/1ec9a0c2b10ce864</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒãƒªã‚¢ã®æ„å‘³ã¯éå¸¸ã«å˜ç´”ã§ã™-ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã‚ªãƒ—ãƒ†ã‚£ãƒã‚¤ã‚¶ãƒ¼ã¯ã€å‘½ä»¤ã‚’ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰å¤–éƒ¨ã«ç§»å‹•ã™ã‚‹ã“ã¨ã‚’è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  memory_order_ <b>acquireã®</b>å¾Œã«ã‚ã‚‹å‘½ä»¤ã¯ã€ãã®å‰ã«å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚ </li><li>  memory_order_ <b>releaseã®</b>å‰ã«ã‚ã‚‹å‘½ä»¤ã¯ã€ãã‚Œã‚ˆã‚Šå¾Œã«å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ï¼‰ã¾ãŸã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼‰ã«ã‚ˆã£ã¦ã€ç‹¬ç«‹ã—ãŸå‘½ä»¤ã®å®Ÿè¡Œé †åºã®ãã®ä»–ã®å¤‰æ›´ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãŸã¨ãˆã°ã€æ–‡å­—åˆ—<b>int new_shared_value = shared_value;</b>  <b>lock_flag.clearï¼ˆstd :: memory_order_releaseï¼‰ã®</b>å‰ã«å®Ÿè¡Œã§ãã¾ã™<b>ã€‚</b>  ã€‚ ã“ã®ä¸¦ã¹æ›¿ãˆã¯è¨±å®¹ã•ã‚Œã€ãƒ‡ãƒ¼ã‚¿ç«¶åˆã‚’ä½œæˆã—ã¾ã›ã‚“ã€‚ è¤‡æ•°ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«å…±é€šã®ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã¯ã€å¸¸ã«2ã¤ã®å–å¾—ãŠã‚ˆã³è§£æ”¾ãƒãƒªã‚¢ã«å›²ã¾ã‚Œã¦ã„ã¾ã™ã€‚ å¤–éƒ¨ã«ã¯ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ã®ã¿æ©Ÿèƒ½ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚å®Ÿè¡Œã•ã‚Œã‚‹é †åºã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚ ã‚¹ãƒ¬ãƒƒãƒ‰ã«ãƒ­ãƒ¼ã‚«ãƒ«ãªä¾å­˜é–¢ä¿‚ã¯ã€ã‚·ãƒ³ã‚°ãƒ«ã‚¹ãƒ¬ãƒƒãƒ‰å®Ÿè¡Œã®å ´åˆã¨åŒã˜æ–¹æ³•ã§å¸¸ã«ä¿æŒã•ã‚Œã‚‹ãŸã‚ã€ <b>int new_shared_value = shared_value;</b>  <b>shared_value + = 25</b>ã‚ˆã‚Šå‰ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“<b>ã€‚</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¨ã€å–å¾—-è§£æ”¾ã®éšœå£ãŒã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¨±å¯ã™ã‚‹ã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å†…éƒ¨ã«ã‚ã‚‹æ“ä½œã¯ã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å¤–éƒ¨<b>ã§</b>å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚ </li><li> ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¤–ã®æ“ä½œã¯ã€ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã§å®Ÿè¡Œ<b>ã§ã</b>ã¾ã™ï¼ˆè¿½åŠ ã®ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ãŒãªã„å ´åˆï¼‰ã€‚ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      std :: memory_orderã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒå®Ÿè¡Œã™ã‚‹ç‰¹å®šã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  1ã€6ï¼šã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã€ç‰¹å®šã®ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ã«ã“ã‚Œã‚‰ã®ãƒãƒªã‚¢ãƒ¼ãŒå¿…è¦ãªå ´åˆã€ãƒ­ãƒ¼ãƒ‰æ“ä½œã®å–å¾—ãƒãƒªã‚¢ãƒ¼ã¨ã‚¹ãƒˆã‚¢æ“ä½œã®ãƒªãƒªãƒ¼ã‚¹ãƒãƒªã‚¢ãƒ¼ã®ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼å‘½ä»¤ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ </li><li>  <b>2</b> ï¼šã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã€åˆ¥ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã«ã‚ˆã£ã¦å¤‰æ›´ã•ã‚ŒãŸã“ã‚Œã‚‰ã®å¤‰æ•°ã®å€¤ã‚’å†ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã«ã€ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¬ã‚¸ã‚¹ã‚¿ã®å¤‰æ•°ã®ä»¥å‰ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã™-ãƒ­ãƒ¼ãƒ‰ï¼ˆå–å¾—ï¼‰æ“ä½œå¾Œ </li><li>  <b>5</b> ï¼šã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã€ã™ã¹ã¦ã®å¤‰æ•°ã®å€¤ã‚’ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¬ã‚¸ã‚¹ã‚¿ã‹ã‚‰ãƒ¡ãƒ¢ãƒªã«ä¿å­˜ã—ã¦ã€ä»–ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰è¦‹ãˆã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ ã“ã¼ã‚Œã‚‹ï¼ˆ <a href="https://en.wikipedia.org/wiki/Register_allocation">ãƒªãƒ³ã‚¯</a> ï¼‰-ã‚¹ãƒˆã‚¢ï¼ˆãƒªãƒªãƒ¼ã‚¹ï¼‰ã®å‰ </li><li>  <b>3ã€4</b> ï¼šã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã€ã‚ªãƒ—ãƒ†ã‚£ãƒã‚¤ã‚¶ãƒ¼ãŒç¦æ­¢ã•ã‚ŒãŸæ–¹å‘ã«å‘½ä»¤ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã‚’é˜²ãã¾ã™-èµ¤ã„çŸ¢å°ã§ç¤ºã•ã‚Œã¦ã„ã¾ã™ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/96b/a79/c0b/96ba79c0bcc392831a41e64d39377108.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¬¡ã«ã€Acquire-Releaseã®ä»£ã‚ã‚Šã«Relaxed-Releaseã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’ä½¿ç”¨ã—ãŸå ´åˆã«ä½•ãŒèµ·ã“ã‚‹ã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/251/b6e/de7/251b6ede7186788cb1f5f0367ddd8896.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> å·¦ã¸ã€‚  <b>Acquire-Releaseã®</b>å ´åˆ<b>ã€</b>ã™ã¹ã¦ãŒæ­£ã—ãå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ </li><li> å³ã¸ã€‚  <b>Relaxed-Releaseã®</b>å ´åˆã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯æ¬¡ã®ã‚ˆã†ã«æ­£ã—ãå‹•ä½œã—ã¾ã›ã‚“ã€‚ ãƒ­ãƒƒã‚¯ã«ã‚ˆã£ã¦ä¿è­·ã•ã‚Œã¦ã„ã‚‹ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³å†…ã®ã‚³ãƒ¼ãƒ‰ã®ä¸€éƒ¨ã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¾ãŸã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µã«ã‚ˆã£ã¦å¤–å´ã«ç§»å‹•ã§ãã¾ã™ã€‚ ãã®å¾Œã€ãƒ‡ãƒ¼ã‚¿ç«¶åˆã®å•é¡ŒãŒç™ºç”Ÿã—ã¾ã™-ãƒ­ãƒƒã‚¯å‰ã§ã‚ã£ã¦ã‚‚ã€å¤šãã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒéã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œãŒå®Ÿè¡Œã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã¨åŒæ™‚ã«å‹•ä½œã‚’é–‹å§‹ã—ã¾ã™-èª¤ã£ãŸçµæœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã®åŠ©ã‘ã‚’å€Ÿã‚Šã¦ã®ã¿ã€ä¸€èˆ¬çš„ãªãƒ‡ãƒ¼ã‚¿ã‚’ä»‹ã—ã¦ã™ã¹ã¦ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã¯é€šå¸¸ä¸å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã§é«˜é€Ÿã§ã™ã€‚1ã¤ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã§ã€ãƒ•ãƒ©ã‚°ã€Œclosedã€ã‚’è¨­å®šã—ã€ãƒ•ãƒ­ãƒ¼ã«å…±é€šã®ãƒ‡ãƒ¼ã‚¿ã§ã™ã¹ã¦ã®éã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã‚’å®Ÿè¡Œã—ã€ãƒ•ãƒ©ã‚°ã€Œopenã€ã‚’è¨­å®šã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ™‚é–“çš„ã«æ¦‚ç•¥çš„ã«ç¤ºã—ã¾ã™</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/589/a28/6f4/589a286f40175b4d847eaccda08857d8.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ãŸã¨ãˆã°ã€2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒadd_to_sharedï¼ˆï¼‰é–¢æ•°ã®å®Ÿè¡Œã‚’é–‹å§‹ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰1ã¯å°‘ã—æ—©ãå…¥ã‚Šã€1ã¤ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯å‘½ä»¤test_and_setï¼ˆï¼‰ã§ä¸€åº¦ã«2ã¤ã®æ“ä½œã‚’å®Ÿè¡Œã—ã¾ã™ï¼šlock_flag == falseã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã€trueã«è¨­å®šï¼ˆã¤ã¾ã‚Šã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã‚’ãƒ–ãƒ­ãƒƒã‚¯ï¼‰ã—ã€falseã‚’è¿”ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€å¼whileï¼ˆlock_flag.test_and_setï¼ˆï¼‰ï¼‰; </font><font style="vertical-align: inherit;">ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã¯ã™ãã«çµ‚äº†ã—ã€å®Ÿè¡Œã‚’é–‹å§‹ã—ã¾ã™ã€‚</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¾æ™‚ç‚¹ã§ã‚¹ãƒ¬ãƒƒãƒ‰2ã¯ã€ã“ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ãªtest_and_setï¼ˆï¼‰å‘½ä»¤ã®å®Ÿè¡Œã‚‚é–‹å§‹ã—ã¾ã™ã€‚lock_flag== falseã§ã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã€trueã«è¨­å®šã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€å¼whileï¼ˆlock_flag.test_and_setï¼ˆï¼‰ï¼‰; </font><font style="vertical-align: inherit;">whileï¼ˆlock_flagï¼‰ã¾ã§å®Ÿè¡Œã•ã‚Œã¾ã™;</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰1ã¯ã€åŠ ç®—æ“ä½œshared_value + = 25ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã«ã‚ˆã£ã¦å€¤lock_flag = falseã‚’è¨­å®šã—ã¾ã™ï¼ˆã¤ã¾ã‚Šã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã‚’è§£é™¤ã—ã¾ã™ï¼‰ã€‚</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰2ã€æœ€å¾Œã«æ¡ä»¶lock_flag == falseã‚’å¾…ã£ã¦ã€lock_flag = trueã‚’å‰²ã‚Šå½“ã¦ã€falseã‚’è¿”ã—ã€ãƒ«ãƒ¼ãƒ—ã‚’çµ‚äº†ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€shared_value + = 25ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€lock_flag = falseï¼ˆã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã®ãƒ­ãƒƒã‚¯è§£é™¤ï¼‰ã‚’å‰²ã‚Šå½“ã¦ã¾ã™ã€‚</font></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ã“ã®ç« ã®å†’é ­ã§ã€2ã¤ã®ä¾‹ã‚’æŒ™ã’ã¾ã—ãŸã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: atomic_flagãŠã‚ˆã³test_and_setï¼ˆï¼‰ã‚’ä½¿ç”¨ï¼š[21] </font></font><a href="http://coliru.stacked-crooked.com/a/1ec9a0c2b10ce864"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/1ec9a0c2b10ce864</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: atomic &lt;int&gt;ãŠã‚ˆã³compare_exchange_weakï¼ˆï¼‰ã‚’ä½¿ç”¨ï¼š[22] </font></font><a href="http://coliru.stacked-crooked.com/a/03c019596b65199a"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/03c019596b65199a</font></font></a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®æ“ä½œã®è©³ç´°ã«ã¤ã„ã¦ã¯ã€ãƒªãƒ³ã‚¯ã‚’</font><font style="vertical-align: inherit;">ã”è¦§ãã ã•ã„</font></font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚en.cppreference.com</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;">w</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;">cpp</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;">atomic</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;">atomic</font></a></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GCCã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã‚‹x86_64ã®</font><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><font style="vertical-align: inherit;">ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼</font></a><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ãŒã€ã“ã‚Œã‚‰2ã¤ã®ä¾‹ã§ã©ã®ã‚ˆã†ã«ç•°ãªã‚‹ã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/2b8/88f/52d/2b888f52db4b8ebe319a5237c7cc5e6a.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¾¿å®œä¸Šã€1ã¤ã®ã‚¯ãƒ©ã‚¹ã«çµåˆã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">spinlock_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::atomic_flag lock_flag; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">spinlock_t</span></span>() { lock_flag.clear(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try_lock</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> !lock_flag.test_and_set(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_acquire); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lock</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; !try_lock(); ++i) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (i % <span class="hljs-number"><span class="hljs-number">100</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::this_thread::yield(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">unlock</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ lock_flag.clear(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_release); } };</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã®ä½¿ç”¨ä¾‹ã¯ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spinlock_t</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’ï¼š[23] </font></font><a href="http://coliru.stacked-crooked.com/a/92b8b9a89115f080"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/92b8b9a89115f080</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ãªãŸãŒéšœå£ã®ç¨®é¡ã€ä½¿ç”¨ã™ã‚‹ã¨ãã‚ŒãŒx86_64ç‰ˆã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¾ã™ã€ç§ã¯æ¬¡ã®è¡¨ã‚’ä¸ãˆã‚‹ç†è§£ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“æ±ºã—ã¦ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/64a/803/708/64a80370811061535c03f0f2d4ee8ba3.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”»åƒãŒãƒ•ãƒ«ã‚µã‚¤ã‚ºã§è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãƒªãƒ³ã‚¯ã‚’ãŸã©ã‚Šã¾ã™ï¼š</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hsto.org/files/4f8/7b4/1b6/4f87b41b64a54549afca679af1028f84.jpg</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæœ€é©åŒ–ã®ãŸã‚ã«ã‚¢ã‚»ãƒ³ãƒ–ãƒ©å‘½ä»¤ã‚’äº¤æ›ã§ããªã„å ´åˆã«ã‚¢ã‚»ãƒ³ãƒ–ãƒ©x86_64ã§ã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿ã€ä»¥ä¸‹ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b>seq_cst</b> .   (Clang  MSVC)  GCC â€“    Store   Sequential Consistency,  : a.store(val, memory_order_seq_cst); â€”    Clang  MSVC   [LOCK] XCHG reg, [addr],   CPU-Store-buffer  ,    MFENCE.  GCC       MOV [addr], reg  MFENCE. </li><li> <b>RMW (CAS, ADDâ€¦) always seq_cst</b> . ãªãœãªã‚‰   RMW (Read-Modify-Write)   x86_64   LOCK,   Store-Buffer,      Sequential-Consistency    .  memory_order  RMW   ,     memory_order_acq_rel. </li><li> <b>LOAD(acquire), STORE(release)</b> .  ,  x86_64  4   (relaxed, consume, acquire, release)     â€“ ..  x86_64   acquire-release  â€“       - MESIF(Intel) / MOESI (AMD).               Write Back (    ,   Un-cacheable  Write Combined â€“      Mapped Memory Area from Device â€“      Acquire-semantic). </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ãŸã¡ãŒçŸ¥ã£ã¦ã„ã‚‹ã‚ˆã†ã«ã€ä¾å­˜ã™ã‚‹æ“ä½œã¯ã©ã“ã§ã‚‚ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ãŸã¨ãˆã°ã€ï¼ˆRead-Xã€Write-Xï¼‰ã¾ãŸã¯ï¼ˆWrite-Xã€Read-Xï¼‰</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x86_64ã®Herb Sutterã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‹ã‚‰ã®ã‚¹ãƒ©ã‚¤ãƒ‰ï¼š</font></font><a href="https://onedrive.live.com/view.aspx%3Fresid%3D4E86B0CF20EF15AD!24884%26app%3DWordPdf%26authkey%3D!AMtj_EflYn2507c"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://onedrive.live.com/view.aspx%3Fresid%3D4E86B0CF20EF15AD!24884%26app%3DWordPdf%26authkey%3D!AMtj_EflYn2507c"><font style="vertical-align: inherit;">//onedrive.liveã€‚ com / view.aspxï¼Ÿresid = 4E86B0CF20EF15ADï¼24884ï¼†app = WordPdfï¼†authkey =ï¼AMtj_EflYn2507c</font></a></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€¢x86_64ã§ã¯é †åºã‚’å¤‰æ›´ã§ãã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> èª­ã¿å–ã‚ŠX-èª­ã¿å–ã‚ŠY </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> èª­ã¿å–ã‚ŠX-æ›¸ãè¾¼ã¿Y </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ›¸ãè¾¼ã¿X-æ›¸ãè¾¼ã¿Y </font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€¢x86_64ã§ã¯ã€ä»»æ„ã®é †åºã‚’å¤‰æ›´ã§ãã¾ã™ï¼šWrite-X &lt;â€“&gt; Read-Yã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’é˜²ããŸã‚ã«ã€std :: memory_order_seq_cstãƒãƒªã‚¢ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«å¿œã˜ã¦4ã¤ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®x86_64ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰ï¼šMOVï¼ˆãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰ã‚¹ãƒˆã‚¢ï¼šMOVï¼ˆãƒ¡ãƒ¢ãƒªã¸ï¼‰ã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MFENCE</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰ï¼šMOVï¼ˆãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰ã‚¹ãƒˆã‚¢ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XCHGï¼ˆãƒ¡ãƒ¢ãƒªã¸ï¼‰</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MFENCE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + MOVï¼ˆãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰ã‚¹ãƒˆã‚¢ï¼šMOVï¼ˆãƒ¡ãƒ¢ãƒªã¸ï¼‰</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOCK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XADDï¼ˆ0ã€ãƒ¡ãƒ¢ãƒªã‹ã‚‰ï¼‰ã‚¹ãƒˆã‚¢ï¼šMOVï¼ˆãƒ¡ãƒ¢ãƒªã¸ï¼‰</font></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ¼ï¼ˆx86_64ã€PowerPCã€ARMv7ã€ARMv8ã€AArc64ã€Itaniumï¼‰ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼å‘½ä»¤ã¨ãƒ¡ãƒ¢ãƒªãƒ¼ãƒãƒªã‚¢ãƒ¼ã®ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã®æ¦‚è¦è¡¨ï¼š</font></font><a href="http://www.cl.cam.ac.uk/~pes20/cpp/cpp0xmappings.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.cl.cam.ac.uk/~pes20/cpp/cpp0xmappings.html</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã¾ã–ã¾ãªã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã®å®Ÿéš›ã®</font><a href="http://www.cl.cam.ac.uk/~pes20/cpp/cpp0xmappings.html"><font style="vertical-align: inherit;">ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼</font></a><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºãƒªãƒ³ã‚¯ã‚’ãŸã©ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€ARMã€ARM64ã€AVRã€PowerPCãªã©ã®ä»–ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚‚é¸æŠã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GCC 6.1ï¼ˆx86_64ï¼‰ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰/ã‚¹ãƒˆã‚¢ï¼š</font></font><a href="https://godbolt.org/g/xq9ulH"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/xq9ulH</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMWï¼ˆfetch_addï¼‰ï¼š</font></font><a href="https://godbolt.org/g/dp1zZ0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/dp1zZ0</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASï¼ˆcompare_exchange_weakï¼ˆï¼‰/ compare_exchange_strongï¼ˆï¼‰ï¼‰ï¼š</font></font><a href="https://godbolt.org/g/OMuXmz"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/OMuXmz</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: atomic_flag :: test_and_setï¼ˆï¼‰ï¼š</font></font><a href="https://godbolt.org/g/7ksl0J"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/7ksl0J</font></font></a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Clang 3.8ï¼ˆx86_64ï¼‰ï¼š </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒ¼ãƒ‰/ã‚¹ãƒˆã‚¢ï¼š</font></font><a href="https://godbolt.org/g/gfpeZW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/gfpeZW</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RMWï¼ˆfetch_addï¼‰ï¼š</font></font><a href="https://godbolt.org/g/afoIQW"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/afoIQW</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CASï¼ˆcompare_exchange_weakï¼ˆï¼‰/ compare_exchange_strongï¼ˆï¼‰ï¼‰ï¼š</font></font><a href="https://godbolt.org/g/kYXzK6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/kYXzK6</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: atomic_flag :: test_and_setï¼ˆï¼‰ï¼š</font></font><a href="https://godbolt.org/g/RD5fJG"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/RD5fJG</font></font></a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ãŸã€CASï¼ˆCompare-and-swapï¼‰å‘½ä»¤ã®é †åºã«ã•ã¾ã–ã¾ãªãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ãŒåŠã¼ã™å½±éŸ¿ã‚’è¡¨ã«ç°¡å˜ã«ç¤ºã—ã¾ã™</font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;">ã€‚en.cppreference.com</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;">w</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;">cpp</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;">atomic</font></a><font style="vertical-align: inherit;"> / </font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;">atomic</font></a><font style="vertical-align: inherit;"> / </font></font><a href="http://en.cppreference.com/w/cpp/atomic/atomic/compare_exchange"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compare_exchange</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/429/470/04d/42947004d7a535f2f4a886e487b4a3dd.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¡ãƒ¢ãƒªã‚¢ã‚¯ã‚»ã‚¹æ“ä½œã®ä¸¦ã¹æ›¿ãˆã®ä¾‹</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ¬¡ã«ã€4ã¤ã®é€£ç¶šã—ãŸæ“ä½œï¼ˆLOADã€STOREã€LOADã€STOREï¼‰ã‹ã‚‰ã®ä¸¦ã¹æ›¿ãˆã®ã‚ˆã‚Šè¤‡é›‘ãªä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é’ã„é•·æ–¹å½¢</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã§ã™ã€‚</font></font></li><li> <b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜ã‚‹ã„é’è‰²ã®å†…å´ã®</font><b><font style="vertical-align: inherit;">æš—ã„é’è‰²ã®å››è§’å½¢</font></b><font style="vertical-align: inherit;">ï¼ˆä¾‹3ãŠã‚ˆã³4ï¼‰ã¯ã€è¤‡æ•°ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã§æ§‹æˆã•ã‚Œã‚‹è¤‡åˆã‚¢ãƒˆãƒŸãƒƒã‚¯èª­ã¿å–ã‚Š-å¤‰æ›´-æ›¸ãè¾¼ã¿ï¼ˆRMWï¼‰å‘½ä»¤ã®ä¸€éƒ¨ã§ã™ã€‚</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç™½ã„é•·æ–¹å½¢</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€é€šå¸¸ã®éåŸå­æ“ä½œã§ã™ã€‚</font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸæ“ä½œã®å‘¨ã‚Šã«ã€é€šå¸¸ã®å¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸæ“ä½œã®å¯èƒ½ãªä¸¦ã¹æ›¿ãˆã‚’ç¤ºã™4ã¤ã®ä¾‹ã‚’ãã‚Œãã‚Œç¤ºã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ä¾‹1ãŠã‚ˆã³3ã®ã¿ã§ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/292/a97/b00/292a97b005473eff1f160134f8c44381.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åˆã®ã‚±ãƒ¼ã‚¹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ã„ãã¤ã‹ã®ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’1ã¤ã«èåˆã§ãã‚‹ã¨ã„ã†ç‚¹ã§èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãã®ã‚ˆã†ãªä¸¦ã¹æ›¿ãˆã‚’å®Ÿè¡Œã§ãã¾ã›ã‚“ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯å®Ÿè¡Œæ™‚ã«ãƒ—ãƒ­ã‚»ãƒƒã‚µãŒã“ã®ä¸¦ã¹æ›¿ãˆã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ç•°ãªã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã®ç•°ãªã‚‹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã§å®Ÿè¡Œã•ã‚Œã‚‹ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒãƒ¼ã‚¸ã¯ã€æœ€åˆã®å‘½ä»¤ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ãŒãƒ—ãƒ­ã‚»ãƒƒã‚µã«è¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã€ãƒ‡ãƒƒãƒ‰ãƒ­ãƒƒã‚¯ã«ã¤ãªãŒã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€ãƒ—ãƒ­ã‚»ãƒƒã‚µã¯äº‹å‰ã«2ç•ªç›®ã®ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å…¥ã‚‹ã‚ˆã†ã«è©¦ã¿ã¾ã™ãŒã€ã§ããªã„å ´åˆã¯ã€æœ€åˆã®ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œã‚’ç¶™ç¶šã—ã€å®Œå…¨ã«å®Œäº†ã—ãŸå¾Œã€2ç•ªç›®ã®ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«å…¥ã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ç•ªç›®ã®ã‚±ãƒ¼ã‚¹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€2ã¤ã®è¤‡åˆã‚¢ãƒˆãƒŸãƒƒã‚¯å‘½ä»¤ã®ä¸€éƒ¨ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ç‚¹ã§èˆˆå‘³æ·±ã„ï¼šSTORE A &lt;-&gt; LOAD B.</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>      ,      3-  ASM- (lwarx, add, stwcx),        LL/SC ( <a href="https://en.wikipedia.org/wiki/Load-link/store-conditional">wiki-link</a> ),    : <a href="https://godbolt.org/g/j8uw7n">godbolt.org/g/j8uw7n</a>         ,          . </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ç•ªç›®ã®ã‚±ãƒ¼ã‚¹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€std :: memory_order_seq_cstãŒæœ€ã‚‚å¼·åŠ›ãªéšœå£ã§ã‚ã‚Šã€ãã‚Œè‡ªä½“ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯ã¾ãŸã¯éã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã®ä¸¦ã¹æ›¿ãˆã‚’ç¦æ­¢ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã‚‹ã¨ã„ã†ç‚¹ã§èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€seq_cstãƒãƒªã‚¢ã«ã¯ã€å–å¾—/è§£æ”¾ã¨æ¯”è¼ƒã—ã¦1ã¤ã®è¿½åŠ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ä¸¡æ–¹ã®ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã«seq_cstãƒãƒªã‚¢ãŒã‚ã‚‹å ´åˆã®ã¿ã€æ“ä½œã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã¯STORE-Aï¼ˆseq_cstï¼‰ã§ã™ã€‚</font><font style="vertical-align: inherit;">LOAD-Bï¼ˆseq_cstï¼‰; </font><font style="vertical-align: inherit;">ä¸¦ã¹æ›¿ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">C ++æ¨™æº–ã‹ã‚‰ã®2ã¤ã®å¼•ç”¨ç¬¦ã‚’æ¬¡ã«ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å³å¯†ã§å‡ä¸€ãªç›¸äº’å®Ÿè¡Œé †åºã¯ã€memory_order_seq_cstãƒãƒªã‚¢ã€Standard C ++ 11Â§29.3ï¼ˆ3ï¼‰ã‚’ä½¿ç”¨ã—ãŸæ“ä½œã«å¯¾ã—ã¦ã®ã¿ä¿æŒã•ã‚Œã¾ã™ï¼š</font></font><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote> There <b>shall be a single total order S on all memory_order_seq_cst operations</b> , consistent with the â€œhappens beforeâ€ order and modification orders for all affected locations, such that each memory_order_seq_cst operation B that loads a value from an atomic object M observes one of the following values: â€¦ </blockquote></li><li>        memory_order_seq_cst      memory_order_seq_cstâ€“   , Standard C++11 Â§ 29.3 (8): <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf">www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/n4606.pdf</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[æ³¨ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memory_order_seq_cstã¯</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ‡ãƒ¼ã‚¿ã®ç«¶åˆ</font><b><font style="vertical-align: inherit;">ãŒ</font></b><font style="vertical-align: inherit;">ãªãã€</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memory_order_seq_cstæ“ä½œ</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">ã®ã¿ã‚’ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«å¯¾ã—ã¦ã®ã¿ã€é †æ¬¡æ•´åˆæ€§ã‚’ä¿è¨¼ã—</font></b><b><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></b><b><font style="vertical-align: inherit;">å¼±ã„é †åºä»˜ã‘ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€</font></b><font style="vertical-align: inherit;">ç´°å¿ƒã®æ³¨æ„ã‚’æ‰•ã‚ãªã„é™ã‚Šã€</font><b><font style="vertical-align: inherit;">ã“ã®ä¿è¨¼ã¯ç„¡åŠ¹ã«ãªã‚Š</font></b><font style="vertical-align: inherit;">ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹ã«ã€memory_order_seq_cstãƒ•ã‚§ãƒ³ã‚¹ã¯ã€ãƒ•ã‚§ãƒ³ã‚¹è‡ªä½“ã«å¯¾ã—ã¦ã®ã¿å®Œå…¨ãªé †åºã‚’ä¿è¨¼ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ä¸€èˆ¬ã«ã€ãƒ•ã‚§ãƒ³ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€é †åºä»˜ã‘ä»•æ§˜ãŒã‚ˆã‚Šå¼±ã„ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã®é †æ¬¡ä¸€è²«æ€§ã‚’å¾©å…ƒã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">-çµ‚äº†ãƒãƒ¼ãƒˆ]</font></font></blockquote></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seq_cstæ“ä½œã‚’ä¸­å¿ƒã«éseq_cstæ“ä½œï¼ˆã‚¢ãƒˆãƒŸãƒƒã‚¯ãŠã‚ˆã³éã‚¢ãƒˆãƒŸãƒƒã‚¯ï¼‰ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ãŸã‚ã«è¨±å¯ã•ã‚Œã¦ã„ã‚‹æŒ‡ç¤ºã¯ã€å–å¾—/è§£æ”¾ã¨åŒã˜ã§ã™ã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a.loadï¼ˆmemory_order_seq_cstï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã¨åŒã˜é †åºã§ã¯ãªã„seq_cstã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿è¨¼ã™ã‚‹</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a.loadï¼ˆmemory_order_acquireï¼‰</font></font></b> </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b.storeï¼ˆmemory_order_seq_cstï¼‰</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã¨åŒã˜é †åºã§ã¯ãªã„seq_cstã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¿è¨¼ã™ã‚‹</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b.storeï¼ˆmemory_order_releaseï¼‰</font></font></b> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ˆã‚Šå³å¯†ãªé †åºã‚‚å¯èƒ½ã§ã™ãŒã€ä¿è¨¼ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/e71/ca5/6f3/e71ca56f3a76e9a7ed549b3bf4066049.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seq_cstã®å ´åˆã€ãŠã‚ˆã³å–å¾—ã¨è§£æ”¾ã®å ´åˆï¼šSTOREï¼ˆseq_cstï¼‰ã®å‰ã«ã¯ä½•ã‚‚ã§ããšã€LOADï¼ˆseq_cstï¼‰ã®å‰ã«ã¯ä½•ã‚‚ã§ãã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã‹ã—ã€é€†æ–¹å‘ã§ã¯ä¸¦ã¹æ›¿ãˆãŒå¯èƒ½ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ãŒãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã«è¨±å¯ã™ã‚‹å‘½ä»¤ã®é †åºã®å¤‰æ›´ã€ãŸã¨ãˆã°x86_64ãŠã‚ˆã³PowerPCã®GCC-ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒ¼x86_64ãŠã‚ˆã³PowerPCã®C ++ã‚³ãƒ¼ãƒ‰ã¨ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memory_order_seq_cst â€“æ“ä½œã®å‰å¾Œã§ã€æ¬¡ã®é †åºå¤‰æ›´ãŒå¯èƒ½ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> <b> x86_64</b>      Store-Load. ã¤ã¾ã‚Š     : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote> <b>STORE-C(release);</b> LOAD-B(seq_cst); ==&gt; LOAD-B(seq_cst); <b>STORE-C(release);</b> </blockquote> ãªãœãªã‚‰   x86_64,  MFENCE   STORE(seq_cst),   LOAD(seq_cst)     LOAD(release)  LOAD(relaxed): <a href="https://godbolt.org/g/BsLqas">godbolt.org/g/BsLqas</a> </li><li> <b> PowerPC</b>      Store-Load, Store-Store  . ã¤ã¾ã‚Š     : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote> STORE-A(seq_cst); <b>STORE-C(relaxed); LOAD-C(relaxed);</b> ==&gt; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b>LOAD-C(relaxed); STORE-C(relaxed);</b> STORE-A(seq_cst); </blockquote> ãªãœãªã‚‰<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerPCã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã¯ã€seq_cstãƒãƒªã‚¢ã®å ´åˆã€syncï¼ˆhwsyncï¼‰ã¯STOREï¼ˆseq_cstï¼‰ãŠã‚ˆã³LOADï¼ˆseq_cstï¼‰ã«ã®ã¿è¿½åŠ ã•ã‚Œã‚‹ãŸã‚ã€STOREï¼ˆseq_cstï¼‰ã¨LOADï¼ˆseq_cstï¼‰ã®é–“ã«ã‚ã‚‹ã™ã¹ã¦ã®å‘½ä»¤ã¯STOREï¼ˆseq_cstï¼‰ã®å‰ã«å®Ÿè¡Œã§ãã¾ã™ï¼š</font></font><a href="https://godbolt.org/g/dm7tWd"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/dm7tWd</font></font></a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã‚’æŒã¤3ã¤ã®å¤‰æ•°ã®ä¾‹ã€seq_cstãŠã‚ˆã³relaxedã‚’ã‚ˆã‚Šè©³ç´°ã«ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/37e/03f/c6e/37e03fc6eee179dbfa17dd5735a8678c.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒã§ãã‚‹ä¸¦ã¹æ›¿ãˆ</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PowerPCç”¨C ++ã‹ã‚‰ASMï¼š</font></font><a href="https://godbolt.org/g/mEM8T8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/mEM8T8</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ã‹ã‚‰ASM for x86_64ï¼š</font></font><a href="https://godbolt.org/g/lTNMJ2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">godbolt.org/g/lTNMJ2</font></font></a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãªãœãã®ã‚ˆã†ãªæ³¨æ–‡å¤‰æ›´ãŒå¯èƒ½ã§ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">C ++ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯x86_64ãƒ—ãƒ­ã‚»ãƒƒã‚µã¨PowerPCãƒ—ãƒ­ã‚»ãƒƒã‚µã®ã“ã®ã‚ˆã†ãªä¸¦ã¹æ›¿ãˆã‚’å¯èƒ½ã«ã™ã‚‹ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã€</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/077/0d6/ee0/0770d6ee0621cd122bc14d838092fbda.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤é–“ã«ã‚¢ã‚»ãƒ³ãƒ–ãƒ©ãƒãƒªã‚¢ãŒãªã„å ´åˆã€ã•ã¾ã–ã¾ãªCPUã¯ä¸¦ã¹æ›¿ãˆã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã€Œãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ï¼šã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒãƒƒã‚«ãƒ¼ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢ãƒ“ãƒ¥ãƒ¼ã€Paul E. McKenney 2010å¹´6æœˆ7æ—¥-è¡¨5ï¼š</font></font><a href="http://www.rdrop.com/users/paulmck/scalability/paper/whymb.2010.06.07c.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.rdrop.com/users/paulmck/scalability/paper/whymb.2010.06.07c.pdf</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿äº¤æ›ã«ã¯åˆ¥ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã‚¹ãƒ¬ãƒƒãƒ‰é–“ã€‚4ã‚¹ãƒ¬ãƒƒãƒ‰ä»¥ä¸Šã®ç›¸äº’ä½œç”¨ã§ç¾ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã®æ“ä½œã®å°‘ãªãã¨ã‚‚1ã¤ãŒæœ€ã‚‚å³ã—ã„ãƒãƒªã‚¢memory_order_seq_cstã‚’ä½¿ç”¨ã—ãªã„å ´åˆã€ç•°ãªã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã¯åŒã˜å¤‰æ›´ã‚’ç•°ãªã‚‹é †åºã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font>ä¾‹ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ã‚¹ãƒ¬ãƒƒãƒ‰1ãŒæœ€åˆã«å€¤ã‚’å¤‰æ›´ã—ãŸå ´åˆ </font></font></li><li>  -2     </li><li>  -3      -2,       -1 </li><li>  -4       -1,       -2 </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚Œã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚³ãƒ’ãƒ¼ãƒ¬ãƒ³ãƒˆãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢æ©Ÿèƒ½ã€è¿½åŠ ã®ãƒ­ãƒ¼ãƒ‰/ã‚¹ãƒˆã‚¢ãƒãƒƒãƒ•ã‚¡ã€ãŠã‚ˆã³ãƒ—ãƒ­ã‚»ãƒƒã‚µå†…ã®ã‚³ã‚¢ã®å ´æ‰€ã®ãƒˆãƒãƒ­ã‚¸ã«ã‚ˆã‚Šå¯èƒ½ã§ã™ã€‚ã“ã®å ´åˆã€ã„ãã¤ã‹ã®2ã¤ã®ã‚«ãƒ¼ãƒãƒ«ã¯ã€ä»–ã®ã‚«ãƒ¼ãƒãƒ«ã«ã‚ˆã£ã¦è¡Œã‚ã‚ŒãŸå¤‰æ›´ã‚’è¦‹ã‚‹å‰ã«ã€äº’ã„ã«è¡Œã‚ã‚ŒãŸå¤‰æ›´ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã™ã¹ã¦ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒåŒã˜é †åºã§å¤‰æ›´ã‚’èªè­˜ã™ã‚‹ã‚ˆã†ã«ã€ã¤ã¾ã‚Šã‚ã£</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜å…¨é †åº</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆC ++ 11Â§29.3ï¼ˆ3ï¼‰ï¼‰ -ã™ã¹ã¦ã®æ“ä½œï¼ˆãƒ­ãƒ¼ãƒ‰ã€ã‚¹ãƒˆã‚¢ã€RMWï¼‰ã¯ã€ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢memory_order_seq_cstä¸Šã§å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¿…è¦ã§ã‚ã‚‹ï¼š</font></font><a href="http://en.cppreference.com/w/cpp/atomic/memory_order"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en.cppreference.com/w/cpp/atomic/memory_order</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚¢ã‚µãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼ï¼ˆz.loadï¼ˆï¼‰ï¼= 0ï¼‰ã§å¤±æ•—ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font>ãªãœãªã‚‰<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã®æ“ä½œã¯ã€æœ€ã‚‚å³ã—ã„ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢memory_order_seq_cstã‚’é©ç”¨ã•ã‚Œã¾ã™ã€‚</font></font><a href="http://coliru.stacked-crooked.com/a/52726a5ad01f6529"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/52726a5ad01f6529</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›³ã¯ã€é †åºã®å¤‰æ›´ãŒã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«ã®ãŸã‚ã«ç²å¾—-ãƒªãƒªãƒ¼ã‚¹ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã¨ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹-EH 4ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä¾‹ã«ã¤ã„ã¦ã¯ã€å¯èƒ½ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acuire-Release</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€¢é€šå¸¸ã®å¤‰æ•°ã®é †åºã‚’è¨±å¯ã•ã‚ŒãŸæ–¹å‘</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã«å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚â€¢Acquire-Releaseã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã®é †åºã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font></li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€¢è¨±å¯ã•ã‚ŒãŸæ–¹å‘ã§é€šå¸¸ã®å¤‰æ•°ã®é †åºã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯å¯èƒ½</font><font style="vertical-align: inherit;">ã§ã™</font><font style="vertical-align: inherit;">ã€‚â€¢ </font><font style="vertical-align: inherit;">ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã§ã‚¢ãƒˆãƒŸãƒƒã‚¯å¤‰æ•°ã®é †åº</font><b><font style="vertical-align: inherit;">ã‚’</font></b><font style="vertical-align: inherit;">å¤‰æ›´ã™ã‚‹</font><b><font style="vertical-align: inherit;">ã“ã¨ã¯ã§ãã¾ã›ã‚“</font></b></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/5d4/e08/f98/5d4e08f98ea0cf0581a72f67fe4f76aa.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã¨å†å¸°çš„ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬è‡ªã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã¨å†å¸°çš„ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ï¼‰ã‚’å®Ÿè£…ã™ã‚‹ä¾‹ã«ã‚ˆã‚Šã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã§ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ãŒã©ã®ã‚ˆã†ã«ä½¿ç”¨ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚‰ã«ã€ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ãƒ­ãƒƒã‚¯ï¼‰ã‚’ãƒ­ãƒƒã‚¯ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®å€‹ã€…ã®è¡Œï¼ˆè¡Œãƒ­ãƒƒã‚¯ï¼‰ã‚’ãƒ­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ã“ã‚Œã‚‰ã®ãƒ­ãƒƒã‚¯ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä¸¦åˆ—åº¦ãŒå‘ä¸Šã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ã¾ã™ã€‚ç•°ãªã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«å…¨ä½“ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã“ã¨ãªãã€ç•°ãªã‚‹è¡Œã‚’ä¸¦è¡Œã—ã¦å‡¦ç†ã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã‚‹åŒæœŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ•°ã¯åˆ¶é™ã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚ãƒ†ãƒ¼ãƒ–ãƒ«å†…ã®è¡Œã®æ•°ã¯æ•°ç™¾ä¸‡ã¾ãŸã¯æ•°åå„„ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€å¤šãã®ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã§ã¯ãã‚Œã»ã©å¤šãã®ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã‚’ä½œæˆã§ãã¾ã›ã‚“ã€‚ã¾ãŸã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã®æ•°ã¯RAMãŒè¨±ã™é™ã‚Šã„ãã¤ã§ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€å€‹ã€…ã®è¡Œã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å®Ÿéš›ã€ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã¯å„è¡Œã«+ 1ãƒã‚¤ãƒˆã€ã¾ãŸã¯å†å¸°ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯+17ãƒã‚¤ãƒˆã§ã™ï¼ˆãƒ•ãƒ©ã‚°ã«1ãƒã‚¤ãƒˆ+å†å¸°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã«8ãƒã‚¤ãƒˆ+ thread_idã‚¹ãƒ¬ãƒƒãƒ‰ç•ªå·ã«8ãƒã‚¤ãƒˆï¼‰ã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã®å®Ÿè£…ã¨ä½¿ç”¨ã®ä¾‹ã‚’æ—¢ã«ç¤ºã—ã¦ã„ã¾ã™ï¼š[24] </font></font><a href="http://coliru.stacked-crooked.com/a/92b8b9a89115f080"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/92b8b9a89115f080</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã«ã€recursive_spinlockã®å®Ÿè£…ã¨ä½¿ç”¨ã®ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚[25] </font></font><a href="http://coliru.stacked-crooked.com/a/eae6b7da971810a3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/eae6b7da971810a3</font></font></a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursive_spinlockã¨é€šå¸¸ã®ã‚¹ãƒ”ãƒ³ãƒ­ãƒƒã‚¯ã®ä¸»ãªé•ã„ã¯ã€åŒã˜ã‚¹ãƒ¬ãƒƒãƒ‰ã«ã‚ˆã£ã¦recursive_spinlockã‚’ä½•åº¦ã‚‚ãƒ–ãƒ­ãƒƒã‚¯ã§ãã‚‹ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">å†å¸°çš„ãªãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ­ãƒƒã‚¯ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">åŒæ§˜ã«ã€std :: recursive_mutexã¨std :: mutexã¯ç•°ãªã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ­ãƒƒã‚¯ã®ä¾‹ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> spinlock_t â€“    (deadlock) â€“   : [26] <a href="http://coliru.stacked-crooked.com/a/d3b93315270fd367">coliru.stacked-crooked.com/a/d3b93315270fd367</a> </li><li> recursive_spinlock_t â€“   â€“   shared_value = 50: [27] <a href="http://coliru.stacked-crooked.com/a/875ad2754a007037">coliru.stacked-crooked.com/a/875ad2754a007037</a> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recursive_spinlock_tã®ä»•çµ„ã¿ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MSVC 2013ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã§ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€std :: this_thread :: get_idï¼ˆï¼‰functionï¼š</font></font><a href="https://connect.microsoft.com/VisualStudio/feedback/details/1558211"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connect.microsoft.com/VisualStudio/feedback/details/1558211ã®</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŸã‚ã«éå¸¸ã«å¼·åŠ›ãªã‚¹ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ãŒç™ºç”Ÿã—ã¾ã™</font><a href="https://connect.microsoft.com/VisualStudio/feedback/details/1558211"><font style="vertical-align: inherit;">ã€‚recursive_spinlock_t</font></a></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚’ãƒ•ã‚¡ã‚¤ãƒŠãƒ©ã‚¤ã‚ºã—ã¦ã€ __declspecï¼ˆã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰å¤‰æ•°ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸthread-idã¯ã€C ++ 11æ¨™æº–ã®thread_localã«é¡ä¼¼ã—ã¦ã„ã¾ã™ã€‚ã“ã®ä¾‹ã¯MSVC 2013ã§ã‚‚è‰¯å¥½ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¤ºã—ã¾ã™ã€‚[28] </font></font><a href="http://coliru.stacked-crooked.com/a/3090a9778d02f6ea"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/3090a9778d02f6ea</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚Œã¯å¤ã„MSVC 2013ã®ä¸€æ™‚çš„ãªä¿®æ­£ã§ã‚ã‚‹ãŸã‚ã€ã“ã®ã‚ˆã†ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾ã—ã•ã«ã¤ã„ã¦ã¯è€ƒãˆã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã»ã¨ã‚“ã©ã®å ´åˆã€mutexã®ç¹°ã‚Šè¿”ã—ï¼ˆå†å¸°çš„ï¼‰ãƒ–ãƒ­ãƒƒã‚¯ã¯è¨­è¨ˆã‚¨ãƒ©ãƒ¼ã§ã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã®å ´åˆã€é…ã„ãŒå‹•ä½œã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç¬¬äºŒã«ã€èª°ã‚‚ãŒé–“é•ã£ã¦ãŠã‚Šã€å†å¸°ãƒ­ãƒƒã‚¯ãŒåŸ‹ã‚è¾¼ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€recursive_spinlock_tã¯ãšã£ã¨é…ããªã‚Šã€spinlock_tã¯æ°¸ä¹…ã«ãƒãƒ³ã‚°ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•safe_ptr &lt;T&gt;ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ä¸¡æ–¹ã®ä¾‹ã¯éå¸¸ã«è«–ç†çš„ã§ã™ãŒã€2ç•ªç›®ã®ä¾‹ã¯recursive_spinlockã§ã®ã¿æ©Ÿèƒ½ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">safe_int_spin_recursive-&gt;second++; <span class="hljs-comment"><span class="hljs-comment">// spinlock &amp; recursive_spinlock safe_int_spin_recursive-&gt;second = safe_int_spin-&gt;second + 1; // only recursive_spinlock</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‹¬è‡ªã®é«˜æ€§èƒ½å…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã®å®Ÿè£…</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã”å­˜çŸ¥ã®ã‚ˆã†ã«ã€æ–°ã—ã„ã‚¿ã‚¤ãƒ—ã®ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ãŒæ–°ã—ã„C ++æ¨™æº–ã«å¾ã€…ã«ç™»å ´ã—ã¾ã—ãŸï¼š</font></font><a href="http://en.cppreference.com/w/cpp/thread"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en.cppreference.com/w/cpp/thread</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ 11ï¼šmutexã€timed_mutexã€recursive_mutexã€recursive_timed_mutex </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ 14ï¼šshared_timed_mutex </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++ 17ï¼šshared_mutex </font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/fa2/c18/178/fa2c181780b71d5339446fd51028474c.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shared_mutexã¯ã€ãã®æ™‚ç‚¹ã§ã“ã®ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹ã‚¹ãƒ¬ãƒƒãƒ‰ãŒå­˜åœ¨ã—ãªã„å ´åˆã€å¤šãã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’åŒæ™‚ã«èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã‚‹ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã§ã™ã€‚ shared_mutexã¯ã™ãã«ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚é€šå¸¸ã®std :: mutexã¨æ¯”è¼ƒã—ãŸãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¤ã„ã¦ã¯è­°è«–ãŒã‚ã‚Šã¾ã—ãŸã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒ¼ãƒ€ãƒ¼ã®æ•°ã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ãŸshared_mutexã®å¤å…¸çš„ãªå®Ÿè£…ã¯ã€å¤šãã®ãƒªãƒ¼ãƒ€ãƒ¼ãŒé•·æ™‚é–“ãƒ­ãƒƒã‚¯ã‚’ä¿æŒã—ã¦ã„ã‚‹å ´åˆã«ã®ã¿é€Ÿåº¦ã®åˆ©ç‚¹ã‚’ç¤ºã—ã¾ã—ãŸ-ã¤ã¾ã‚Šå½¼ã‚‰ãŒé•·ã„é–“èª­ã‚“ã ã¨ãçŸ­ã„èª­ã¿å–ã‚Šã§ã¯ã€shared_mutexã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é€Ÿåº¦ã‚’ä½ä¸‹ã•ã›ã€ã‚³ãƒ¼ãƒ‰ã‚’è¤‡é›‘ã«ã™ã‚‹ã ã‘ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã‹ã—ã€ã™ã¹ã¦ã®shared_mutexå®Ÿè£…ã¯çŸ­ã„èª­ã¿å–ã‚Šã§éå¸¸ã«é…ã„ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">std :: shared_mutexãŠã‚ˆã³boost :: shared_mutexã®å‹•ä½œãŒé…ã„ä¸»ãªç†ç”±ã¯ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯ãƒªãƒ¼ãƒ€ãƒ¼ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã§ã™ã€‚å„èª­ã¿å–ã‚Šã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯ã€ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã€ãƒ­ãƒƒã‚¯ãŒè§£é™¤ã•ã‚Œã‚‹ã¨ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’ãƒ‡ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã™ã€‚ãã®çµæœã€ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã‚³ã‚¢é–“ã®1ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã‚’å¸¸ã«é§†å‹•ã—ã¾ã™ï¼ˆã¤ã¾ã‚Šã€æ’ä»–çŠ¶æ…‹ï¼ˆEï¼‰ã‚’é§†å‹•ã—ã¾ã™ï¼‰ã€‚ã“ã®ã‚ˆã†ãªå®Ÿè£…ã®ãƒ­ã‚¸ãƒƒã‚¯ã«ã‚ˆã‚Œã°ã€å„èª­ã¿å–ã‚Šã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯ç¾åœ¨ã®ãƒªãƒ¼ãƒ€ãƒ¼ã®æ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã—ã¾ã™ãŒã€ã“ã‚Œã¯èª­ã¿å–ã‚Šã‚¹ãƒˆãƒªãƒ¼ãƒ ã«ã¨ã£ã¦çµ¶å¯¾ã«é‡è¦ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å½¼ã«ã¨ã£ã¦é‡è¦ãªã®ã¯ã€ä¸€äººã®ä½œå®¶ãŒã„ã‚‹ã¹ãã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã¾ãŸã€ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã¨ãƒ‡ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã¯RMWæ“ä½œã§ã‚ã‚Šã€å¸¸ã«ã‚¹ãƒˆã‚¢ãƒãƒƒãƒ•ã‚¡ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆMFENCE x86_64ï¼‰ã‚’ç”Ÿæˆã—ã€x86_64 asmãƒ¬ãƒ™ãƒ«ã§ã‚·ãƒ¼ã‚±ãƒ³ã‚·ãƒ£ãƒ«æ•´åˆæ€§ã®æœ€ã‚‚é…ã„ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã«å®Ÿéš›ã«å¯¾å¿œã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®å•é¡Œã‚’è§£æ±ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç«¶åˆã®ãªã„æ›¸ãè¾¼ã¿ã¨ã—ã¦åˆ†é¡ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒã‚ã‚Šã¾ã™-è¤‡æ•°ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒæ›¸ãè¾¼ã¿å¯èƒ½ãªå˜ä¸€ã®ãƒ¡ãƒ¢ãƒªã‚»ãƒ«ãŒãªã„å ´åˆã€‚ã¾ãŸã€ã‚ˆã‚Šä¸€èˆ¬çš„ãªã‚±ãƒ¼ã‚¹ã§ã¯ã€è¤‡æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæ›¸ãè¾¼ã‚€ã“ã¨ãŒã§ãã‚‹å˜ä¸€ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ãŒã€ãƒªãƒ¼ãƒ€ãƒ¼ã®ã¿ã®å­˜åœ¨ä¸‹ã§ã€æ›¸ãè¾¼ã¿ç«¶åˆãªã—ã¨ã—ã¦åˆ†é¡ã•ã‚Œã‚‹ãŸã‚ã«ã¯ã€ãƒªãƒ¼ãƒ€ãƒ¼ãŒäº’ã„ã«å¹²æ¸‰ã—ãªã„ã“ã¨ãŒå¿…è¦ã§ã™-ã¤ã¾ã‚Šãã®ãŸã‚ã€å„ãƒªãƒ¼ãƒ€ãƒ¼ã¯è‡ªåˆ†ã®å€‹åˆ¥ã®ã‚»ãƒ«ã«ãƒ•ãƒ©ã‚°ï¼ˆèª­ã¿å–ã£ãŸã‚‚ã®ï¼‰ã‚’æ›¸ãè¾¼ã¿ã€èª­ã¿å–ã‚Šã®æœ€å¾Œã«åŒã˜ã‚»ãƒ«ã®ãƒ•ãƒ©ã‚°ã‚’RMWæ“ä½œãªã—ã§å‰Šé™¤ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›¸ãè¾¼ã¿ã‚³ãƒ³ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ•ãƒªãƒ¼ã¯æœ€ã‚‚ç”Ÿç”£çš„ãªä¿è¨¼ã§ã‚ã‚Šã€å¾…æ©Ÿãƒ•ãƒªãƒ¼ã‚„ãƒ­ãƒƒã‚¯ãƒ•ãƒªãƒ¼ã‚ˆã‚Šã‚‚ç”Ÿç”£çš„ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½å…±æœ‰ã‚’æ’é™¤ã™ã‚‹ãŸã‚ã«ã€å„ã‚»ãƒ«ã‚’å€‹åˆ¥ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€ã‚»ãƒ«ãŒåŒã˜ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã®16ã«å³å¯†ã«é…ç½®ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ä½ä¸‹ã¯CPUã¨ã‚¹ãƒ¬ãƒƒãƒ‰ã®æ•°ã«ä¾å­˜ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">èª¤ã£ãŸå…±æœ‰ã‚’æ’é™¤ã™ã‚‹ã«ã¯ã€å„å¤‰æ•°ã‚’å€‹åˆ¥ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã«é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãŸã‚ã€C ++ 17ã«ã¯ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆï¼ˆstd :: hardware_destructive_interference_sizeï¼‰ãŒå­˜åœ¨ã—ã€ä»¥å‰ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ä¾å­˜ã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³char tmp [60]ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ï¼ˆx86_64ã§ã¯ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ã‚µã‚¤ã‚ºã¯64ãƒã‚¤ãƒˆã§ã™ï¼‰ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//struct cont_free_flag_t { // alignas(std::hardware_destructive_interference_size) std::atomic&lt;int&gt; value; // C++17 // }; struct cont_free_flag_t { char tmp[60]; std::atomic&lt;int&gt; value; // tmp[] to avoid false sharing };</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ•ãƒ©ã‚°ã‚’è¨­å®šã™ã‚‹å‰ã«ã€ãƒªãƒ¼ãƒ€ãƒ¼ã¯ãƒ©ã‚¤ã‚¿ãƒ¼ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€</font><font style="vertical-align: inherit;">æ’ä»–ãƒ­ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚</font></font>ãã—ã¦ä»¥æ¥<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã¯ã€ãƒ©ã‚¤ã‚¿ãƒ¼ãŒéå¸¸ã«å°‘ãªã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚ä½¿ç”¨ã•ã‚Œã‚‹ã™ã¹ã¦ã®ã‚«ãƒ¼ãƒãƒ«ã¯ã€å…±æœ‰çŠ¶æ…‹ï¼ˆSï¼‰ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥L1ã«ã“ã®å€¤ã®ã‚³ãƒ”ãƒ¼ã‚’ä¿æŒã§ãã€ãã“ã‹ã‚‰3ã‚¯ãƒ­ãƒƒã‚¯ã‚µã‚¤ã‚¯ãƒ«ã®é–“ã€ãƒ©ã‚¤ã‚¿ãƒ¼ã®ãƒ•ãƒ©ã‚°ã®å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¾ã§å–å¾—ã•ã‚Œã¾ã™</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã¹ã¦ã®ãƒ©ã‚¤ã‚¿ãƒ¼ã«ã¯ã€ã„ã¤ã‚‚ã®ã‚ˆã†ã«ã€1ã¤ã®åŒã˜want_x_lockãƒ•ãƒ©ã‚°ãŒã‚ã‚Šã¾ã™-ã“ã‚Œã¯ã€ç¾æ™‚ç‚¹ã§ãƒ©ã‚¤ã‚¿ãƒ¼ãŒã„ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ãƒ©ã‚¤ã‚¿ãƒ¼ã¯ã€Râ€‹â€‹MWæ“ä½œã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŠã‚ˆã³å‰Šé™¤ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">lock(): <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(!want_x_lock.compare_exchange_weak(flag, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_acquire))</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs">unlock(): want_x_lock.store(<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::memory_order_release);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŸã ã—ã€èª­è€…ãŒäº’ã„ã«å¹²æ¸‰ã—ãªã„ã‚ˆã†ã«ã€ç•°ãªã‚‹ãƒ¡ãƒ¢ãƒªã‚»ãƒ«ã«å…±æœ‰ãƒ­ãƒƒã‚¯ã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ›¸ãè¾¼ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ­ãƒƒã‚¯ç”¨ã®é…åˆ—ã‚’é¸æŠã—ã¾ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§è¨­å®šã•ã‚Œã‚‹ã‚µã‚¤ã‚ºã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯20ã§ã™ã€‚lock_sharedï¼ˆï¼‰ãŒåˆã‚ã¦å‘¼ã³å‡ºã•ã‚Œã‚‹ã¨ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯è‡ªå‹•çš„ã«ç™»éŒ²ã•ã‚Œã€ã“ã®é…åˆ—ã®ç‰¹å®šã®å ´æ‰€ã‚’å æœ‰ã—ã¾ã™ã€‚é…åˆ—ã®ã‚µã‚¤ã‚ºã‚ˆã‚Šã‚‚å¤šãã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã‚ã‚‹å ´åˆã€lock_sharedï¼ˆï¼‰ã‚’å‘¼ã³å‡ºã™ã¨ãã®æ®‹ã‚Šã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ãƒ©ã‚¤ã‚¿ãƒ¼ã§æ’ä»–ãƒ­ãƒƒã‚¯ã‚’å¼•ãèµ·ã“ã—ã¾ã™ã€‚ã‚¹ãƒˆãƒªãƒ¼ãƒ ã¯ã‚ã£ãŸã«ä½œæˆã•ã‚Œãšã€ã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ãŒã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹ã®ã«ã‹ã‹ã‚‹æ™‚é–“ã¯éå¸¸ã«é•·ã„ãŸã‚ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«æ–°ã—ã„ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ç™»éŒ²ã™ã‚‹æ™‚é–“ã¯ã”ãã‚ãšã‹ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜ã‚‰ã‹ãªã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚ã™ã¹ã¦ãŒæ­£ã—ãæ©Ÿèƒ½ã™ã‚‹ã“ã¨ã‚’ä¾‹ã§ç¤ºã—ã¦ã‹ã‚‰ã€ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®æ­£ç¢ºæ€§ã‚’æ¦‚ç•¥çš„ã«è¨¼æ˜ã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥ä¸‹ã¯ã€ãƒªãƒ¼ãƒ€ãƒ¼ãŒäº’ã„ã«å¹²æ¸‰ã—ãªã„é«˜é€Ÿå…±æœ‰ãƒ­ãƒƒã‚¯ã®ä¾‹ã§ã™ã€‚[30] </font></font><a href="http://coliru.stacked-crooked.com/a/b78467b7a3885e5b"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/b78467b7a3885e5b</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…±æœ‰ãƒ­ãƒƒã‚¯ä¸­ã¯ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ã¤ã®å†å¸°çš„ãªå…±æœ‰ãƒ­ãƒƒã‚¯ã®ã“ã®è¡Œã¯ã€ã“ã‚Œã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚assertï¼ˆreadonly_safe_map_string-&gt; atï¼ˆ "apple"ï¼‰== readonly_safe_map_string-&gt; atï¼ˆ "potato"ï¼‰ï¼‰; </font><font style="vertical-align: inherit;">-ä¸¡æ–¹ã®è¡Œã®å€¤ã¯å¸¸ã«ç­‰ã—ã„ã¯ãšã§ã™ã€ãªãœãªã‚‰ </font><font style="vertical-align: inherit;">stdã®2è¡Œã‚’å¤‰æ›´ã—ã¾ã™:: 1ã¤ã®æ’ä»–ãƒ­ãƒƒã‚¯stdã®ä¸‹ã®ãƒãƒƒãƒ—:: lock_guard</font></font></li><li> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª­ã¿å–ã‚Šä¸­ã«ã€å®Ÿéš›ã«lock_sharedï¼ˆï¼‰é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ«ãƒ¼ãƒ—ã‚’2å›ã®åå¾©ã«æ¸›ã‚‰ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã™ã‚‹è¡Œã‚’å‰Šé™¤ã—ã€std :: mapã®æœ€åˆã®2ã¤ã®æŒ¿å…¥ã®ã¿ã‚’mainï¼ˆï¼‰é–¢æ•°ã«æ®‹ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€Sã¨ã„ã†æ–‡å­—ã®å‡ºåŠ›ã‚’lock_sharedï¼ˆï¼‰é–¢æ•°ã«è¿½åŠ ã—ã€Xã¨ã„ã†æ–‡å­—ã‚’lockï¼ˆï¼‰é–¢æ•°ã«è¿½åŠ ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">æœ€åˆã«2ã¤ã®æŒ¿å…¥XãŒã‚ã‚Šã€æ¬¡ã«æ–‡å­—Sã ã‘ãŒã‚ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚å®Ÿéš›ã«ã¯ã€constã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’èª­ã¿å–ã‚‹ã¨ãã«shared_lockï¼ˆï¼‰ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼š[31] </font></font><a href="http://coliru.stacked-crooked.com/a/515ba092a46135ae"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/515ba092a46135ae</font></font></a> </li><li> <u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤‰æ›´ä¸­ã«ã€å®Ÿéš›ã«lockï¼ˆï¼‰é–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª­ã¿å–ã‚Šã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã€é…åˆ—ã‚’å¤‰æ›´ã™ã‚‹æ“ä½œã®ã¿ã‚’æ®‹ã—ã€æ–‡å­—Xã®ã¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚[32] </font></font><a href="http://coliru.stacked-crooked.com/a/882eb908b22c98d6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/882eb908b22c98d6</font></font></a> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä¸»ãªã‚¿ã‚¹ã‚¯ã¯ã€åŒæ™‚ã«2ã¤ã®çŠ¶æ…‹ã®ã†ã¡ã®1ã¤ã®ã¿ãŒå­˜åœ¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä»»æ„ã®æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒlock_sharedï¼ˆï¼‰ã‚’æ­£å¸¸ã«å®Ÿè¡Œã—ã¾ã—ãŸãŒã€lockï¼ˆï¼‰ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã™ã‚‹ã™ã¹ã¦ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯å¾…æ©Ÿã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ã‚¹ãƒ¬ãƒƒãƒ‰ã®1ã¤ãŒæ­£å¸¸ã«ãƒ­ãƒƒã‚¯ï¼ˆï¼‰ã‚’å®Ÿè¡Œã—ã€lock_sharedï¼ˆï¼‰ã¾ãŸã¯lockï¼ˆï¼‰ã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã™ã‚‹ä»–ã®ã™ã¹ã¦ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯å¾…æ©Ÿã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ </font></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¦‚ç•¥çš„ã«ã€äº’æ›æ€§ã®ã‚ã‚‹çŠ¶æ…‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/ae9/8bd/c13/ae98bdc1321409338f78734b40791a56.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ã¤ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒåŒæ™‚ã«æ“ä½œã‚’å®Ÿè¡Œã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹å ´åˆã®contention_free_shared_mutexã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b>T1-read &amp; T2-read:</b> -    lock_shared() â€“      , ..           ,          - (want_x_lock == false).   ,   ,    â€“   -  ,  CAS-: want_x_lock = true. </li><li> <b>T1-write &amp; T2-write:</b> -           (want_x_lock)      true,   CAS-: want_x_lock.compare_exchange_weak();   ,     recursive_spinlock_t,    . </li><li> <b>T1-read &amp; T2-write:</b> - T1      ,         (want_x_lock),    (true),    ,    (want_x_lock == false)     . </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰T2ã¯ãƒ•ãƒ©ã‚°ã‚’è¨­å®šã—ï¼ˆwant_x_lock = trueï¼‰ã€ã™ã¹ã¦ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã‚»ãƒ«ã‹ã‚‰ãƒ­ãƒƒã‚¯ãƒ•ãƒ©ã‚°ã‚’å‰Šé™¤ã™ã‚‹ã®ã‚’å¾…ã¡ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ã‚¹ã‚­ãƒ¼ãƒ ã®ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚ˆã‚Šã‚‚å„ªå…ˆåº¦ãŒé«˜ããªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€ãƒ­ãƒƒã‚¯ãƒ•ãƒ©ã‚°ã‚’åŒæ™‚ã«è¨­å®šã™ã‚‹ã¨ã€æ¬¡ã®æ“ä½œã§ãƒªãƒ¼ãƒ€ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã‚ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ï¼ˆwant_x_lock == trueï¼‰ã€ãã†ã§ã‚ã‚Œã°ã€ãƒªãƒ¼ãƒ€ãƒ¼ã¯ãã®ãƒ­ãƒƒã‚¯ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã¾ã™ã€‚ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‹ã‚‰ã®ãƒ­ãƒƒã‚¯ãŒã“ã‚Œä»¥ä¸Šãªã„ã“ã¨ã‚’ç¢ºèªã—ã€ãƒ–ãƒ­ãƒƒã‚¯æ©Ÿèƒ½ã‚’æ­£å¸¸ã«å®Œäº†ã—ã¾ã™ã€‚ã“ã‚Œã‚‰ã®ãƒ­ãƒƒã‚¯ã®ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªé †åºã¯ã€Sequential Consistencyï¼ˆstd :: memory_order_seq_cstï¼‰ã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ã«ã‚ˆã‚Šå°Šé‡ã•ã‚Œã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¦‚ç•¥çš„ã«ã¯ã€2ã¤ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ ï¼ˆãƒªãƒ¼ãƒ€ãƒ¼ã¨ãƒ©ã‚¤ã‚¿ãƒ¼ï¼‰ã®ç›¸äº’ä½œç”¨ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/5b2/3a3/23b/5b23a323b6a1c9e13ade90bbd82ed98b.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ•ãƒ«ã‚µã‚¤ã‚ºã§ï¼š</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habrastorage.org/getpro/habr/post_images/5b2/3a3/23b/5b23a323b6a1c9e13ade90bbd82ed98b.jpg</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸¡æ–¹ã®æ“ä½œã®ä¸¡æ–¹lock_sharedé–¢æ•°ï¼ˆï¼‰ã¨ãƒ­ãƒƒã‚¯ã§ï¼ˆï¼‰ã€1,2ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®std :: memory_order_seq_cst</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã™ãªã‚ã¡ </font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®æ“ä½œã§ã¯ã€ã™ã¹ã¦ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã«å¯¾ã—ã¦å˜ä¸€ã®åˆè¨ˆé †åºãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cont-free shared-mutexã§ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’è‡ªå‹•çš„ã«ç™»éŒ²è§£é™¤ã—ã¾ã™</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰ãŒæœ€åˆã«ãƒ­ãƒƒã‚¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ãã—ã¦ã€ã“ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒå®Œäº†ã™ã‚‹ã‹ã€ãƒ­ãƒƒã‚¯ãŒå‰Šé™¤ã•ã‚Œã‚‹ã¨ã€ç™»éŒ²ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã‹ã—ã€20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã§å‹•ä½œã—ã€ãƒ­ãƒƒã‚¯é…åˆ—ãŒ20ã§ã‚ã‚‹å ´åˆã€ã“ã‚Œã‚‰ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒçµ‚äº†ã—ã€æ–°ã—ã„20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ç™»éŒ²ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã©ã†ãªã‚‹ã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼š[33] </font></font><a href="http://coliru.stacked-crooked.com/a/f1ac55beedd31966"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/ f1ac55beedd31966ã”è¦§ã®</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ãŠã‚Šã€æœ€åˆã®20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯æ­£å¸¸ã«ç™»éŒ²ã•ã‚Œã¾ã—ãŸãŒã€æ¬¡ã®20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ç™»éŒ²ã§ããšï¼ˆregister_thread = -1ï¼‰ã€å‰ã®20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã¯æ—¢ã«å‰Šé™¤ã•ã‚Œã¦ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã›ã‚“ãŒã€æ’ä»–çš„ãªãƒ©ã‚¤ã‚¿ãƒ¼ãƒ­ãƒƒã‚¯ã®ä½¿ç”¨ã‚’å¼·åˆ¶ã•ã‚Œã¾ã—ãŸã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒå‰Šé™¤ã•ã‚ŒãŸã¨ãã«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®è‡ªå‹•ç™»éŒ²è§£é™¤ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã‚¹ãƒ¬ãƒƒãƒ‰ãŒã“ã‚Œã‚‰ã®ãƒ­ãƒƒã‚¯ã®å¤šãã§æ©Ÿèƒ½ã™ã‚‹å ´åˆã€ã‚¹ãƒ¬ãƒƒãƒ‰ã®çµ‚äº†æ™‚ã«ã€ã™ã¹ã¦ã®ãã®ã‚ˆã†ãªãƒ­ãƒƒã‚¯ã§ç™»éŒ²è§£é™¤ãŒç™ºç”Ÿã™ã‚‹ã¯ãšã§ã™ã€‚ã¾ãŸã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å‰Šé™¤æ™‚ã«ç¾åœ¨å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹ãƒ­ãƒƒã‚¯ãŒã‚ã‚‹å ´åˆã€å­˜åœ¨ã—ãªã„ãƒ­ãƒƒã‚¯ã§ç™»éŒ²ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹ï¼š[34] </font></font><a href="http://coliru.stacked-crooked.com/a/4172a6160ca33a0f"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/4172a6160ca33a0fã”è¦§ã®</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ãŠã‚Šã€æœ€åˆã«20å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ãŒç™»éŒ²ã•ã‚Œã€ãã‚Œã‚‰ã‚’å‰Šé™¤ã—ã¦20å€‹ã®æ–°ã—ã„ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ä½œæˆã—ãŸå¾Œã€ç™»éŒ²ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã—ãŸ-åŒã˜ç•ªå·ã§register_thread = </font><a href="http://coliru.stacked-crooked.com/a/4172a6160ca33a0f"><font style="vertical-align: inherit;">0-19</font></a><font style="vertical-align: inherit;">ï¼ˆå‡ºåŠ›ã‚’å‚ç…§ï¼‰ ï¼ˆå‡ºåŠ›ï¼‰ã®ä¾‹ï¼‰ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¬ãƒƒãƒ‰ãŒãƒ­ãƒƒã‚¯ã§å‹•ä½œã—ã€ãƒ­ãƒƒã‚¯ãŒå‰Šé™¤ã•ã‚ŒãŸå ´åˆã§ã‚‚ã€ã‚¹ãƒ¬ãƒƒãƒ‰ãŒå®Œäº†ã™ã‚‹ã¨ã€å­˜åœ¨ã—ãªã„ãƒ­ãƒƒã‚¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ç™»éŒ²è§£é™¤ã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„ã“ã¨ãŒ</font></font><a href="http://coliru.stacked-crooked.com/a/d2e5a4ba1cd787da"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ã‹ã‚Š</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚[35] </font><a href="http://coliru.stacked-crooked.com/a/d2e5a4ba1cd787da"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/d2e5a4ba1cd787da</font></a></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We 20ã‚¹ãƒ¬ãƒƒãƒ‰ãŒä½œæˆã•ã‚Œã€ãƒ­ãƒƒã‚¯ã‚’ä½¿ç”¨ã—ã¦èª­ã¿å–ã‚‰ã‚Œã€500ãƒŸãƒªç§’ã§ã‚¹ãƒªãƒ¼ãƒ—çŠ¶æ…‹ã«ãªã‚‹ã‚ˆã†ã«ã‚¿ã‚¤ãƒãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚ãã®æ™‚ç‚¹ã§ã€contention_free_shared_mutexãƒ­ãƒƒã‚¯ã‚’å«ã‚€contfree_safe_ptrã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ100ãƒŸãƒªç§’å¾Œã«å‰Šé™¤ã•ã‚Œã€ãã®å¾Œ20ã‚¹ãƒ¬ãƒƒãƒ‰ãŒèµ·å‹•ã—ã¦çµ‚äº†ã—ã¾ã—ãŸã€‚ãã‚Œã‚‰ãŒå®Œäº†ã™ã‚‹ã¨ã€ãƒªãƒ¢ãƒ¼ãƒˆãƒ­ãƒƒã‚¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç™»éŒ²è§£é™¤ã«ã‚ˆã‚‹ã‚¨ãƒ©ãƒ¼ã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã§ã—ãŸã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°ã•ãªè¿½åŠ ã¨ã—ã¦ã€MSVS2013ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã§ã€å¤ã„ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®æ‰€æœ‰è€…ã‚‚ã“ã®ä¾‹ã«æ…£ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç°¡ç´ åŒ–ã•ã‚ŒãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ç™»éŒ²ã‚µãƒãƒ¼ãƒˆã‚’è¿½åŠ ã—ã¾ã™ãŒã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ç™»éŒ²è§£é™¤ã™ã‚‹æ©Ÿèƒ½ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šè¨˜ã®è€ƒãˆã‚’ã™ã¹ã¦è€ƒæ…®ã«å…¥ã‚ŒãŸä¾‹ã¨ã—ã¦ã€æœ€çµ‚çµæœã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹ï¼š[36] </font></font><a href="http://coliru.stacked-crooked.com/a/0a1007765f13aa0d"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/0a1007765f13aa0d</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨é¸æŠã•ã‚ŒãŸéšœå£ã®é©åˆ‡ãªæ©Ÿèƒ½</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šè¨˜ã§ã¯ã€æ˜ã‚‰ã‹ãªã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¤ºã™ãƒ†ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€æ“ä½œæ€§ã‚’è¨¼æ˜ã™ã‚‹ãŸã‚ã«ã€æ“ä½œã®é †åºã¨å¤‰æ•°ã®å¯èƒ½ãªçŠ¶æ…‹ã®å¯èƒ½ãªå¤‰æ›´ã®ã‚¹ã‚­ãƒ¼ãƒ ã‚’ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ’ä»–çš„ãƒ­ãƒƒã‚¯ï¼ˆï¼‰/ãƒ­ãƒƒã‚¯è§£é™¤ï¼ˆï¼‰ãƒ­ãƒƒã‚¯ã¯ã€recursive_spinlock_tã®å ´åˆã¨åŒã˜ãã‚‰ã„ç°¡å˜ãªã®ã§ã€è©³ç´°ã«æ¤œè¨ã—ã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lock_sharedï¼ˆï¼‰ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã¨lockï¼ˆï¼‰ã®ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã®ç«¶åˆã«ã¤ã„ã¦ã¯ã€ä¸Šã§è©³ã—ãèª¿ã¹ã¾ã—ãŸã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã“ã§ã®ä¸»ãªã‚¿ã‚¹ã‚¯ã¯ã€ã™ã¹ã¦ã®å ´åˆã§lock_sharedï¼ˆï¼‰ãŒå°‘ãªãã¨ã‚‚Acquire-semanticã‚’ä½¿ç”¨ã—ã€unlock_sharedï¼ˆï¼‰ãŒã™ã¹ã¦ã®å ´åˆã§å°‘ãªãã¨ã‚‚Release-semanticã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚’ç¤ºã™ã“ã¨ã§ã™ã€‚ã—ã‹ã—ã€ã“ã‚Œã¯å†å¸°çš„ãªãƒ­ãƒƒã‚¯/ãƒ­ãƒƒã‚¯è§£é™¤ã‚’ç¹°ã‚Šè¿”ã™ãŸã‚ã®å‰ææ¡ä»¶ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/faf/4c1/75b/faf4c175b21d5e4b890a7045e72b7b79.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã«ã€ã“ã‚Œã‚‰ã®éšœå£ãŒã‚³ãƒ¼ãƒ‰ã§ã©ã®ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lock_sharedï¼ˆï¼‰ã®</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›³å¼ã®éšœå£</font><font style="vertical-align: inherit;">-é †åºã®å¤‰æ›´ãŒç¦æ­¢ã•ã‚Œã¦ã„ã‚‹æ–¹å‘ã‚’ç¤ºã™èµ¤ã„</font><b><font style="vertical-align: inherit;">ãƒãƒ„å°ã®</font></b><font style="vertical-align: inherit;">çŸ¢å°ï¼š</font><b><font style="vertical-align: inherit;">unlock_sharedï¼ˆï¼‰ã®</font></b></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/bf0/a21/091/bf0a2109192641cac4f1890fe7dbc4f9.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›³å¼ã®éšœå£</font><font style="vertical-align: inherit;">ï¼š</font><font style="vertical-align: inherit;">ãƒ•ãƒ«ã‚µã‚¤ã‚ºï¼š</font><a href=""><font style="vertical-align: inherit;">hsto.org/files/065/9ce/bd7/0659cebd72424256b6254c57d35c7d07.jpg</font></a><font style="vertical-align: inherit;">ãƒãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆä»˜ãã®ãƒ•ãƒ«ã‚µã‚¤ã‚ºé·ç§»ï¼š</font><a href=""><font style="vertical-align: inherit;">hsto.org/files/fa7/4d2/2b7/fa74d22b7cda4bf4b1015ee263cad9ee.jpgã®</font></a><font style="vertical-align: inherit;">å­˜åœ¨ã¯ã¾ãŸã€ã“ã®åŒã˜æ©Ÿèƒ½ã®ãƒ–ãƒ­ãƒƒã‚¯å›³ï¼ˆï¼‰lock_shared </font><font style="vertical-align: inherit;">ãƒ•ãƒ«ã‚µã‚¤ã‚ºã®ç”»åƒã‚’ï¼š</font><a href=""><font style="vertical-align: inherit;">hsto.org/files/c3a/abd/4e7/c3aabd4e7cfa4e9db55b2843467d878f.jpgã‚’</font></a><font style="vertical-align: inherit;">å†…æ¥•å††å½¢ã®ãƒ–ãƒ­ãƒƒã‚¯ã¯ã€å³å¯†ãªä¸€é€£ã®æ“ä½œã‚’ç¤ºã—ã¾ã™ã€‚</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/baf/15d/688/baf15d688e3fae2968eb2fe1f06083fc.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font><a href=""><font style="vertical-align: inherit;"></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font><a href=""><font style="vertical-align: inherit;"></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/c16/eca/6a7/c16eca6a73904282017f80dbf17cee9a.jpg" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font><a href=""><font style="vertical-align: inherit;"></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ“ä½œãŒæœ€åˆã«å®Ÿè¡Œã•ã‚Œã¾ã™-èµ¤ã§ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ãã®å¾Œã€æ“ä½œãŒå®Ÿè¡Œã•ã‚Œã¾ã™-ç´«è‰²ã§ </font></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç·‘è‰²ã¯ã€ä»»æ„ã®é †åºã§å®Ÿè¡Œã§ãã‚‹å¤‰æ›´ã‚’ç¤ºã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®å¤‰æ›´ã¯ã€Œå…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¾ã›ã‚“ãŒã€å†å¸°ãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã‚’å¢—ã‚„ã™ã ã‘ã§ã™-ã“ã‚Œã‚‰ã®å¤‰æ›´ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ã¿ä½¿ç”¨ã™ã‚‹å ´åˆã«é‡è¦ã§ã™ã€‚</font></font>ã¤ã¾ã‚Š<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ã“ã‚Œã‚‰ã®ç·‘ã®æ“ä½œã¯ã€ãƒ­ãƒƒã‚¯ã¸ã®å®Ÿéš›ã®ã‚¨ãƒ³ãƒˆãƒªã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãªãœãªã‚‰<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2ã¤ã®æ¡ä»¶ãŒæº€ãŸã•ã‚Œã¦ã„ã¾ã™-ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰ã®ã™ã¹ã¦ã®å¿…è¦ãªå‰¯ä½œç”¨ãŒè€ƒæ…®ã•ã‚Œã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ï¼š </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ­ãƒƒã‚¯ã‚’å…¥åŠ›ã™ã‚‹æ±ºå®šã®ç¬é–“ã«ã¯ã€å¸¸ã«ã€Œå–å¾—ã€ä»¥ä¸Šã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ãŒã‚ã‚Š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚â€¢want_x_lock.loadï¼ˆstd :: memory_order_seq_cstï¼‰</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€¢want_x_lock.compare_exchange_weakï¼ˆflagã€trueã€std :: memory_order_seq_cstï¼‰</font></font></li><li>   <b></b> (1-),     <b></b> (2-)      .            . </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚‰ã«ã€ã“ã‚Œã‚‰ã®æ“ä½œã®çµæœã¨ãã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ãƒ­ã‚¸ãƒƒã‚¯ã¨å˜ç´”ã«æ¯”è¼ƒã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ­£ç¢ºæ€§ã‚’ç¢ºèªã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã€Œcontention_free_shared_mutexã€ã®ä»–ã®ã™ã¹ã¦ã®æ©Ÿèƒ½ã¯ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰å®Ÿè¡Œã®ãƒ­ã‚¸ãƒƒã‚¯ã®è¦³ç‚¹ã‹ã‚‰ã‚ˆã‚Šæ˜ç™½ã§ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ãŸã€ç¹°ã‚Šè¿”ã—ï¼ˆå†å¸°ï¼‰ãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã«std :: memory_order_acquireãƒãƒªã‚¢ãƒ¼ï¼ˆå›³ã«ç¤ºã™ã‚ˆã†ã«ï¼‰ã¯å¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã‚Œã¯ã€å®Ÿéš›ã®ãƒ­ãƒƒã‚¯ã‚¨ãƒ³ãƒˆãƒªã§ã¯ãªã„ãŸã‚ã€std :: memory_order_relaxedã‚’è¨­å®šã™ã‚‹ã ã‘ã§ååˆ†ã§ã™ã€‚ ã€‚</font><font style="vertical-align: inherit;">ãŸã ã—ã€ã“ã‚Œã«ã‚ˆã£ã¦é€Ÿåº¦ãŒå¤§å¹…ã«å‘ä¸Šã™ã‚‹ã“ã¨ã¯ãªãã€ç†è§£ãŒè¤‡é›‘ã«ãªã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ã„æ–¹</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ã§contention_free_shared_mutex &lt;&gt;ã‚’é«˜åº¦ã«æœ€é©åŒ–ã•ã‚ŒãŸshared_mutexã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linuxï¼ˆGCC 6.3.0ï¼‰ãŠã‚ˆã³Windowsï¼ˆMSVS 2015/13ï¼‰ç”¨ã®ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€æ¬¡ã®å ´æ‰€ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ï¼š</font></font><a href="https://github.com/AlexeyAB/object_threadsafe/tree/master/contfree_shared_mutex"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/AlexeyAB/object_threadsafe/tree/master/contfree_shared_mutex</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Linuxã§Clang ++ 3.8.0ã§ã“ã®ä¾‹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã«ã¯ã€å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãƒ¡ã‚¤ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; iostream &gt; #include &lt; thread &gt; #include &lt; vector &gt; #include "safe_ptr.h" template &lt; typename T &gt; void func(T &amp;s_m, int &amp;a, int &amp;b) { for (size_t i = 0; i &lt; 100000; ++i) { // x-lock for modification { s_m.lock(); a++; b++; s_m.unlock(); } // s-lock for reading { s_m.lock_shared(); assert(a == b); // will never happen s_m.unlock_shared(); } } } int main() { int a = 0; int b = 0; sf::contention_free_shared_mutex&lt; &gt; s_m; // 19 threads std::vector&lt; std::thread &gt; vec_thread(20); for (auto &amp;i : vec_thread) i = std::move(std::thread([&amp;]() { func(s_m, a, b); })); for (auto &amp;i : vec_thread) i.join(); std::cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; ", b = " &lt;&lt; b &lt;&lt; std::endl; getchar(); return 0; }</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ã‚ã‚Šã¾ã™ï¼š</font></font><a href="http://coliru.stacked-crooked.com/a/11c191b06aeb5fb6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coliru.stacked-crooked.com/a/11c191b06aeb5fb6ã”è¦§ã®</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ãŠã‚Šã€mutex sf :: contention_free_shared_mutex &lt;&gt;ã¯ã€æ¨™æº–std :: shared_mutexã¨ã¾ã£ãŸãåŒã˜ã‚ˆã†ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆï¼šstd :: shared_mutex VS contention_free_shared_mutex</font></font></b> </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ã¤ã®ã‚µãƒ¼ãƒãƒ¼ãƒ—ãƒ­ã‚»ãƒƒã‚µIntel Xeon E5-2660 v3 2.6 GHzã®16ã‚¹ãƒ¬ãƒƒãƒ‰ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ä¾‹ã‚’æ¬¡ã«ç¤ºã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã¾ãšã€é’ã¨ç´«ã®ç·šã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> safe_ptr &lt;std :: mapã€std :: shared_mutex&gt; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contfree_safe_ptr &lt;std :: map&gt; </font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šãƒ†ã‚¹ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</font></font><a href="https://github.com/AlexeyAB/object_threadsafe/tree/master/bench_contfree"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/AlexeyAB/object_threadsafe/tree/master/bench_contfree</font></font></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ·å‹•ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">numactl --localalloc --cpunodebind = 0 ./benchmark 16</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã ã‘ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰ä¸Šã®CPUã‚’æŒã£ã¦ã„ã‚‹å ´åˆã¯ã€å®Ÿè¡Œã—ã¾ã™</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ /ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª­ã¿å–ã‚Šãƒ­ãƒƒã‚¯ï¼ˆå…±æœ‰ãƒ­ãƒƒã‚¯ï¼‰ã¨æ›¸ãè¾¼ã¿ãƒ­ãƒƒã‚¯ï¼ˆæ’ä»–ãƒ­ãƒƒã‚¯ï¼‰ã®ç•°ãªã‚‹æ¯”ç‡ã«å¯¾ã™ã‚‹ã•ã¾ã–ã¾ãªãƒ­ãƒƒã‚¯ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ’ä»–ãƒ­ãƒƒã‚¯ã®å‰²åˆ=ï¼ˆæ›¸ãè¾¼ã¿æ“ä½œã®å‰²åˆï¼‰ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å…±æœ‰ãƒ­ãƒƒã‚¯ï¼…= 100-ï¼ˆæ›¸ãè¾¼ã¿æ“ä½œã®ï¼…ï¼‰ </font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆstd :: mutexã®å ´åˆ-æ’ä»–ãƒ­ãƒƒã‚¯ã¯å¸¸ã«æ©Ÿèƒ½ã—ã¾ã™ï¼‰</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://hsto.org/files/3d8/1c1/bbd/3d81c1bbd945413d85eb65be18aa2b0f.png" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆå¤§ãã„ã»ã©è‰¯ã„ï¼‰ã€MOps-æ¯ç§’æ•°ç™¾ä¸‡å›ã®æ“ä½œ</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤‰æ›´ãŒ0ï¼…ã®å ´åˆã€å…±æœ‰mutexï¼ˆcontfree_safe_ptr &lt;map&gt;ã®ä¸€éƒ¨ã¨ã—ã¦ï¼‰ã¯34.60 Mopsã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¤ºã—</font><font style="vertical-align: inherit;">ã€æ¨™æº–std :: shared_mutexï¼ˆsafe_ptr &lt;mapã€std :: shared_mutex&gt;ã®ä¸€éƒ¨ã¨ã—ã¦ï¼‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ˆã‚Š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚</font><b><font style="vertical-align: inherit;">14å€é«˜é€Ÿ</font></b><font style="vertical-align: inherit;">ã§ã™ã€‚ 2.44ãƒ¢ãƒƒãƒ—ã®ã¿ã€‚</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15ï¼…ã®å¤‰æ›´ã«ã‚ˆã‚Šã€å…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ï¼ˆcontfree_safe_ptr &lt;map&gt;ã®ä¸€éƒ¨ã¨ã—ã¦ï¼‰ã¯5.16 Mopsãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ç¤ºã—</font><font style="vertical-align: inherit;">ã€æ¨™æº–std :: shared_mutexï¼ˆsafe_ptr &lt;mapã€std :: shared_mutex&gt;ã®ä¸€éƒ¨ï¼‰</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ˆã‚Š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚</font><b><font style="vertical-align: inherit;">7å€é«˜é€Ÿ</font></b><font style="vertical-align: inherit;">ã§ã™ã€‚ 0.74ãƒ¢ãƒƒãƒ—ã®ã¿ã€‚</font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œç«¶åˆã®ãªã„å…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ãƒ­ãƒƒã‚¯ã¯ã€ä»»æ„ã®æ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§æ©Ÿèƒ½ã—ã¾ã™ã€‚æœ€åˆã®36å€‹ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã¯ç«¶åˆãªã—ã€å¾Œç¶šã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã¯æ’ä»–ãƒ­ãƒƒã‚¯ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ã‚°ãƒ©ãƒ•ã‹ã‚‰ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ã€Œæ’ä»–ãƒ­ãƒƒã‚¯ã€ã®std :: mutexã§ã•ãˆã€std :: shared_mutexã‚ˆã‚Šã‚‚é«˜é€Ÿã§ã€15ï¼…ã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ãƒ•ãƒªãƒ¼ã®ã‚¹ãƒˆãƒªãƒ¼ãƒ 36ã®æ•°ã¯ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦è¨­å®šã•ã‚Œã€å¤‰æ›´ã§ãã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã«ã€ãƒ­ãƒƒã‚¯ã®ã‚¿ã‚¤ãƒ—ã®ç•°ãªã‚‹æ¯”ç‡ï¼ˆèª­ã¿å–ã‚Šï¼ˆå…±æœ‰ãƒ­ãƒƒã‚¯ï¼‰ã¨æ›¸ãè¾¼ã¿ï¼ˆæ’ä»–ãƒ­ãƒƒã‚¯ï¼‰ï¼‰ã®é…å»¶ã®ä¸­å¤®å€¤ã‚’ç¤ºã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cppãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ã¯ã€æ¬¡ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚const bool measure_latency = true; </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ï¼š</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">numactl --localalloc --cpunodebind = 0 ./benchmark 16</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰ã«CPUãŒ1ã¤ã—ã‹ãªã„å ´åˆã¯ã€æ¬¡ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./benchmark</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://hsto.org/files/3ae/e18/850/3aee188503b14363abb9fe0a069ecfa0.png" alt="ç”»åƒ">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®ä¸­å¤®å€¤ï¼ˆä½ã„-è‰¯ã„ï¼‰ã€ãƒã‚¤ã‚¯ãƒ­ç§’</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ãŸãŒã£ã¦ã€std :: shared_timed_mutexãŠã‚ˆã³boost :: shared_mutexã¨ã¯ç•°ãªã‚Šã€ãƒ­ãƒƒã‚¯ãŠã‚ˆã³ãƒ­ãƒƒã‚¯è§£é™¤ä¸­ã«ãƒªãƒ¼ãƒ€ãƒ¼ãŒäº’ã„ã«å¹²æ¸‰ã—ãªã„å…±æœ‰ãƒ­ãƒƒã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ãŸã ã—ã€å„ã‚¹ãƒ¬ãƒƒãƒ‰ã«è¿½åŠ ã§å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ãƒ­ãƒƒã‚¯é…åˆ—ã®64ãƒã‚¤ãƒˆ+ 24ãƒã‚¤ãƒˆã¯ã€ç™»éŒ²è§£é™¤ã®ãŸã‚ã®unregister_tæ§‹é€ ä½“+ hash_mapã‹ã‚‰ã“ã®æ§‹é€ ä½“ã‚’æŒ‡ã™è¦ç´ ã§å ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚åˆè¨ˆã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ ã”ã¨ã«ç´„100ãƒã‚¤ãƒˆã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ˆã‚Šæ·±ã„å•é¡Œã¯ã€ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹èƒ½åŠ›ã§ã™ã€‚ãŸã¨ãˆã°ã€24å€‹ã®ã‚³ã‚¢ï¼ˆãã‚Œãã‚Œ48å€‹ã®ãƒã‚¤ãƒ‘ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‡ã‚£ãƒ³ã‚°ã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰ã‚’å‚™ãˆãŸ8å€‹ã®CPUï¼ˆIntel Xeon Processor E7-8890 v4ï¼‰ãŒã‚ã‚‹å ´åˆã€ã“ã‚Œã¯åˆè¨ˆ384å€‹ã®è«–ç†ã‚³ã‚¢ã«ãªã‚Šã¾ã™ã€‚å„ãƒ©ã‚¤ã‚¿ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ã¯ã€æ›¸ãè¾¼ã¿å‰ã«24,576ãƒã‚¤ãƒˆï¼ˆå„384ã‚³ã‚¢ã‹ã‚‰64ãƒã‚¤ãƒˆï¼‰ã‚’èª­ã¿å–ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ãŒã€ä¸¦è¡Œã—ã¦èª­ã¿å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ©ã‚¤ãƒ³ãŒå„384ã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰å„ã‚¹ãƒ¬ãƒƒãƒ‰ã«é †æ¬¡ç§»å‹•ã™ã‚‹ã¾ã§å¾…ã¤ã‚ˆã‚Šã‚‚ç¢ºã‹ã«å„ªã‚Œã¦ã„ã¾ã™ã€‚é€šå¸¸ã®std :: shared_timed_mutexãŠã‚ˆã³boost :: shared_mutexï¼ˆä»»æ„ã®ã‚¿ã‚¤ãƒ—ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯/å…±æœ‰ãƒ­ãƒƒã‚¯ï¼‰ã€‚ãŸã ã—ã€1000ã‚³ã‚¢ä»¥ä¸Šã®ä¸¦åˆ—åŒ–ã¯é€šå¸¸ã€å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã™ã‚‹ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã‚’å‘¼ã³å‡ºã™ã®ã§ã¯ãªãã€ç•°ãªã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§å®Ÿè£…ã•ã‚Œã¾ã™ã€‚ä¸Šè¨˜ã§èª¬æ˜ã—ãŸã™ã¹ã¦ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ­ãƒƒã‚¯ã€ãƒ­ãƒƒã‚¯ã®ãªã„ãƒ‡ãƒ¼ã‚¿æ§‹é€ -ã“ã‚Œã‚‰ã¯ã™ã¹ã¦ã€ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ï¼ˆ0ã€5-5 usecï¼‰å€‹ã€…ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ç§’ã‚ãŸã‚Šã®æ“ä½œç‡ãŒé«˜ã„å ´åˆã€ã¤ã¾ã‚Šã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¨æ•°ä¸‡ã®è«–ç†ã‚³ã‚¢ã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®ãŸã‚ã«ã€å¤§é‡ä¸¦åˆ—å‡¦ç†ã€ã€Œãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚’éš ã™ã€ã€ã€Œãƒãƒƒãƒå‡¦ç†ã€ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚½ãƒ¼ãƒˆï¼ˆãƒãƒƒãƒ—ç”¨ï¼‰ã¾ãŸã¯ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼ˆãƒãƒƒã‚·ãƒ¥ãƒãƒƒãƒ—ç”¨ï¼‰ã•ã‚Œã€æ—¢å­˜ã®ã‚½ãƒ¼ãƒˆæ¸ˆã¿ã®ã‚‚ã®ã¨ãƒãƒ¼ã‚¸ã•ã‚Œã‚‹å ´åˆã®ãƒãƒƒãƒå‡¦ç†ã¾ãŸã¯50ã€œ500 usecã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã•ã‚ŒãŸé…åˆ—ã€‚ãã®çµæœã€å„æ“ä½œã«ã¯10ã€œ100å€ã®é…å»¶ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã‚‰ã®é…å»¶ã¯è†¨å¤§ãªæ•°ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§åŒæ™‚ã«ç™ºç”Ÿã—ã€ãã®çµæœã€ã€ŒFine-grained Temporal multithreadingã€ã®ä½¿ç”¨ã«ã‚ˆã‚Šãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€Œéè¡¨ç¤ºãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã€ãŒéš ã•ã‚Œã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»®å®šã™ã‚‹ã¨ã€å„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«ã¯100å€ã®é…å»¶ãŒã‚ã‚Šã¾ã™ãŒã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯10,000å€å‡¦ç†ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã¯ã€å˜ä½æ™‚é–“ã‚ãŸã‚Š100å€åŠ¹æœçš„ã§ã™ã€‚ GPUã§é–‹ç™ºã™ã‚‹å ´åˆã€ã“ã®ã‚ˆã†ãªåŸå‰‡ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚ãŠãã‚‰ãä»¥ä¸‹ã®è¨˜äº‹ã§ã“ã‚Œã‚’ã‚ˆã‚Šè©³ç´°ã«åˆ†æã—ã¾ã™ã€‚</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  <b>çµè«–ï¼š</b> </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¨™æº–ã®std :: shared_mutexã§è¡Œã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒäº’ã„ã«åŒæœŸã™ã‚‹å¿…è¦ã®ãªã„ç‹¬è‡ªã®ã€Œå…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã€Œå…±æœ‰ãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒã‚¯ã‚¹ã€ã®å‹•ä½œã®æ­£ç¢ºæ€§ã‚’å³å¯†ã«è¨¼æ˜ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã¾ãŸã€ã‚¢ãƒˆãƒŸãƒƒã‚¯æ“ä½œã€ãƒ¡ãƒ¢ãƒªãƒãƒªã‚¢ã‚’è©³ç´°ã«æ¤œè¨ã—ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’æœ€å¤§é™ã«æœ€é©åŒ–ã™ã‚‹ãŸã‚ã«æ–¹å‘ã‚’å¤‰æ›´ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€libCDSï¼ˆConcurrent Data Structuresãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é«˜åº¦ã«æœ€é©åŒ–ã•ã‚ŒãŸãƒ­ãƒƒã‚¯ãƒ•ãƒªãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ¯”è¼ƒã—ã¦ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ã©ã‚Œã ã‘å‘ä¸Šã§ãã‚‹ã‹ã‚’ç¢ºèªã—ã¾ã™ï¼š</font></font><a href="https://github.com/khizmax/libcds"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/khizmax/libcds</font></font></a> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J328352/index.html">Djangoé–‹ç™ºè€…ãŒçŠ¯ã—ãŸãƒˆãƒƒãƒ—10ã®é–“é•ã„</a></li>
<li><a href="../J328354/index.html">CruiseControl.NETãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã«åŸºã¥ã„ã¦PVS-Studio Cï¼ƒã¨Visual Studioã«çµ„ã¿è¾¼ã¾ã‚ŒãŸé™çš„ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ã®æ¯”è¼ƒ</a></li>
<li><a href="../J328356/index.html">Redmadrobotã§iOSãŠã‚ˆã³Androidé–‹ç™ºã®3å›ç›®ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—ã‚’ã©ã®ã‚ˆã†ã«è¡Œã£ãŸã®ã‹</a></li>
<li><a href="../J328358/index.html">å¤ªã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ -è¨˜æ†¶å› å­ã®å­¦ç¿’B</a></li>
<li><a href="../J328360/index.html">Min-Loon Chowï¼šæœªçŸ¥ã®4ã®ãŸã‚ã«è¨­è¨ˆã—ãŸã‚‚ã®ã€‚ãƒ‘ãƒ¼ãƒˆ2</a></li>
<li><a href="../J328366/index.html">ãƒ“ãƒ«ãƒ‰2017ï¼šãƒ†ã‚­ã‚¹ãƒˆç¿»è¨³ã€‚ 2æ—¥ç›®</a></li>
<li><a href="../J328368/index.html">åˆ†æ•£ãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼ˆãƒ‘ãƒ¼ãƒˆ2ã€ãã®æ–¹æ³•ï¼‰</a></li>
<li><a href="../J328370/index.html">ECCãƒ¡ãƒ¢ãƒªã‚’è³¼å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ</a></li>
<li><a href="../J328372/index.html">æ©Ÿæ¢°å­¦ç¿’ã®ãƒ¡ãƒˆãƒªãƒƒã‚¯</a></li>
<li><a href="../J328374/index.html">ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•std ::ãƒ­ãƒƒã‚¯ã®ãªã„ãƒãƒƒãƒ—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‚™ãˆãŸãƒãƒƒãƒ—</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>