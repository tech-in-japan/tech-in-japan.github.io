<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ  ğŸ¤œ ğŸˆ² Comet â€“ 1,000,000ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è² è·ã‚’æŒã¤Mochiwebã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ ãƒ‘ãƒ¼ãƒˆ3/3 ğŸ§ ğŸ›°ï¸ ğŸšª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã®ã‚·ãƒªãƒ¼ã‚ºã®è¨˜äº‹ã®ãƒ‘ãƒ¼ãƒˆ1ã¨ãƒ‘ãƒ¼ãƒˆ2ã§ã¯ã€mochiwebã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã¨ã€æ¥ç¶šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã—ãŸã€‚ æ¥ç¶šã”ã¨ã«ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã‚’8 KBã«å‰Šæ¸›ã—ã¾ã—ãŸã€‚ c10kãƒ†ã‚¹ãƒˆã‚’ç¹°ã‚Šè¿”ã—ã¾ã—ãŸã€‚ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚ æ¥½ã—ã‹ã£ãŸã§ã™ãŒã€ä»Šã¯100ä¸‡ã®...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>Comet â€“ 1,000,000ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è² è·ã‚’æŒã¤Mochiwebã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ ãƒ‘ãƒ¼ãƒˆ3/3</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"> ã“ã®ã‚·ãƒªãƒ¼ã‚ºã®è¨˜äº‹ã®<a href="http://habrahabr.ru/blogs/erlang/111252/">ãƒ‘ãƒ¼ãƒˆ1</a>ã¨<a href="http://habrahabr.ru/blogs/erlang/111350/">ãƒ‘ãƒ¼ãƒˆ2</a>ã§ã¯ã€mochiwebã‚’ä½¿ç”¨ã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã¨ã€æ¥ç¶šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã—ãŸã€‚ æ¥ç¶šã”ã¨ã«ãƒ¡ãƒ¢ãƒªæ¶ˆè²»ã‚’8 KBã«å‰Šæ¸›ã—ã¾ã—ãŸã€‚  c10kãƒ†ã‚¹ãƒˆã‚’ç¹°ã‚Šè¿”ã—ã¾ã—ãŸã€‚ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã—ãŸã€‚ æ¥½ã—ã‹ã£ãŸã§ã™ãŒã€ä»Šã¯100ä¸‡ã®æ¥ç¶šã§ã™ã¹ã¦ã‚’ç¹°ã‚Šè¿”ã™æ™‚é–“ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®è¨˜äº‹ã®å†…å®¹ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢Mnesiaãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½¿ç”¨ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢100ä¸‡äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã™ã‚‹ã€Œå‹äººã€ã¨ã„ã†å½¢å¼ã®ã‚‚ã£ã¨ã‚‚ã‚‰ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç”Ÿæˆã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢Mnesiaã‚’æ§‹æˆã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢1å°ã®ãƒã‚·ãƒ³ã‹ã‚‰100ä¸‡ã®æ¥ç¶šã‚’ç™ºè¦‹ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢100ä¸‡äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®æ¯”è¼ƒãƒ†ã‚¹ãƒˆã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢æ¥ç¶šå‡¦ç†ã®ãŸã‚ã®Libevent +Cã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢æœ€çµ‚çš„ãªçµè«–ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®ãƒ†ã‚¹ãƒˆã®ä¸€éƒ¨ã¯ã€1å°ã®ãƒ†ã‚¹ãƒˆãƒã‚·ãƒ³ã‹ã‚‰1,000,000ã®æ¥ç¶šã‚’é–‹ãæ©Ÿèƒ½ã§ã™ã€‚  1,000,000æ¥ç¶šã‚’å—ã‘å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚’ä½œæˆã™ã‚‹æ–¹ãŒã€å®Ÿéš›ã«1,000,000æ¥ç¶šã‚’ä½œæˆã™ã‚‹ã‚ˆã‚Šã‚‚ç°¡å˜ã§ã™ã€‚ ã—ãŸãŒã£ã¦ã€ã“ã®è¨˜äº‹ã®ã‹ãªã‚Šã®éƒ¨åˆ†ã¯ã€å˜ä¸€ã®ãƒã‚·ãƒ³ã‹ã‚‰1,000,000ã®æ¥ç¶šã‚’é–‹ããŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹æ–¹æ³•ã«é–¢ã™ã‚‹ã‚‚ã®ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Pubsubã®ç™ºå£²ã€‚ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ‘ãƒ¼ãƒˆ2ã§ã¯ã€ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚ ã“ã‚Œã¯ãƒãƒ£ãƒƒãƒˆ/ IMã‚·ã‚¹ãƒ†ãƒ ã«ã¯æœ€é©ã§ã™ãŒã€ä»£ã‚ã‚Šã«ã‚‚ã£ã¨ä¾¿åˆ©ãªã“ã¨ãŒã§ãã¾ã™ã€‚ å¤§è¦æ¨¡ãªãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒãƒ¼ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã„ã†åˆ¥ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚ å‹äººã«é–¢ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã€å‹äººãƒªã‚¹ãƒˆã®äººã€…ãŒç”Ÿæˆã—ãŸã™ã¹ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æä¾›ã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç§ã®æ„å›³ã¯ã€ã“ã‚Œã‚’Last.fmã«ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€å‹é”ãŒç¾åœ¨è´ã„ã¦ã„ã‚‹æ›²ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒ³ãƒãƒ«ã‚’å–å¾—ã§ãã¾ã™ã€‚ ã“ã‚Œã¯ã€ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§ç”Ÿæˆã•ã‚ŒãŸä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚‚åŒæ§˜ã«é©ç”¨ã§ãã¾ã™ã€‚  Flickrã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸå†™çœŸã€Facebookã€Twitterãªã©ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ãƒ‰ã®è¦ç´   FriendFeedã«ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã®ãƒ™ãƒ¼ã‚¿ç‰ˆAPIã‚‚ã‚ã‚‹ãŸã‚ã€ã“ã‚Œã¯é–“é•ã„ãªãé–¢é€£ã—ã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®å®Ÿè£… </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚·ãƒ³ãƒ—ãƒ«ãªã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ãŒã€è‡ªå‹•çš„ã«äººã€…ã‚’ã™ã¹ã¦ã®å‹é”ã«ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      APIï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢add_subscriptionsï¼ˆ[{è³¼èª­è€…ã€è³¼èª­è€…}ã€...]ï¼‰ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢remove_subscriptionsï¼ˆ[{è³¼èª­è€…ã€è³¼èª­è€…}ã€...]ï¼‰ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢get_subscribersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql">-module(subsmanager). -behaviour(gen_server). -<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("/usr/local/lib/erlang/lib/stdlib-1.15.4/include/qlc.hrl"). -export([init/<span class="hljs-number"><span class="hljs-number">1</span></span>, handle_call/<span class="hljs-number"><span class="hljs-number">3</span></span>, handle_cast/<span class="hljs-number"><span class="hljs-number">2</span></span>, handle_info/<span class="hljs-number"><span class="hljs-number">2</span></span>, terminate/<span class="hljs-number"><span class="hljs-number">2</span></span>, code_change/<span class="hljs-number"><span class="hljs-number">3</span></span>]). -export([add_subscriptions/<span class="hljs-number"><span class="hljs-number">1</span></span>, remove_subscriptions/<span class="hljs-number"><span class="hljs-number">1</span></span>, get_subscribers/<span class="hljs-number"><span class="hljs-number">1</span></span>, first_run/<span class="hljs-number"><span class="hljs-number">0</span></span>, stop/<span class="hljs-number"><span class="hljs-number">0</span></span>, start_link/<span class="hljs-number"><span class="hljs-number">0</span></span>]). -<span class="hljs-type"><span class="hljs-type">record</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, {subscriber, subscribee}). -<span class="hljs-type"><span class="hljs-type">record</span></span>(state, {}). % state <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mnesia -define(<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">global</span></span>:whereis_name(?MODULE)). start_link() -&gt; gen_server:start_link({<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>, ?MODULE}, ?MODULE, [], []). stop() -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {stop}). add_subscriptions(SubsList) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {add_subscriptions, SubsList}, <span class="hljs-keyword"><span class="hljs-keyword">infinity</span></span>). remove_subscriptions(SubsList) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {remove_subscriptions, SubsList}, <span class="hljs-keyword"><span class="hljs-keyword">infinity</span></span>). get_subscribers(<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {get_subscribers, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}). %% init([]) -&gt; ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(), io:format("Waiting on mnesia tables..\n",[]), mnesia:wait_for_tables([<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>], <span class="hljs-number"><span class="hljs-number">30000</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">Info</span></span> = mnesia:table_info(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">all</span></span>), io:format("OK. Subscription table info: \n~w\n\n",[<span class="hljs-keyword"><span class="hljs-keyword">Info</span></span>]), {ok, #state{}}. handle_call({stop}, _From, State) -&gt; {stop, stop, State}; handle_call({add_subscriptions, SubsList}, _From, State) -&gt; % Transactionally <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> slower: % F = fun() -&gt; % [ ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(S) || S &lt;- SubsList ] % <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, % mnesia:<span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>(F), [ mnesia:dirty_write(S) || S &lt;- SubsList ], {reply, ok, State}; handle_call({remove_subscriptions, SubsList}, _From, State) -&gt; F = fun() -&gt; [ ok = mnesia:delete_object(S) || S &lt;- SubsList ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, mnesia:<span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>(F), {reply, ok, State}; handle_call({get_subscribers, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}, <span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, State) -&gt; F = fun() -&gt; Subs = mnesia:dirty_match_object(#<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=<span class="hljs-string"><span class="hljs-string">'_'</span></span>, subscribee=<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}), Users = [Dude || #<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=Dude, subscribee=_} &lt;- Subs], gen_server:reply(<span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, Users) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, spawn(F), {noreply, State}. handle_cast(_Msg, State) -&gt; {noreply, State}. handle_info(_Msg, State) -&gt; {noreply, State}. terminate(_Reason, _State) -&gt; mnesia:stop(), ok. code_change(_OldVersion, State, _Extra) -&gt; io:format("Reloading code for ?MODULE\n",[]), {ok, State}. %% first_run() -&gt; mnesia:create_schema([node()]), ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(), Ret = mnesia:create_table(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, [ {disc_copies, [node()]}, {attributes, record_info(fields, <span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>)}, {<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>, [subscribee]}, %<span class="hljs-keyword"><span class="hljs-keyword">index</span></span> subscribee too {<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>, bag} ]), Ret.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ³¨ç›®ã™ã¹ãï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢çµ¶å¯¾ãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ã¦Mnesiaã«å¿…è¦ãªqlc.hrlã‚’å«ã‚ã¾ã—ãŸã€‚ ã“ã‚Œã¯è‰¯ãã‚ã‚Šã¾ã›ã‚“ãŒã€åˆ¥ã®æ–¹æ³•ã§ç§ã¯æˆåŠŸã—ã¾ã›ã‚“ã§ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢get_subscribersã¯åˆ¥ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç”Ÿæˆã—ã€gen_serverï¼šreplyã‚’ä½¿ç”¨ã—ã¦åŒã˜ãƒ—ãƒ­ã‚»ã‚¹ã«å¿œç­”ã®ä½œæˆã‚’å§”ä»»ã—ã¾ã™ã€‚ ã“ã‚Œã¯ã€ãƒ«ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’é »ç¹ã«å‘¼ã³å‡ºã™å ´åˆã€gen_serverãƒ«ãƒ¼ãƒ—ãŒã“ã®å‘¼ã³å‡ºã—ã§ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢rrï¼ˆã€Œsubsmanager.erlã€ï¼‰ã€‚ ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€erlã‚·ã‚§ãƒ«ã§ãƒ¬ã‚³ãƒ¼ãƒ‰å®šç¾©ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚  records.hrlãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã‚’å…¥ã‚Œã¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å«ã‚ã‚‹ã®ãŒæœ€è‰¯ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚ ç§ã¯çŸ­ããã†ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç¢ºèªã—ã¦ãã ã•ã„ã€‚  first_runï¼ˆï¼‰ã¯Mnesiaã‚¹ã‚­ãƒ¼ãƒã‚’ä½œæˆã™ã‚‹ãŸã‚ã€æœ€åˆã«å‘¼ã³å‡ºã™ã“ã¨ãŒé‡è¦ã§ã™ã€‚  mnesiaã®ã‚‚ã†1ã¤ã®æ½œåœ¨çš„ãªä¸å…·åˆã¯ã€ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ï¼‰ä½œæˆã—ãŸãƒãƒ¼ãƒ‰ã®ã¿ãŒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãŸã‚ã€ã‚·ã‚§ãƒ«ã«erlåã‚’ä»˜ã‘ã‚‹ã“ã¨ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ mkdir /var/mnesia $ erl -boot start_sasl -mnesia dir <span class="hljs-string"><span class="hljs-string">'"/var/mnesia_data"'</span></span> -sname subsman (subsman@localhost)<span class="hljs-number"><span class="hljs-number">1</span></span>&gt; c(subsmanager). {ok,subsmanager} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">2</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>first_run(). ... {atomic,ok} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">3</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>start_link(). Waiting on mnesia tables.. OK. Subscription table <span class="hljs-symbol"><span class="hljs-symbol">info:</span></span> [{access_mode,read_write},{active_replicas,[subsman@localhost]},{arity,<span class="hljs-number"><span class="hljs-number">3</span></span>},{attributes,[subscriber,subscribee]},{checkpoints,[]},{commit_work,[{index,bag,[{<span class="hljs-number"><span class="hljs-number">3</span></span>,{ram,<span class="hljs-number"><span class="hljs-number">57378</span></span>}}]}]},{cookie,{{<span class="hljs-number"><span class="hljs-number">1224</span></span>,<span class="hljs-number"><span class="hljs-number">800064</span></span>,<span class="hljs-number"><span class="hljs-number">900003</span></span>},subsman@localhost}},{cstruct,{cstruct,subscription,bag,[],[subsman@localhost],[],<span class="hljs-number"><span class="hljs-number">0</span></span>,read_write,[<span class="hljs-number"><span class="hljs-number">3</span></span>],[],<span class="hljs-literal"><span class="hljs-literal">false</span></span>,subscription,[subscriber,subscribee],[],[],{{<span class="hljs-number"><span class="hljs-number">1224</span></span>,<span class="hljs-number"><span class="hljs-number">863164</span></span>,<span class="hljs-number"><span class="hljs-number">904753</span></span>},subsman@localhost},{{<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},[]}}},{disc_copies,[subsman@localhost]},{disc_only_copies,[]},{frag_properties,[]},{index,[<span class="hljs-number"><span class="hljs-number">3</span></span>]},{load_by_force,<span class="hljs-literal"><span class="hljs-literal">false</span></span>},{load_node,subsman@localhost},{load_order,<span class="hljs-number"><span class="hljs-number">0</span></span>},{load_reason,{dumper,create_table}},{local_content,<span class="hljs-literal"><span class="hljs-literal">false</span></span>},{master_nodes,[]},{memory,<span class="hljs-number"><span class="hljs-number">288</span></span>},{ram_copies,[]},{record_name,subscription},{record_validation,{subscription,<span class="hljs-number"><span class="hljs-number">3</span></span>,bag}},{type,bag},{size,<span class="hljs-number"><span class="hljs-number">0</span></span>},{snmp,[]},{storage_type,disc_copies},{subscribers,[]},{user_properties,[]},{version,{{<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},[]}},{where_to_commit,[{subsman@localhost,disc_copies}]},{where_to_read,subsman@localhost},{where_to_write,[subsman@localhost]},{wild_pattern,{subscription,<span class="hljs-string"><span class="hljs-string">'_'</span></span>,<span class="hljs-string"><span class="hljs-string">'_'</span></span>}},{{index,<span class="hljs-number"><span class="hljs-number">3</span></span>},<span class="hljs-number"><span class="hljs-number">57378</span></span>}] {ok,&lt;<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">105.0</span></span>&gt;} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">4</span></span>&gt; rr(<span class="hljs-string"><span class="hljs-string">"subsmanager.erl"</span></span>). [state,subscription] (subsman@localhost)<span class="hljs-number"><span class="hljs-number">5</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>add_subscriptions([ <span class="hljs-comment"><span class="hljs-comment">#subscription{subscriber=alice, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)6&gt; subsmanager:add_subscriptions([ #subscription{subscriber=bob, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)7&gt; subsmanager:get_subscribers(rj). [bob,alice] (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)8&gt; subsmanager:remove_subscriptions([ #subscription{subscriber=bob, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)8&gt; subsmanager:get_subscribers(rj). [alice] (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)10&gt; subsmanager:get_subscribers(charlie). []</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ•´æ•°IDã‚’ä½¿ç”¨ã—ã¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åŒºåˆ¥ã—ã¾ã™ãŒã€ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ã‚¢ãƒˆãƒ ï¼ˆrjã€aliceã€bobï¼‰ã‚’ä½¿ç”¨ã—ã€aliceã¨bobã¯rjã®ãƒ•ãƒ¬ãƒ³ãƒ‰ã§ã‚ã‚‹ã¨æƒ³å®šã—ã¾ã—ãŸã€‚  mnesiaï¼ˆãŠã‚ˆã³ets / detsï¼‰ãŒä½¿ç”¨ã—ãŸã‚¿ã‚¤ãƒ—ã‚’æ°—ã«ã—ãªã„ã®ã¯ç´ æ™´ã‚‰ã—ã„ã“ã¨ã§ã™ã€‚Erlangã®ç”¨èªã¯ã™ã¹ã¦æœ‰åŠ¹ã§ã™ã€‚ ã“ã‚Œã¯ã€ã•ã¾ã–ã¾ãªã‚¿ã‚¤ãƒ—ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®æ›´æ–°ãŒé›£ã—ããªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’å¤‰æ›´ã™ã‚‹ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€ã¤ã¾ã‚Šrouterï¼šsendï¼ˆ123ã€â€œ Hello user 123â€ï¼‰ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚¢ãƒ‰ãƒ¬ã‚¹æŒ‡å®šã™ã‚‹ä»£ã‚ã‚Šã«ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ãŸäººï¼‰ã«ã€Œãƒãƒ¼ã‚¯ã€ã‚’ä»˜ã‘ã€ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸå„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ãƒ«ãƒ¼ã‚¿ãƒ¼ãŒã‚ã‚Šã¾ã™ã€‚ ã¤ã¾ã‚Šã€APIã¯æ¬¡ã®ã‚ˆã†ã«æ©Ÿèƒ½ã—ã¾ã™ã€‚routerï¼šsendï¼ˆ123ã€ã€Œã“ã‚“ã«ã¡ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼123ã«ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹å…¨å“¡ã€ï¼‰ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">-module(router). -behaviour(gen_server). -export([start_link/<span class="hljs-number"><span class="hljs-number">0</span></span>]). -export([init/<span class="hljs-number"><span class="hljs-number">1</span></span>, handle_call/<span class="hljs-number"><span class="hljs-number">3</span></span>, handle_cast/<span class="hljs-number"><span class="hljs-number">2</span></span>, handle_info/<span class="hljs-number"><span class="hljs-number">2</span></span>, terminate/<span class="hljs-number"><span class="hljs-number">2</span></span>, code_change/<span class="hljs-number"><span class="hljs-number">3</span></span>]). -export([send/<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">login</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span>, logout/<span class="hljs-number"><span class="hljs-number">1</span></span>]). -define(<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">global</span></span>:whereis_name(?MODULE)). % will hold bidirectional <span class="hljs-keyword"><span class="hljs-keyword">mapping</span></span> <span class="hljs-keyword"><span class="hljs-keyword">between</span></span> id &lt;â€“&gt; pid -<span class="hljs-type"><span class="hljs-type">record</span></span>(state, {pid2id, id2pid}). start_link() -&gt; gen_server:start_link({<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>, ?MODULE}, ?MODULE, [], []). % sends Msg <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> anyone subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Id send(Id, Msg) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {send, Id, Msg}). <span class="hljs-keyword"><span class="hljs-keyword">login</span></span>(Id, Pid) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {<span class="hljs-keyword"><span class="hljs-keyword">login</span></span>, Id, Pid}). logout(Pid) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {logout, Pid}). %% init([]) -&gt; % <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> this so we can catch death <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pids: process_flag(trap_exit, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>), % use ets <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> routing <span class="hljs-keyword"><span class="hljs-keyword">tables</span></span> {ok, #state{ pid2id = ets:<span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(?MODULE, [bag]), id2pid = ets:<span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(?MODULE, [bag]) } }. handle_call({<span class="hljs-keyword"><span class="hljs-keyword">login</span></span>, Id, Pid}, _From, State) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; ets:<span class="hljs-keyword"><span class="hljs-keyword">insert</span></span>(State#state.pid2id, {Pid, Id}), ets:<span class="hljs-keyword"><span class="hljs-keyword">insert</span></span>(State#state.id2pid, {Id, Pid}), link(Pid), % tell us <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> they <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>, so we can <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> them <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> %io:format("~w logged in as ~w\n",[Pid, Id]), {reply, ok, State}; handle_call({logout, Pid}, _From, State) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; unlink(Pid), PidRows = ets:lookup(State#state.pid2id, Pid), <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PidRows <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> [] -&gt; ok; _ -&gt; IdRows = [ {I,P} || {P,I} &lt;- PidRows ], % invert tuples ets:<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>(State#state.pid2id, Pid), % <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> pid-&gt;id entries [ ets:delete_object(State#state.id2pid, Obj) || Obj &lt;- IdRows ] % <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> id-&gt;pid <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, %io:format("pid ~w logged out\n",[Pid]), {reply, ok, State}; handle_call({send, Id, Msg}, <span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, State) -&gt; F = fun() -&gt; % <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> users who are subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Id: Users = subsmanager:get_subscribers(Id), io:format("Subscribers of ~w = ~w\n",[Id, Users]), % <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> pids <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> anyone <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Users list: Pids0 = lists:map( fun(U)-&gt; [ P || { _I, P } &lt;- ets:lookup(State#state.id2pid, U) ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, [ Id | Users ] % we are <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> ourselves ), Pids = lists:flatten(Pids0), io:format("Pids: ~w\n", [Pids]), % send Msg <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> them <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> M = {router_msg, Msg}, [ Pid ! M || Pid &lt;- Pids ], % respond <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> how many users saw the message gen_server:reply(<span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, {ok, length(Pids)}) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, spawn(F), {noreply, State}. % handle death <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> cleanup <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> processes handle_info(<span class="hljs-keyword"><span class="hljs-keyword">Info</span></span>, State) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> {<span class="hljs-string"><span class="hljs-string">'EXIT'</span></span>, Pid, _Why} -&gt; handle_call({logout, Pid}, blah, State); Wtf -&gt; io:format("Caught unhandled message: ~w\n", [Wtf]) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, {noreply, State}. handle_cast(_Msg, State) -&gt; {noreply, State}. terminate(_Reason, _State) -&gt; ok. code_change(_OldVsn, State, _Extra) -&gt; {ok, State}.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¡ã‚‡ã£ã¨ã—ãŸãƒ†ã‚¹ãƒˆ-idã§ã¯ãªãatomã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs mel">(subsman@localhost)<span class="hljs-number"><span class="hljs-number">1</span></span>&gt; c(subsmanager), c(router), rr(<span class="hljs-string"><span class="hljs-string">"subsmanager.erl"</span></span>). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">2</span></span>&gt; subsmanager:start_link(). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">3</span></span>&gt; router:start_link(). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">4</span></span>&gt; Subs = [#subscription{subscriber=alice, subscribee=rj}, #subscription{subscriber=bob, subscribee=rj}]. [#subscription{subscriber = alice,subscribee = rj}, #subscription{subscriber = bob,subscribee = rj}] (subsman@localhost)<span class="hljs-number"><span class="hljs-number">5</span></span>&gt; subsmanager:add_subscriptions(Subs). ok (subsman@localhost)<span class="hljs-number"><span class="hljs-number">6</span></span>&gt; router:send(rj, <span class="hljs-string"><span class="hljs-string">"RJ did something"</span></span>). Subscribers of rj = [bob,alice] Pids: [] {ok,<span class="hljs-number"><span class="hljs-number">0</span></span>} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">7</span></span>&gt; router:login(alice, self()). ok (subsman@localhost)<span class="hljs-number"><span class="hljs-number">8</span></span>&gt; router:send(rj, <span class="hljs-string"><span class="hljs-string">"RJ did something"</span></span>). Subscribers of rj = [bob,alice] Pids: [&lt;<span class="hljs-number"><span class="hljs-number">0.46</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>&gt;] {ok,<span class="hljs-number"><span class="hljs-number">1</span></span>} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">9</span></span>&gt; receive {router_msg, M} -&gt; io:<span class="hljs-keyword"><span class="hljs-keyword">format</span></span>(<span class="hljs-string"><span class="hljs-string">"~s\n"</span></span>,[M]) end. RJ did something ok</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚¢ãƒªã‚¹ãŒç›´æ¥ã‚¢ãƒªã‚¹ã«é€ä¿¡ã•ã‚Œã¦ã„ãªãã¦ã‚‚ã€ã‚µãƒ–ã‚¹ã‚¯ãƒ©ã‚¤ãƒ–ã—ã¦ã„ã‚‹ç›¸æ‰‹ãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ã¨ã€ã‚¢ãƒªã‚¹ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å—ä¿¡ã§ãã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ çµè«–ã¯ã€ãƒ«ãƒ¼ã‚¿ãŒå¯èƒ½ãªã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’[aliceã€bob]ã¨ã—ã¦è­˜åˆ¥ã—ãŸãŒã€bobãŒè¨±å¯ã•ã‚Œãªã‹ã£ãŸãŸã‚ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1äººã®aliceã«æ¸¡ã—ãŸã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ç°¡å˜ãªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ç”Ÿæˆ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     å¤šãã®é–¢ä¿‚ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã§ãã¾ã™ãŒã€ã“ã‚Œã¯ç‰¹ã«ç¾å®Ÿçš„ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã¯é€šå¸¸ã€ã„ãã¤ã‹ã®è¶…äººæ°—ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆä¸€éƒ¨ã®Twitterãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯100,000äººä»¥ä¸Šã®ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ãŒã„ã¾ã™ï¼‰ã¨ã€å°‘æ•°ã®å‹äººã—ã‹ã„ãªã„å¤šãã®äººã€…ãŒã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç”Ÿæˆã™ã‚‹ãŸã‚ã«ã€å„ªã‚ŒãŸigraphãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Pythonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> igraph g = igraph.Graph.Barabasi(<span class="hljs-number"><span class="hljs-number">1000000</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, directed=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Edges: "</span></span> + str(g.ecount()) + <span class="hljs-string"><span class="hljs-string">" Verticies: "</span></span> + str(g.vcount()) g.write_edgelist(<span class="hljs-string"><span class="hljs-string">"fakefriends.txt"</span></span>)</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Mnesiaã¸ã®ãƒ‡ãƒ¼ã‚¿ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®å°ã•ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯fakefriends.txtãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚Šã€ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">-module(readfriends). -export([<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>]). -<span class="hljs-type"><span class="hljs-type">record</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, {subscriber, subscribee}). <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(Filename) -&gt; for_each_line_in_file(Filename, fun(<span class="hljs-type"><span class="hljs-type">Line</span></span>, Acc) -&gt; [<span class="hljs-keyword"><span class="hljs-keyword">As</span></span>, Bs] = string:tokens(string:strip(<span class="hljs-type"><span class="hljs-type">Line</span></span>, right, $\n), " "), {A, _} = string:to_integer(<span class="hljs-keyword"><span class="hljs-keyword">As</span></span>), {B, _} = string:to_integer(Bs), [ #<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=A, subscribee=B} | Acc ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>], []). % via: http://www.trapexit.org/Reading_Lines_from_a_File for_each_line_in_file(<span class="hljs-type"><span class="hljs-type">Name</span></span>, Proc, Mode, Accum0) -&gt; {ok, Device} = file:<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>(<span class="hljs-type"><span class="hljs-type">Name</span></span>, Mode), for_each_line(Device, Proc, Accum0). for_each_line(Device, Proc, Accum) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> io:get_line(Device, "") <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> eof -&gt; file:<span class="hljs-keyword"><span class="hljs-keyword">close</span></span>(Device), Accum; <span class="hljs-type"><span class="hljs-type">Line</span></span> -&gt; NewAccum = Proc(<span class="hljs-type"><span class="hljs-type">Line</span></span>, Accum), for_each_line(Device, Proc, NewAccum) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã‚Œã§ã€subsmanagerã‚·ã‚§ãƒ«ã§ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰èª­ã¿å–ã‚Šã€ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift">$ erl -name router@minifeeds4.gs2 +<span class="hljs-type"><span class="hljs-type">K</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> +<span class="hljs-type"><span class="hljs-type">A</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> -setcookie secretcookie -mnesia dump_log_write_threshold <span class="hljs-number"><span class="hljs-number">50000</span></span> -mnesia dc_dump_limit <span class="hljs-number"><span class="hljs-number">40</span></span> erl&gt; <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(readfriends), <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(subsmanager). erl&gt; subsmanager:first_run(). erl&gt; subsmanager:start_link(). erl&gt; subsmanager:add_subscriptions( readfriends:load(<span class="hljs-string"><span class="hljs-string">"fakefriends.txt"</span></span>) ).</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     è¿½åŠ ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã«æ³¨æ„ã—ã¦ãã ã•ã„-ã€Œ**è­¦å‘Š** Mnesia is overloadedã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å›é¿ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚  Mnesiaã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã€ä»–ã«ã‚‚å¤šãã®æ³¨ç›®ã™ã¹ãè¨­å®šãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1,000,000 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1ã¤ã®ãƒ›ã‚¹ãƒˆã‹ã‚‰100ä¸‡tcpæ¥ç¶šã‚’ä½œæˆã™ã‚‹ã®ã¯ç°¡å˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ å¤šæ•°ã®åŒ–åˆç‰©ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹ãŸã‚ã«å°‚ç”¨ã®å°ã•ãªã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã§å®šæœŸçš„ã«ã“ã‚Œã‚’è¡Œã†äººã¯ã€ãŠãã‚‰ãTsungã®ã‚ˆã†ãªå®Ÿéš›ã®ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ ãƒ‘ãƒ¼ãƒˆ1ã®æ§‹æˆã‚’ä½¿ç”¨ã—ã¦ã‚‚ã€ãƒãƒ¼ãƒ‰ãƒãƒ¼ãƒˆã®åˆ¶é™ãŒç™ºç”Ÿã—ã¾ã™ã€‚  TCPæ¥ç¶šã‚’ä½œæˆã™ã‚‹ã¨ãã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒãƒ¼ãƒˆã¯/ proc / sys / net / ipv4 / ip_local_port_rangeã®ç¯„å›²ã‹ã‚‰å‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¾ã™ã€‚ æ‰‹å‹•ã§è¨­å®šã™ã‚‹ã‹ã€è‡ªå‹•ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã‹ã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚ ãƒ‘ãƒ¼ãƒˆ1ã§ã¯ã€ç¯„å›²ã‚’ã€Œ1024 65535ã€ã«è¨­å®šã—ã¾ã—ãŸã€‚  65535-1024 = 64511ã®éç‰¹æ¨©ã®åˆ©ç”¨å¯èƒ½ãªãƒãƒ¼ãƒˆãŒã‚ã‚Šã¾ã™ã€‚ ãã‚Œã‚‰ã®ä¸€éƒ¨ã¯ä»–ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ä½¿ç”¨ã•ã‚Œã¾ã™ãŒã€ãƒãƒ¼ãƒˆãŒä¸è¶³ã™ã‚‹ãŸã‚ã€64511ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’è¶…ãˆã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ãƒˆç¯„å›²ã¯IPã«æ¥ç¶šã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ã•ã¾ã–ã¾ãªãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ç™ºä¿¡æ¥ç¶šã‚’è¡Œã†ã¨ã€64511ã‚’è¶…ãˆã‚‹ç™ºä¿¡æ¥ç¶šã‚’é–‹ãã“ã¨ãŒã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      17å€‹ã®æ–°ã—ã„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½œæˆã—ã¦ã€ãã‚Œãã‚Œã‹ã‚‰62,000ã®æ¥ç¶šã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€åˆè¨ˆ1,054,000ã®æ¥ç¶šãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs bash">$ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `seq 1 17`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> sudo ifconfig eth0:<span class="hljs-variable"><span class="hljs-variable">$i</span></span> 10.0.0.<span class="hljs-variable"><span class="hljs-variable">$i</span></span> up ; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã“ã§ifconfigã‚’ç¢ºèªã™ã‚‹ã¨ã€ä»®æƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼šeth0ï¼š1ã€eth0ï¼š2 ... eth0ï¼š17ã€ãã‚Œãã‚Œç•°ãªã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ä»Šæ®‹ã£ã¦ã„ã‚‹ã®ã¯ã€ãƒ‘ãƒ¼ãƒˆ1ã®ãƒ•ãƒ©ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆã‚’å¤‰æ›´ã—ã¦ãƒ­ãƒ¼ã‚«ãƒ«IPã‚’é¸æŠã™ã‚‹ã“ã¨ã ã‘ã§ã™ã€‚ æ®‹å¿µãªãŒã‚‰ã€erlang httpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯ã€ã‚½ãƒ¼ã‚¹IPã‚’ç‰¹å®šã§ãã¾ã›ã‚“ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>ã“ã®æ™‚ç‚¹ã§ã€åˆ¥ã®å¯èƒ½æ€§ã‚’æ¤œè¨ã—ã¦ã„ã¾ã—ãŸã€‚17ã®IPãƒšã‚¢ï¼ˆã‚µãƒ¼ãƒãƒ¼ä¸Šã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸Šï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã™ã€‚å„ãƒšã‚¢ã¯ç‹¬è‡ªã®éš”é›¢ã•ã‚ŒãŸ/ 30ã‚µãƒ–ãƒãƒƒãƒˆã«ã‚ã‚Šã¾ã™ã€‚</i>  <i>ãã®å¾Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä»»æ„ã®IPã‚µãƒ¼ãƒãƒ¼ã¸ã®æ¥ç¶šã‚’å¼·åˆ¶ã™ã‚‹ã¨ã€ãƒ­ãƒ¼ã‚«ãƒ«IPã®1ã¤ã ã‘ãŒå®Ÿéš›ã«ã“ã®ã‚µãƒ–ãƒãƒƒãƒˆä¸Šã®IPã‚µãƒ¼ãƒãƒ¼ã«åˆ°é”ã§ãã‚‹ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒ2ç•ªç›®ã®ãƒšã‚¢ã«ãªã‚Šã¾ã™ã€‚</i>  <i>ç†è«–çš„ã«ã¯ã€ã“ã‚Œã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒã‚·ãƒ³ä¸Šã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚½ãƒ¼ã‚¹IPã¯ä¸è¦ã§ã‚ã‚‹ã“ã¨ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ï¼ˆãŸã ã—ã€ã‚µãƒ¼ãƒãƒ¼ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ç¯„å›²ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼‰ã€‚</i>  <i>ã“ã‚ŒãŒæ©Ÿèƒ½ã™ã‚‹ã‹ã©ã†ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“-å½“æ™‚ã¯ãã†ã ã£ãŸã‚ˆã†ã§ã™ã€‚</i>  <i>çµå±€ã€ç§ã¯ã“ã‚ŒãŒã‚ã¾ã‚Šã«ã‚‚ã²ã©ã™ãã‚‹ã¨æ±ºã‚ãŸã€‚</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      gen_tcpã§ã¯é€ä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã§ãã‚‹ãŸã‚ã€æœ€çµ‚çš„ã«ã¯rawã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs kotlin">-module(floodtest2). -compile(export_all). -define(SERVERADDR, <span class="hljs-string"><span class="hljs-string">"10.1.2.3"</span></span>). % <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> mochiweb <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> running -define(SERVERPORT, <span class="hljs-number"><span class="hljs-number">8000</span></span>). % Generate the config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> bash like so (chose some available address space): % EACH=<span class="hljs-number"><span class="hljs-number">62000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `seq <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo <span class="hljs-string"><span class="hljs-string">"{{10,0,0,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">}, $(((</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">-1)*</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$EACH</span></span></span><span class="hljs-string">+1)), $((</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">*</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$EACH</span></span></span><span class="hljs-string">))}, "</span></span>; done run(Interval) -&gt; Config = [ {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">62000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}, <span class="hljs-number"><span class="hljs-number">62001</span></span>, <span class="hljs-number"><span class="hljs-number">124000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>}, <span class="hljs-number"><span class="hljs-number">124001</span></span>, <span class="hljs-number"><span class="hljs-number">186000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>}, <span class="hljs-number"><span class="hljs-number">186001</span></span>, <span class="hljs-number"><span class="hljs-number">248000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>}, <span class="hljs-number"><span class="hljs-number">248001</span></span>, <span class="hljs-number"><span class="hljs-number">310000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>}, <span class="hljs-number"><span class="hljs-number">310001</span></span>, <span class="hljs-number"><span class="hljs-number">372000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>}, <span class="hljs-number"><span class="hljs-number">372001</span></span>, <span class="hljs-number"><span class="hljs-number">434000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>}, <span class="hljs-number"><span class="hljs-number">434001</span></span>, <span class="hljs-number"><span class="hljs-number">496000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>}, <span class="hljs-number"><span class="hljs-number">496001</span></span>, <span class="hljs-number"><span class="hljs-number">558000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>}, <span class="hljs-number"><span class="hljs-number">558001</span></span>, <span class="hljs-number"><span class="hljs-number">620000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>}, <span class="hljs-number"><span class="hljs-number">620001</span></span>, <span class="hljs-number"><span class="hljs-number">682000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>}, <span class="hljs-number"><span class="hljs-number">682001</span></span>, <span class="hljs-number"><span class="hljs-number">744000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>}, <span class="hljs-number"><span class="hljs-number">744001</span></span>, <span class="hljs-number"><span class="hljs-number">806000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>}, <span class="hljs-number"><span class="hljs-number">806001</span></span>, <span class="hljs-number"><span class="hljs-number">868000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>}, <span class="hljs-number"><span class="hljs-number">868001</span></span>, <span class="hljs-number"><span class="hljs-number">930000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>}, <span class="hljs-number"><span class="hljs-number">930001</span></span>, <span class="hljs-number"><span class="hljs-number">992000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>}, <span class="hljs-number"><span class="hljs-number">992001</span></span>, <span class="hljs-number"><span class="hljs-number">1054000</span></span>}], start(Config, Interval). start(Config, Interval) -&gt; Monitor = monitor(), AdjustedInterval = Interval / length(Config), [ spawn(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> start/5, [Lower, Upper, Ip, AdjustedInterval, Monitor]) || {Ip, Lower, Upper} </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;- Config ], ok. start(LowerID, UpperID, _, _, _) when LowerID == UpperID -&gt;</span></span></span><span class="hljs-function"> done; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LowerID, UpperID, LocalIP, Interval, Monitor)</span></span></span></span> -&gt; spawn(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> connect/5, [?SERVERADDR, ?SERVERPORT, LocalIP, "/test/"++LowerID, Monitor]), receive after Interval -&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LowerID + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, UpperID, LocalIP, Interval, Monitor)</span></span></span></span> end. connect(ServerAddr, ServerPort, ClientIP, Path, Monitor) -&gt; Opts = [binary, {packet, <span class="hljs-number"><span class="hljs-number">0</span></span>}, {ip, ClientIP}, {reuseaddr, <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, {active, <span class="hljs-literal"><span class="hljs-literal">false</span></span>}], {ok, Sock} = gen_tcp:connect(ServerAddr, ServerPort, Opts), Monitor ! <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>, ReqL = io_lib:format(<span class="hljs-string"><span class="hljs-string">"GET ~s\r\nHost: ~s\r\n\r\n"</span></span>, [Path, ServerAddr]), Req = list_to_binary(ReqL), ok = gen_tcp:send(Sock, [Req]), do_recv(Sock, Monitor), (<span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> gen_tcp:close(Sock)), ok. do_recv(Sock, Monitor)-&gt; case gen_tcp:recv(Sock, <span class="hljs-number"><span class="hljs-number">0</span></span>) of {ok, B} -&gt; Monitor ! {bytes, size(B)}, io:format(<span class="hljs-string"><span class="hljs-string">"Recvd ~s\n"</span></span>, [ binary_to_list(B)]), io:format(<span class="hljs-string"><span class="hljs-string">"Recvd ~w bytes\n"</span></span>, [size(B)]), do_recv(Sock, Monitor); {error, closed} -&gt; Monitor ! closed, closed; Other -&gt; Monitor ! closed, io:format(<span class="hljs-string"><span class="hljs-string">"Other:~w\n"</span></span>,[Other]) end. % Monitor process receives stats and reports how much <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> we received etc: monitor() -&gt; Pid = spawn(?MODULE, monitor0, [{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}]), timer:send_interval(<span class="hljs-number"><span class="hljs-number">10000</span></span>, Pid, report), Pid. monitor0({Open, Closed, Chunks, Bytes}=S) -&gt; receive report -&gt; io:format(<span class="hljs-string"><span class="hljs-string">"{Open, Closed, Chunks, Bytes} = ~w\n"</span></span>,[S]); <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> -&gt; monitor0({Open + <span class="hljs-number"><span class="hljs-number">1</span></span>, Closed, Chunks, Bytes}); closed -&gt; monitor0({Open, Closed + <span class="hljs-number"><span class="hljs-number">1</span></span>, Chunks, Bytes}); chunk -&gt; monitor0({Open, Closed, Chunks + <span class="hljs-number"><span class="hljs-number">1</span></span>, Bytes}); {bytes, B} -&gt; monitor0({Open, Closed, Chunks, Bytes + B}) end.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æœ€åˆã«ã€ãƒ‘ãƒ¼ãƒˆ1ã‹ã‚‰mochiwebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«æ¥ç¶šã—ã¾ã—ãŸ-10ç§’ã”ã¨ã«1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«é€ä¿¡ã™ã‚‹ã ã‘ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift">erl&gt; <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(floodtest2), floodtest2:run(<span class="hljs-number"><span class="hljs-number">20</span></span>).</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ãã‚Œã¯ã™ãã«ç§ã®ã™ã¹ã¦ã®è¨˜æ†¶ã‚’é£Ÿã¹ã¾ã—ãŸ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      gen_tcpã§å¤šæ•°ã®æ¥ç¶šã‚’é–‹ãã¨ã€å¤§é‡ã®ãƒ¡ãƒ¢ãƒªãŒå‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚ ã“ã‚Œã‚’æ©Ÿèƒ½ã•ã›ã‚‹ã«ã¯ã€œ36GBã‹ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚ ç§ã¯è‡ªåˆ†ã®erlang httpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æœ€é©åŒ–ã™ã‚‹ã“ã¨ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚32GBä»¥ä¸Šã®ãƒ¡ãƒ¢ãƒªã‚’æ­è¼‰ã§ãã‚‹ãƒã‚·ãƒ³ã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®1ã¤ã ã‘ã§ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®æ™‚ç‚¹ã§ã€HTTP APIã‚’å‚™ãˆãŸè©¦è¡Œæ¸ˆã¿ã®libeventã‚’æ€ã„å‡ºã™ã“ã¨ã«ã—ã¾ã—ãŸã€‚ æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¯ã€http APIã®evhttp_connection_set_local_addressé–¢æ•°ã‚‚ã‚ã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      libeventã‚’ä½¿ç”¨ã™ã‚‹C httpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lua">#include &lt;sys/types.h&gt; #include &lt;sys/<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;sys/queue.h&gt; #include &lt;stdlib.h&gt; #include &lt;err.h&gt; #include &lt;event.h&gt; #include &lt;evhttp.h&gt; #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; #include &lt;sys/socket.h&gt; #include &lt;netinet/<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.h&gt; #include &lt;<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;pthread.h&gt; #define BUFSIZE <span class="hljs-number"><span class="hljs-number">4096</span></span> #define NUMCONNS <span class="hljs-number"><span class="hljs-number">62000</span></span> #define SERVERADDR <span class="hljs-string"><span class="hljs-string">"10.103.1.43"</span></span> #define SERVERPORT <span class="hljs-number"><span class="hljs-number">8000</span></span> #define SLEEP_MS <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> buf[BUFSIZE]; int bytes_recvd = <span class="hljs-number"><span class="hljs-number">0</span></span>; int chunks_recvd = <span class="hljs-number"><span class="hljs-number">0</span></span>; int closed = <span class="hljs-number"><span class="hljs-number">0</span></span>; int connected = <span class="hljs-number"><span class="hljs-number">0</span></span>; // called per chunk received void chunkcb(struct evhttp_request * req, void * <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { int s = evbuffer_remove( req-&gt;input_buffer, &amp;buf, BUFSIZE ); //printf(<span class="hljs-string"><span class="hljs-string">"Read %d bytes: %s\n"</span></span>, s, &amp;buf); bytes_recvd += s; chunks_recvd++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(connected &gt;= NUMCONNS &amp;&amp; chunks_recvd%<span class="hljs-number"><span class="hljs-number">10000</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>) printf(<span class="hljs-string"><span class="hljs-string">"&gt;Chunks: %d\tBytes: %d\tClosed: %d\n"</span></span>, chunks_recvd, bytes_recvd, closed); } // gets called when request completes void reqcb(struct evhttp_request * req, void * <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { closed++; } int main(int argc, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> **argv) { event_init(); struct evhttp *evhttp_connection; struct evhttp_request *evhttp_request; <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> addr[<span class="hljs-number"><span class="hljs-number">16</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>[<span class="hljs-number"><span class="hljs-number">32</span></span>]; // eg: <span class="hljs-string"><span class="hljs-string">"/test/123"</span></span> int i,octet; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(octet=<span class="hljs-number"><span class="hljs-number">1</span></span>; octet&lt;=<span class="hljs-number"><span class="hljs-number">17</span></span>; octet++){ sprintf(&amp;addr, <span class="hljs-string"><span class="hljs-string">"10.224.0.%d"</span></span>, octet); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">1</span></span>;i&lt;=NUMCONNS;i++) { evhttp_connection = evhttp_connection_new(SERVERADDR, SERVERPORT); evhttp_connection_set_local_address(evhttp_connection, &amp;addr); evhttp_set_timeout(evhttp_connection, <span class="hljs-number"><span class="hljs-number">864000</span></span>); // <span class="hljs-number"><span class="hljs-number">10</span></span> day timeout evhttp_request = evhttp_request_new(reqcb, NULL); evhttp_request-&gt;chunk_cb = chunkcb; sprintf(&amp;<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>, <span class="hljs-string"><span class="hljs-string">"/test/%d"</span></span>, ++connected); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i%<span class="hljs-number"><span class="hljs-number">100</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>) printf(<span class="hljs-string"><span class="hljs-string">"Req: %s\t-&gt;\t%s\n"</span></span>, addr, &amp;<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>); evhttp_make_request( evhttp_connection, evhttp_request, EVHTTP_REQ_GET, <span class="hljs-built_in"><span class="hljs-built_in">path</span></span> ); evhttp_connection_set_timeout(evhttp_request-&gt;evcon, <span class="hljs-number"><span class="hljs-number">864000</span></span>); event_loop( EVLOOP_NONBLOCK ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( connected % <span class="hljs-number"><span class="hljs-number">200</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> ) printf(<span class="hljs-string"><span class="hljs-string">"\nChunks: %d\tBytes: %d\tClosed: %d\n"</span></span>, chunks_recvd, bytes_recvd, closed); usleep(SLEEP_MS*<span class="hljs-number"><span class="hljs-number">1000</span></span>); } } event_dispatch(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã»ã¨ã‚“ã©ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯#defineã¨ã—ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ç·¨é›†ã—ã¦å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§ãã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ gcc -o httpclient httpclient.c -levent $ ./httpclient</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  64,500ã‚’è¶…ãˆã‚‹ãƒãƒ¼ãƒˆã‚’é–‹ãã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      64,500ä»¥ä¸Šã®æ¥ç¶šã‚’é–‹ãã«ã¯ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ãƒˆã‚’è‡ªåˆ†ã§æ±ºå®šã—ã€ãã‚Œã«å¿œã˜ã¦ç®¡ç†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ®‹å¿µãªãŒã‚‰ã€libevent HTTP APIã«ã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚  libeventã‚’ä¿®æ­£ã—ã¦ã€æ¬¡ã®ã‚ˆã†ãªé–¢æ•°ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evhttp_connection_set_local_port</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">struct</span></span></span></span><span class="hljs-function"><span class="hljs-params"> evhttp_connection *evcon, u_short port</span></span></span><span class="hljs-function">)</span></span>;.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãã‚Œã¯é©šãã»ã©æ¥½ã—ã„çµŒé¨“ã§ã—ãŸã€‚libeventã¯ã‚ˆãæ›¸ã‹ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã¾ã¨ã‚‚ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®å¤‰æ›´ã•ã‚ŒãŸlibeventã‚’ä½¿ç”¨ã—ã¦ã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã«ä»¥ä¸‹ã‚’è¿½åŠ ã§ãã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lisp">evhttp_connection_set_local_port(<span class="hljs-name"><span class="hljs-name">evhttp_connection</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>+i)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç•°ãªã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹ã‹ã‚‰ã®è¤‡æ•°ã®æ¥ç¶šãŒã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å®šç¾©ã•ã‚ŒãŸåŒã˜ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ãƒˆç•ªå·ã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã€ã—ã°ã‚‰ãå‹•ä½œã•ã›ã¦ã€ãƒãƒªã‚¢ã‚’é€šéã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Netstatã¯ã“ã‚Œã‚’ç¢ºèªã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift"># netstat -n | awk '/^tcp/ {t[$<span class="hljs-type"><span class="hljs-type">NF</span></span>]++}<span class="hljs-type"><span class="hljs-type">END</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(state <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> t){<span class="hljs-built_in"><span class="hljs-built_in">print</span></span> state, t[state]}}' <span class="hljs-type"><span class="hljs-type">TIME_WAIT</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">ESTABLISHED</span></span> <span class="hljs-number"><span class="hljs-number">118222</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã‚Œã¯ã€ã•ã¾ã–ã¾ãªçŠ¶æ…‹ã§é–‹ã„ã¦ã„ã‚‹ãƒãƒ¼ãƒˆã®æ•°ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ æœ€çµ‚çš„ã«2 ^ 16ã‚’è¶…ãˆã‚‹æ¥ç¶šã‚’é–‹ãã“ã¨ãŒã§ãã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã‚Œã§ã€1å°ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰100ä¸‡ã®httpæ¥ç¶šã‚’é–‹ãã“ã¨ãŒã§ãã‚‹ãƒ„ãƒ¼ãƒ«ãŒã§ãã¾ã—ãŸã€‚ å„æ¥ç¶šã«ç´„2 KBã‚’ä½¿ç”¨ã—ã€ã•ã‚‰ã«ã‚«ãƒ¼ãƒãƒ«ãŒå æœ‰ã—ã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚  mochiwebã‚µãƒ¼ãƒãƒ¼ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  C1024K </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã“ã®ãƒ†ã‚¹ãƒˆã§ã¯ã€4ã¤ã®ç•°ãªã‚‹ã‚µãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚ ã“ã®ãƒ†ã‚¹ãƒˆã¨ä»¥å‰ã®ãƒ†ã‚¹ãƒˆã®ä¸»ãªé•ã„ã¯ã€Cã§è¨˜è¿°ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®å¤‰æ›´ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚µãƒ¼ãƒãƒ¼1-ã‚¯ã‚¢ãƒƒãƒ‰ã‚³ã‚¢2GHz CPUã€16GBã®RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ã‚µãƒ–ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã®èµ·å‹• 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ãƒ«ãƒ¼ã‚¿ãƒ¼ã®èµ·å‹• 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚µãƒ¼ãƒãƒ¼2-ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚¯ã‚¢ãƒƒãƒ‰ã‚³ã‚¢2.8GHz CPUã€32GBã®RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢Mochiwebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’èµ·å‹•ã™ã‚‹ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚µãƒ¼ãƒãƒ¼3-ã‚¯ã‚¢ãƒƒãƒ‰ã‚³ã‚¢2GHz CPUã€16GBã®RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢17å€‹ã®ä»®æƒ³IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®ä½œæˆ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢libeventã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®èµ·å‹•ï¼š./httpclientï¼ˆ1ç§’ã‚ãŸã‚Š100æ¥ç¶šï¼‰ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã‚µãƒ¼ãƒãƒ¼4-ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚³ã‚¢2GHzã€2GB RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      â€¢msggenã‚’å®Ÿè¡Œã—ã¦å¤§é‡ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã™ã‚‹ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¥ç¶šã‚’é–‹ã„ã¦ã„ã‚‹ã¨ãã¨ã—ã°ã‚‰ãã®é–“ã®ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/99/0a/990adb2b0b14d2c533856b20c5076859.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      HttpClientã«ã¯ã€æ¥ç¶šé–“ã«10ãƒŸãƒªç§’ã®é…å»¶ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€100ä¸‡ã®æ¥ç¶šã‚’é–‹ãã®ã«ç´„3æ™‚é–“ã‹ã‹ã‚Šã¾ã—ãŸã€‚ ç´„25GBã®ãƒ¡ãƒ¢ãƒªãŒå¿…è¦ã§ã—ãŸã€‚  Gangliaã‹ã‚‰è¦‹ã‚‹ã¨ã€ç§ã®ã‚µãƒ¼ãƒãƒ¼ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/18/9e/189ee7454e725aad11900dca00e9fa9a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ç´„38GBã‚’è¦ã—ã€ã‚¹ãƒ¯ãƒƒãƒ”ãƒ³ã‚°ãŒé–‹å§‹ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ é•ã„ã¯ä¸»ã«ã‚³ã‚¢æ¶ˆè²»ã«ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯1000ãƒ—ãƒ­ã‚»ã‚¹ã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é–“ã®å¹³å‡æ™‚é–“ã¯ãƒ—ãƒ­ã‚»ã‚¹ã”ã¨ã«ç´„60ãƒŸãƒªç§’ã§ã€1ç§’ã‚ãŸã‚Šç´„16666ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æä¾›ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs perl">erl&gt; [ spawn( fun()-&gt;msggen:start(<span class="hljs-number"><span class="hljs-number">1000000</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>+random:uniform(<span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-number"><span class="hljs-number">1000000</span></span>) end) || I &lt;- lists:se<span class="hljs-string"><span class="hljs-string">q(1,1000)</span></span> ].</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Gangliaã®ã‚µãƒ¼ãƒãƒ¼4ï¼š 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/05/a6/05a6ca691576b310ff886ae946e7995b.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1ç§’ã‚ãŸã‚Šç´„10 MB-16.666ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡ã‚’é–‹å§‹ã—ãŸã¨ãã€æœ€åˆã®ã‚µãƒ¼ãƒãƒ¼ã®è² è·ã¯ä½ã„ã¾ã¾ã§ã—ãŸã€‚  2ç•ªç›®ã®ã‚µãƒ¼ãƒãƒ¼ã®CPUæ¶ˆè²»ãŒå¢—åŠ ã—ã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/9b/4e/9b4e632241b3342804a43e92156878af.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     å½“ç„¶ã€ãªãœãªã‚‰ ãƒ—ãƒ­ã‚»ã‚¹ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã«hibernateï¼ˆï¼‰ã‚’çµ‚äº†ã—ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒã‚ãšã‹ã«å¢—åŠ ã—ã¾ã™ã€‚ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãªã—ã§ã™ã¹ã¦ã®æ¥ç¶šã‚’é–‹ã„ã¦ãŠãã¨ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ãŒæœ€é©ã«ãªã‚Šã¾ã™ã€‚ å½“ç„¶ã®ã“ã¨ãªãŒã‚‰ã€ã©ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§ã‚‚ã‚ˆã‚Šå¤šãã®ãƒ¡ãƒ¢ãƒªãŒå¿…è¦ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã§ã¯ã€ãƒ¡ãƒ¢ãƒªã¯ã©ã“ã«æµã‚Œã¾ã™ã‹ï¼Ÿ  Mochiwebã§ã¯ã€1,000,000ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªæ¥ç¶šã‚’é–‹ã„ãŸã¾ã¾ã«ã™ã‚‹ãŸã‚ã«40 GBã®RAMãŒå¿…è¦ã§ã™ã€‚ è² è·ãŒã‹ã‹ã‚‹ã¨ã€mochiwebã¯æœ€å¤§30GBã®ãƒ¡ãƒ¢ãƒªã‚’ä½¿ç”¨ã—ã€æ®‹ã‚Šã®10GBã¯ã‚³ã‚¢ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ ã¤ã¾ã‚Šã€æ¥ç¶šã”ã¨ã«ç´„40KbãŒå¿…è¦ã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     å¤šæ•°ã®æ¥ç¶šãŒã‚ã‚‹ã•ã¾ã–ã¾ãªãƒ†ã‚¹ãƒˆã§ã€sysctl.confã«ã„ãã¤ã‹ã®è¿½åŠ å¤‰æ›´ã‚’åŠ ãˆã¾ã—ãŸã€‚ ç§ã¯è©¦è¡ŒéŒ¯èª¤ã‚’ç¹°ã‚Šè¿”ã—ã¦ã“ã®å•é¡Œã«å–ã‚Šçµ„ã¿ã¾ã—ãŸãŒã€ã©ã®ã‚ˆã†ãªå€¤ã‚’å¤‰æ›´ã™ã¹ãã‹ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚ ç§ã®ãƒãƒªã‚·ãƒ¼ã¯ã€/ var / log / kern.logã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ã€ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªã‚¨ãƒ©ãƒ¼ãŒç§ã«ä¼ãˆã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã‚¨ãƒ©ãƒ¼ã‚’å¾…ã¤ã“ã¨ã§ã—ãŸã€‚ è¨­å®šã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.rmem_max = <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.wmem_max = <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_rmem = <span class="hljs-number"><span class="hljs-number">4096</span></span> <span class="hljs-number"><span class="hljs-number">16384</span></span> <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_wmem = <span class="hljs-number"><span class="hljs-number">4096</span></span> <span class="hljs-number"><span class="hljs-number">16384</span></span> <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_mem = <span class="hljs-number"><span class="hljs-number">786432</span></span> <span class="hljs-number"><span class="hljs-number">1048576</span></span> <span class="hljs-number"><span class="hljs-number">26777216</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_max_tw_buckets = <span class="hljs-number"><span class="hljs-number">360000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.netdev_max_backlog = <span class="hljs-number"><span class="hljs-number">2500</span></span> vm.min_free_kbytes = <span class="hljs-number"><span class="hljs-number">65536</span></span> vm.swappiness = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.ip_local_port_range = <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">65535</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
            TCP Linux,     .  ,     ,    ,   ,   1 000 000 . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Erlang  Libevent </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
        HTTP API  libevent,         libevent HTTPd,   C. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
              erlang,       C â€”   HTTP . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     Libevent   HTTP API,    HTTP  .    ,      Erlang.   HTTP   libevent,       Id (  mochiweb ),     Erlang -. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
         Erlang ,    {123, &lt;&lt;Â«Hello user 123Â»&gt;&gt;},  â€œHello user 123â€³   123,   .   ,    ,   . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lua">#include &lt;sys/types.h&gt; #include &lt;sys/<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;sys/queue.h&gt; #include &lt;stdlib.h&gt; #include &lt;err.h&gt; #include &lt;event.h&gt; #include &lt;evhttp.h&gt; #include &lt;stdio.h&gt; #include &lt;sys/socket.h&gt; #include &lt;netinet/<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.h&gt; #include <span class="hljs-string"><span class="hljs-string">"erl_interface.h"</span></span> #include <span class="hljs-string"><span class="hljs-string">"ei.h"</span></span> #include &lt;pthread.h&gt; #define BUFSIZE <span class="hljs-number"><span class="hljs-number">1024</span></span> #define MAXUSERS (<span class="hljs-number"><span class="hljs-number">17</span></span>*<span class="hljs-number"><span class="hljs-number">65536</span></span>) // C1024K // List of current http requests by uid: struct evhttp_request * clients[MAXUSERS+<span class="hljs-number"><span class="hljs-number">1</span></span>]; // Memory to store uids passed to the cleanup callback: int slots[MAXUSERS+<span class="hljs-number"><span class="hljs-number">1</span></span>]; // called when user disconnects void cleanup(struct evhttp_connection *evcon, void *<span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { int *uidp = (int *) <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>; fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"disconnected uid %d\n"</span></span>, *uidp); clients[*uidp] = NULL; } // handles http connections, sets them up <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> chunked transfer, // extracts the user id <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> registers <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the global connection <span class="hljs-built_in"><span class="hljs-built_in">table</span></span>, // also sends a welcome chunk. void request_handler(struct evhttp_request *req, void *<span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { struct evbuffer *buf; buf = evbuffer_new(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (buf == NULL){ err(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"failed to create response buffer"</span></span>); } evhttp_add_header(req-&gt;output_headers, <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>, <span class="hljs-string"><span class="hljs-string">"text/html; charset=utf-8"</span></span>); int uid = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(strncmp(evhttp_request_uri(req), <span class="hljs-string"><span class="hljs-string">"/test/"</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>){ uid = atoi( <span class="hljs-number"><span class="hljs-number">6</span></span>+evhttp_request_uri(req) ); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(uid &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>){ evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"User id not found, try /test/123 instead"</span></span>); evhttp_send_reply(req, HTTP_NOTFOUND, <span class="hljs-string"><span class="hljs-string">"Not Found"</span></span>, buf); evbuffer_free(buf); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(uid &gt; MAXUSERS){ evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"Max uid allowed is %d"</span></span>, MAXUSERS); evhttp_send_reply(req, HTTP_SERVUNAVAIL, <span class="hljs-string"><span class="hljs-string">"We ran out of numbers"</span></span>, buf); evbuffer_free(buf); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } evhttp_send_reply_start(req, HTTP_OK, <span class="hljs-string"><span class="hljs-string">"OK"</span></span>); // Send welcome chunk: evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"Welcome, Url: '%s' Id: %d\n"</span></span>, evhttp_request_uri(req), uid); evhttp_send_reply_chunk(req, buf); evbuffer_free(buf); // put reference into global uid-&gt;connection <span class="hljs-built_in"><span class="hljs-built_in">table</span></span>: clients[uid] = req; // set <span class="hljs-built_in"><span class="hljs-built_in">close</span></span> callback evhttp_connection_set_closecb( req-&gt;evcon, cleanup, &amp;slots[uid] ); } // runs <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a thread â€“ the erlang c-node stuff // expects msgs like {uid, msg} <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> sends aa <span class="hljs-string"><span class="hljs-string">'msg'</span></span> chunk to uid <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> connected void cnode_run() { int fd; /* fd to Erlang node */ int got; /* Result of receive */ unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> buf[BUFSIZE]; /* Buffer <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> incoming message */ ErlMessage emsg; /* Incoming message */ ETERM *uid, *msg; erl_init(NULL, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (erl_connect_init(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"secretcookie"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) erl_err_quit(<span class="hljs-string"><span class="hljs-string">"erl_connect_init"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((fd = erl_connect(<span class="hljs-string"><span class="hljs-string">"httpdmaster@localhost"</span></span>)) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) erl_err_quit(<span class="hljs-string"><span class="hljs-string">"erl_connect"</span></span>); fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Connected to httpdmaster@localhost\n\r"</span></span>); struct evbuffer *evbuf; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) { got = erl_receive_msg(fd, buf, BUFSIZE, &amp;emsg); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (got == ERL_TICK) { continue; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (got == ERL_ERROR) { fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"ERL_ERROR from erl_receive_msg.\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (emsg.<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> == ERL_REG_SEND) { // get uid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> body data from eg: {<span class="hljs-number"><span class="hljs-number">123</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"Hello"</span></span>&gt;&gt;} uid = erl_element(<span class="hljs-number"><span class="hljs-number">1</span></span>, emsg.msg); msg = erl_element(<span class="hljs-number"><span class="hljs-number">2</span></span>, emsg.msg); int userid = ERL_INT_VALUE(uid); <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *body = (<span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *) ERL_BIN_PTR(msg); int body_len = ERL_BIN_SIZE(msg); // Is this userid connected? <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(clients[userid]){ fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Sending %d bytes to uid %d\n"</span></span>, body_len, userid); evbuf = evbuffer_new(); evbuffer_add(evbuf, (const void*)body, (size_t) body_len); evhttp_send_reply_chunk(clients[userid], evbuf); evbuffer_free(evbuf); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Discarding %d bytes to uid %d â€“ user not connected\n"</span></span>, body_len, userid); // noop } erl_free_term(emsg.msg); erl_free_term(uid); erl_free_term(msg); } } } // <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> we got here, erlang connection died. // this thread is supposed to run forever // TODO â€“ gracefully handle failure / reconnect / etc pthread_exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); } int main(int argc, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> **argv) { // Launch the thread that runs the cnode: pthread_attr_t tattr; pthread_t helper; int <span class="hljs-built_in"><span class="hljs-built_in">status</span></span>; pthread_create(&amp;helper, NULL, cnode_run, NULL); int i; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;=MAXUSERS;i++) slots[i]=i; // Launch libevent httpd: struct evhttp *httpd; event_init(); httpd = evhttp_start(<span class="hljs-string"><span class="hljs-string">"0.0.0.0"</span></span>, <span class="hljs-number"><span class="hljs-number">8000</span></span>); evhttp_set_gencb(httpd, request_handler, NULL); event_dispatch(); // Not reached, event_dispatch() shouldn<span class="hljs-string"><span class="hljs-string">'t return evhttp_free(httpd); return 0; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
           #define,   8000   .     Erlang  cookie. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ,    : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ erl -setcookie secretcookie -sname httpdmaster@localhost</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      -: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ gcc -o httpdcnode httpdcnode.c -lerl_interface -lei -levent $ ./httpdcnode</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ,   : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs scala">erl&gt; nodes(hidden). [c1<span class="hljs-meta"><span class="hljs-meta">@localhost</span></span>]</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
         <a href="http://localhost/">localhost</a> :8000/test/123.     . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
        -: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">erl&gt; {any, c1@localhost} ! {<span class="hljs-number"><span class="hljs-number">123</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"Hello Libevent World"</span></span><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>}.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ,     Pid â€”   {procname, node}.   Â«anyÂ»,   ,   C-. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
            Erlang,     libevent   ,     Erlang. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
        ,   1 000 000   httpdcnode ,     ,   .  ,      10   . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
          2GB: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/e6/68/e668ac6be86de46482d9a6d98af80b45.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b> 2   .</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">Mem: <span class="hljs-number"><span class="hljs-number">32968672</span></span>k total, <span class="hljs-number"><span class="hljs-number">9636488</span></span>k used, <span class="hljs-number"><span class="hljs-number">23332184</span></span>k free, <span class="hljs-number"><span class="hljs-number">180</span></span>k <span class="hljs-keyword"><span class="hljs-keyword">buffers</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      kernel/ TCP    8  ,   ,        . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      libevent-cnode       .        ,     â€œrace conditionsâ€,    ,     . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
       ,   Erlang    ,  C + libevent    .   C        C-,   Erlang     API.         . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>   </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
           ,    ,       Last.fm.     40      â€”      ,  40GB       . 10GB  . </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J111590/index.html">Amazonã®ç‰¹è¨±ï¼šå„ä»‹ãªè´ˆã‚Šç‰©ã§ãƒ€ã‚¦ãƒ³</a></li>
<li><a href="../J111592/index.html">NDISä»•æ§˜ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã®æ¦‚è¦</a></li>
<li><a href="../J111593/index.html">DARPAã«ã‚ˆã‚‹LittleDogã®æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³</a></li>
<li><a href="../J111595/index.html">FIXber-ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ãƒ†ã‚¹ãƒˆã‚µãƒ¼ãƒ“ã‚¹å¸‚å ´</a></li>
<li><a href="../J111598/index.html">MySpaceã¯å¾“æ¥­å“¡ã®åŠæ•°ä»¥ä¸Šã‚’è§£é›‡ã™ã‚‹</a></li>
<li><a href="../J111601/index.html">LibreOfficeã¯Ubuntu 11.04ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚ªãƒ•ã‚£ã‚¹ã«ãªã‚Šã¾ã™</a></li>
<li><a href="../J111602/index.html">ã‚¤ãƒ‡ã‚£ã‚ªãƒ PimplãŠã‚ˆã³Fast Pimpl-å®Ÿè£…ã¸ã®ãƒã‚¤ãƒ³ã‚¿ãƒ¼</a></li>
<li><a href="../J111605/index.html">Midnight Commanderã®Xoria256ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ </a></li>
<li><a href="../J111606/index.html">ã‚¯ãƒ©ã‚¦ãƒ‰ã‚½ãƒ¼ã‚·ãƒ³ã‚°ã‚’ä½¿ç”¨ã—ã¦ã€å’æ¥­è¨¼æ›¸ã«é©ã—ãŸãƒˆãƒ”ãƒƒã‚¯ã‚’è¦‹ã¤ã‘ã‚‹</a></li>
<li><a href="../J111608/index.html">ã‚·ãƒªã‚¢ãƒ«ç•ªå·ã®ç”»åƒã‚’ä½¿ç”¨ã—ã¦ä¸€é€£ã®å†™çœŸã‚’ä½œæˆã™ã‚‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>