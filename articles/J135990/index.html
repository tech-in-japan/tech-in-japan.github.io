<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😕 😪 👩🏿‍⚕️ WPFレイアウト：測定と配置 ⚒️ 🧑🏻 🧖🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="WPFレイアウトシステムの概要は、msdn（ 1、2 ）から取得できます。 コントロールはビジュアルツリーを形成し、各コントロールには独自の四角形があり、その中に描画されること、これらの四角形の定義はレイアウトシステムに割り当てられ、2段階（測定と配置）で実行され、WPFは通常の即時とは異なり、この...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>WPFレイアウト：測定と配置</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"><img src="https://habrastorage.org/storage2/b66/2bf/f09/b662bff0941e7fb826ecf4d43ca08c64.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      WPFレイアウトシステムの概要は、msdn（ <a href="http://msdn.microsoft.com/en-us/library/ms748373.aspx">1、2</a> ）から取得できます。 コントロールはビジュアルツリーを形成し、各コントロールには独自の四角形があり、その中に描画されること、これらの四角形の定義はレイアウトシステムに割り当てられ、2段階（測定と配置）で実行され、WPFは通常の即時とは異なり、このモードの利点は何ですか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ただし、msdnを読むと、ドキュメントで回答されていない多くの質問が発生し、何が起こっているのかを推測することしかできません。 たとえば、メジャーステージの子コントロールが、渡されたavailableSizeを超えるサイズを自身で要求した場合はどうなりますか？ または-必要に応じて、 <i>MeasureOverrideメソッド</i>と<i>ArrangeOverrideメソッドを</i>正しく実装して、記述されたコードが<i>Measure</i>および<i>Arrange</i>ステップの実行方法に関する受け入れられている規則と矛盾しないようにする方法  <i>Measure</i>ステージで得られた結果は<i>Arrange</i>ステージとレンダリングに影響しますか、それとも<i>Arrange</i>呼び出しのみがレンダリングに影響し<i>、</i>純粋に情報ステージを<i>測定し</i>ますか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     舞台裏で何が起こっているのかをさらに詳しく理解してみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> 保持モードシステム </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、WPFである<a href="http://en.wikipedia.org/wiki/Retained_mode">保持モードのグラフィックシステムを</a>思い出しましょう。 これは、グラフィックスを描画するためのアプローチであり、再描画が必要な領域を特定し、この再描画を実行する責任がグラフィックスシステムに移されます。 つまり、必要に応じてすべてのウィンドウとコントロールが再描画されることを保証するのはWPFです。 プログラマは、Win32 APIやWindowsFormsの場合のように<i>WM_PAINT</i>などのイベントの処理を心配しなくなりましたが、必要に応じてコントロールのレンダリングメソッドを設定するだけで、WPFはいつ、どのピースを再検証する必要があるかを判断します。 プログラマーは、次のようになります。再描画が必要な領域を定義し<b>て</b> <i>WM_PAINT</i>メッセージ<i>が到着する</i> <b>たびに</b>この手順を実行する代わりに、プログラマーはコントロールを描画するために必要なコマンドのシーケンスを<b>一度</b>示します。 これは、 <i>OnRender</i>メソッドで行われます。  <i>OnRender</i>メソッド<i>は</i> 、WPFシステムによって呼び出されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> それでもこのコントロールを描画する方法がわからない場合 </li><li> いくつかの<i>DependencyProperty</i>が、 <i>FrameworkPropertyMetadataOptions.AffectsRender</i>フラグ（例： <i>Button.Content</i> ）または<i>AffectsRenderに</i>暗黙的につながる他のフラグで変更された場合 </li><li> コントロールが（ <i>InvalidateMeasure</i> 、 <i>InvalidateArrange</i>または<i>InvalidateVisualを</i>呼び出すことにより）再検証のために明示的にマークされている場合 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/078/d28/ec7/078d28ec7270c3a965ff6177d94f6b77.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>OnRender</i>メソッド<i>は</i> 、 <i>DrawingContext</i>引数を使用して呼び出され<i>ます。この</i>引数では、 <i>DrawEllipse</i>タイプなどの描画メソッドを<i>取得します</i> 。 伝えられるところによると、実際にはレンダリングは行われず、すべての呼び出しがコマンドキューに追加され、コントロールを再描画する必要があるとWPFが判断したときに使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     実際、ここに共通の質問への答えがあります-何かが書かれたボタンがあり、このボタンのテキストを変更するとしましょう-しかし、どの時点でどのようにそれ自体を再配置して再描画する必要があると判断しますか？ 結局、プロパティの値を変更しただけです。 また、次のことが起こります。ボタンテキストはレンダリングに影響し、対応するフラグでマークされます。したがって、このプロパティの値を変更すると、ボタンがダーティ、つまり再描画が必要なものとしてマークされます。 その後すぐに、WPFはレンダリングの更新を行います。 これはすぐには発生しませんが、WPFがこれを実行する時間がある場合に限ります。 つまり、置換の直後に<i>RenderSize</i>を取得した場合、変更されません。 しかし、 <i>UpdateLayout（）</i>メソッドを使用してマークアップを強制的に更新すると、 <i>RenderSize</i>は変更されたテキストに対応するものになります。 ちなみに、 <i>Dispatcher.Invokeの</i>優先度もこのメカニズムに関連付けられています-Priority.Renderは利用可能な優先度の1つです。つまり、この優先度のデリゲートが呼び出されると、レンダリング要素に対して実行される手順と共に実行されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> 測定中 </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     なぜこれがそんなに重要なのですか？ 手順<i>Measure</i>および<i>Arrange</i>は、要素の配置が発生するため、同様に機能します。 これらは一度呼び出さ<b>れ、</b> <b>コントロールに</b> <b>MeasureIsValid</b>フラグと<b>ArrangeIsValid</b>フラグが<b>設定され</b>ます。 この後、 <i>Measure</i>と<i>Arrangeの</i>呼び出しはすぐに制御を返し、何もしません。 コントロールにこれらの事柄を再カウントさせるには、 <b>AffectsMeasure / AffectsArrangeフラグを使用</b>して<i>DependencyProperty</i>を再度変更するか、InvalidateMeasure / InvalidateArrangeを呼び出してフラグを明示的にリセットする必要があります。 また、ドキュメントでは、 <i>Measure</i>の再検証は<i>Arrange</i>の再検証を自動的に伴うと述べていますが、これはすでに明らかです。 一般的に、最初の結論は次のとおりです。コントロールに、変更時に子コントロールのサイズや配置を変更できる特定のプロパティがある場合、 <i>DependencyPropertyに</i>して<i>AffectsMeasure / AffectsArrangeフラグ</i>を設定する必要があります。 このプロパティの値のすべての変更がコントロールの再検証を必要とするわけではない場合、これを行うのではなく、指定された<i>valueChangedCallback</i>を使用して<i>DependencyProperty</i>を実行します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、ソフトウェア設計の観点からこれら2つの方法を検討します。 つまり、責任範囲と入力/出力データは何ですか。 これはおそらく、WPFレイアウトシステムの動作を理解する上で最も重要なことです。 個人的にこのトピックを味わうのに多くの時間がかかりました。  WPFのソースコードは入手可能であるため、ソースコードを詳しく調べる必要さえありました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> 測定と配置 </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Measure</i>のドキュメントは、これが単なる情報提供段階であり、表示に影響を与えないように書かれています。 すべてが論理的なようです-ペアレンタルコントロールは子供をポーリングし、子供からどれだけのスペースを占有したいかを判断し、誰にどのくらいのスペースを遮断するかを具体的に決定し、 <i>Arrange</i>を呼び出します。 一般に、PresentationCoreレベルではこれが当てはまります（UIElementには空の仮想メソッドMeasureCoreとArrangeCoreが含まれます）が、より具体的な動作、FrameworkElementとその子孫の動作に興味があり、FrameworkElementはPresentationFrameworkアセンブリで既に定義されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私はできる限り明確かつ正確に定式化しようとします。 誤りや誤りがある場合は、修正し、変更します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>public void Measure（Size availableSize）</b> -availableSizeを指定して、目的のサイズを決定し、this.DesiredSizeに設定するメソッド。 メソッドの説明では、結果のDesiredSizeがavailableSizeになる可能性があると記述されていますが、FrameworkElementの子孫には当てはまりません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i><a href="http://msdn.microsoft.com/en-us/library/system.windows.uielement.measure.aspx">Measure</a></i>メソッドの本質は、次のことを行うことです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> すべてのVisualChild要素に対して<i>Measureを</i>再帰的に呼び出します（そうしないと、IsMeasureValidフラグが設定されず、子要素を描画できません）。  <i>メジャー</i>は少なくとも1回呼び出す必要があります。  <i>Measure</i>は<u>繰り返し</u>呼び出すことができます（たとえば、最初に引数<i>Size = double.PositiveInfinityで</i> <i>Measure</i>を呼び出してコントロールのフルサイズを決定できます） <i>。Measure</i>への<b>最後の呼び出し</b>は、この子コントロールを描画するために<b>実際</b>に使用されるディメンションで行う必要があります。 </li><li>  availableSizeの寸法に収まるように、コントロールの状態を準備します。 これが、 <i>Measure</i>の最後の呼び出しが要素の実際の寸法を決定する理由です。 その理由は、コントロール<i>がDesiredSize</i>をavailableSizeを超える値に<i>設定</i>すると、固定サイズのグリッドセルが何をすべきか分からなくなるためです。 サイズは固定されているようですが、子供はテーブルで拳を叩いているので、もっと欲しいです！ したがって、availableSizeが「ソフト制約」であるというドキュメントフレーズは、 <i>FrameworkElement</i>のコンテキストでは厳密に言えば正しくありません。 </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2番目のポイントは非常に重要です。 実際、 <i>測定</i>段階では、描画の準備が行われます。 たとえば、 <i>Measureを</i>呼び出すときのリストボックスは、ディメンションに収まらないことがわかっている場合、スクロールバーが表示されると判断します。 そして、より大きなサイズで<i><a href="http://msdn.microsoft.com/en-us/library/system.windows.uielement.arrange.aspx">Arrange</a></i>を呼び出しても、スクロールバーは残ります。 逆に、 <i>Measure</i>が<i>PositiveInfinity</i> 、および<i>Arrangeで</i>実行された場合、実際のディメンションでは、arrangeRectを超えるすべてのものが単純に切断されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ところで、なぜ<i>FrameworkElementなの</i>か？ 光はそれに収束しましたか？ 実際に収束しており、 <i>FrameworkElementは</i> <i>UIElement.MeasureCore</i>と<i>UIElement.ArrangeCore</i>をseal修飾子でオーバーライドします。つまり、FrameworkElementのすべての子孫（すべてのコントロール、ウィンドウなど）は、必要に応じてMeasureCoreとArrangeCoreの動作を変更できません。 彼らは願い事だけを残すことができます-このためにMeasureOverrideとArrangeOverrideメソッドが作成されます。 そして今、 <i>MeasureOverrideでは</i> availableSizeは実際にはソフト制約であり、引数の値を超える値を非常に合法的に返すことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>public void Arrange（Rect finalRect）</b> -コントロールにその位置（x、y）と長方形のサイズを伝えるだけです。 これらの制限を超えるものはすべて割礼されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Measure</i>と<i>Arrangeに</i>は次の関係があります-理想的には、 <i>Measure</i>の最後の呼び出しは、 <i>Arrangeの</i>次の呼び出しのサイズと一致するSizeを取る必要があります。 その場合、コントロールは完全に描画されます。 条件が満たされない場合、問題が発生する可能性があります。 つまり、すべてが正しくレンダリングされる可能性があり、完全ではない可能性があります。 たとえば、この状況では、リストボックス（arrangeSize &lt;measureSizeの場合）はnuraを右に移動し（スクロールバーは境界線に沿って左にスライドしますが、トリミングされません）、下部はトリミングされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここで、メソッド<i><a href="http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.measureoverride.aspx">MeasureOverride</a></i>および<i><a href="http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.arrangeoverride.aspx">ArrangeOverride</a></i>を検討する<i><a href="http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.measureoverride.aspx">必要が</a></i>あり<i><a href="http://msdn.microsoft.com/en-us/library/system.windows.frameworkelement.arrangeoverride.aspx">ます</a></i> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  MeasureOverrideおよびArrangeOverride </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>保護された仮想サイズMeasureOverride（Size availableSize）は</b> 、開発者が独自の配置ロジックで独自のコントロールパネルを作成できるように設計されています。 通常、 <i>MeasureOverride</i>アルゴリズムは次の手順を実行する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> パラメータSize.Widthおよび<i>Size.Height = double.PositiveInfinityを</i>使用して<i>Measure</i>を再帰的に呼び出して、子のフルサイズを推定します。 </li><li> 子供のサイズに応じて自分のフルサイズを評価する </li><li>  availableSizeに入ると、独自のフルサイズの値を返します </li><li> そうでない場合、割り当てられたavailableSizeに収まるように、PositiveInfinityではなく特定の値を使用して、子で再度<i>Measure</i>を呼び出す必要があります。 このステップの具体的な実装は、実装する配置ロジックによって異なります。 </li><li>  availableSize内、またはavailableSizeを超える最小値に<i>収まる</i>場合は、availableSizeを<i>DesiredSize</i>として返します。これにより、コントロールを完全にレンダリングできます。 </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>protected virtual Size ArrangeOverride（Size finalSize）</b> -ここでは、対応する境界と位置を持つ各子要素に対してArrangeメソッドを呼び出すだけです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      availableSizeより大きい値を<i>MeasureOverride</i> <b>に</b>返す<b>ことが</b>できる<b>ことに</b>注意してください！ ただし、これを実行してDesiredSizeコントロールを確認すると、 <i>DesiredSize</i> = availableSizeであることに驚かされます。 つまり、誰かが結果を無視して、 <i>Measure</i>引数の値をそこに書きました。 ただし、 <i>ArrangeOverrideが</i>引数としてさらに呼び出されると、再び魔法のように値を取得します。これは<i>MeasureOverride</i>から返され<i>ました</i> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     何が起こっているの？ そして、これが起こることです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>FrameworkElement.Measure</i>が無限の定数で呼び出された場合、 <i>MeasureOverrideが返す</i>ものに関係なく<i>、FrameworkElement.MeasureCoreは</i>それを<i>切り取り、DesiredSize</i> &lt;= availableSizeを設定します。 そして、DesiredSizeは自宅でキャッシュし、その後ArrangeOverrideでそれを渡します。 これは、FrameworkElementは、Measureを呼び出すときに、コンテンツをトリミングする必要がある場合でも、Measureを呼び出すときに割り当てられたピースに<b>収まるよう</b>にする<b>ため</b>です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そうしないと、特定の幅/高さの値を持つグリッドセルが、 <i>DesiredSize</i> &gt; availableSizeを返したコントロール上を回ります。 そして、 <i>FrameworkElement</i>はDesiredSizeの実際の要件を保持しており、 <i>Arrangeの</i>時間が来ると、 <i>MeasureOverride</i>に返された<i>DesiredSize</i>値を使用して<i>ArrangeOverride</i>メソッドを呼び出します。 そして、ArrangeOverrideでは、必要に応じて子を配置します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     その後、 <i>ArrangeOverrideが呼び出される</i>コンテキストで<i>FrameworkElement.ArrangeCoreが</i>コンテンツをクリップし、コントロールの<b>一部が</b>グリッドに表示されます。 どの部分が<i>Horizo​​ntal / VerticalAlignment</i>などのプロパティに依存しますが、 <i>DesiredSize</i>が保存されて<i>ArrangeOverrideに</i>転送されたため、コンテンツは<i>必要に応じて</i>ほぼ完全にレンダリングされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そして、 <i>FrameworkElement</i>の相続人を実装するとき、そのような状況でクリッピングを心配する必要はありません-彼は私たちのためにすべてを行います。 そして、 <i>DesiredSize</i> &gt; availableSizeを処理するパネルが必要な場合は、何か間違ったことをしているか、 <i>MeasureCore</i>と<i>ArrangeCoreを</i>ファイナライズ（シール）しない<i>UIElement</i>に1レベル<i>下がる必要が</i>あり<i>ます</i> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これをすべてテストするために、 <i>Button</i>継承を作成し、固定サイズを<i>MeasureOverrideに返し</i> 、ボタンをより小さいサイズ（ <i>50x50</i>など）のグリッドセルに配置できます。 ボタンがトリミングされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>protected override Size MeasureOverride(Size constraint) { 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     return new Size(80, 80); 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この機能については、 <a href="http://social.msdn.microsoft.com/Forums/hu-HU/wpf/thread/fc6a74a5-be66-41c0-9178-984de29834ec">http：//social.msdn.microsoft.com/</a>で説明されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     結論として、説明した資料に関連するWPFソース（UIElementおよびFrameworkElementクラス）のメソッドに<a href="https://gist.github.com/1591233">コード</a>を追加したいと思います。 エッセンスを詳細に詳述したコメント付きの作品。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      WPFのソースコード全体は<a href="http://referencesource.microsoft.com/netframework.aspx">、ここから</a>ダウンロードでき<a href="http://referencesource.microsoft.com/netframework.aspx">ます</a> （.Net-4をダウンロード）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      UPD： <a href="https://habrahabr.ru/users/afsherman/" class="user_link">afsherman</a>は、WPFソースがオプションであることを示します。  ReSharperをインストールしたユーザーは、組み込みオプションを使用して、Ctrlキーを押しながらクラス/メソッド/プロパティなどの名前をクリックしてソースをダウンロードできます。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J135980/index.html">Googleは検索をよりソーシャルにしました</a></li>
<li><a href="../J135986/index.html">「世界記録」-「見えないキーボード」の開発者によるミニゲーム</a></li>
<li><a href="../J135988/index.html">Web用の新しいタイポグラフィ。 マイクロソフトがOpenType機能を実証</a></li>
<li><a href="../J135989/index.html">普段どんな仕事環境を使っていますか？</a></li>
<li><a href="../J13599/index.html">エイサーがゲートウェイを買収</a></li>
<li><a href="../J135991/index.html">もっと建設的になります。 ロシア連邦国防省</a></li>
<li><a href="../J135992/index.html">Iomega StoreCenter Ix2-200上のDebianまたはネットワークドライブから完全なサービスを作成する</a></li>
<li><a href="../J135993/index.html">死ぬエージェント、死ぬ！</a></li>
<li><a href="../J135995/index.html">iBooksでPDFライブラリを整理する-メタデータを編集する</a></li>
<li><a href="../J135999/index.html">1つの監査の履歴</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>