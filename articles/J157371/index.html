<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏿‍🤝‍👨🏽 👃🏿 ✌🏿 TCL上のWebshel​​l、Cisco IOSなど向け 👨🏼‍🔬 👂🏻 ⛈️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私は、 tclshコマンドの背後に隠され、ほぼすべてのルーターとスイッチに存在するCisco IOSの機能を長年実践したいと考えていました。 しかし、残念ながら、幸いなことに、デバイス自体による自動化を使用することで少なくとも何らかの形で助けが得られる問題を解決する必要はなかったかもしれません。 最...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>TCL上のWebshel​​l、Cisco IOSなど向け</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"> 私は、 <i>tclsh</i>コマンドの背後に隠され、ほぼすべてのルーターとスイッチに存在するCisco IOSの機能を長年実践したいと考えていました。 しかし、残念ながら、幸いなことに、デバイス自体による自動化を使用することで少なくとも何らかの形で助けが得られる問題を解決する必要はなかったかもしれません。 最後に、運命は私をネットワークの管理が必要な場所からの出張に投げ込み、私の手にはWi-Fiと80番目のTCPポートを備えたタブレットだけを投げました。 今回は、電話で音声でコマンドを口述する必要がありましたが、到着時にタスクは<a href="http://www.cisco.com/en/US/docs/ios/12_3t/12_3t2/feature/guide/gt_tcl.html">Tcl</a>を使用した<a href="http://www.cisco.com/en/US/docs/ios/12_3t/12_3t2/feature/guide/gt_tcl.html">Cisco IOSスクリプトを</a>使用して解決されました。 <a name="habracut"></a> 幸いなことに、Cisco IOSのTCL実装は、このような問題を解決するのに十分機能しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、既製のソリューションを探しました。 実際、Cisco自体はWebベースのインターフェイスを介してデバイスへのアクセスを提供しますが、そのようなアクセスにはコンソールインターフェイスのすべての機能が完全に備わっておらず（Cisco自体が示すように）、予備設定（たとえば、SDMのJava）が必要であり、セキュリティに影響を与え、使用するのが便利ではありません（私にとって）-一般に、すべてのデバイスで<i>ip http serverはありません</i> 。  SSH / telnetポートをHTTPにマップすることもできましたが、これはタブレットの問題に過ぎません。telnetは既にWindowsからなくなっており、sshです。 私たちは、それが2000年代初期/中期の電話であっても、ウェブブラウザを備えたデバイスから可能な限り迅速にログインする必要があるかもしれないことを考慮します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Ciscoコンソールへのリモートアクセス用のサードパーティ製既製ソリューションを調べます。 <a href="http://www.xakep.ru/post/54328/default.asp">これはおそらくこのトピックに関する最も人気のある記事</a>ですが、少なくともtelnetが必要であることを忘れないでください。 その結果、要件を定式化します：Webインターフェイスを介したアクセス、可能な限り簡単にデバイス上で起動し（理想的には1つのコマンドで）-すべてを自分で記述します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、何が起こったのか-投稿の最後にあるリンクをクリックすると、リモートデバイスで実行するスクリプトを選択できます。 非常に多くのシステムにTCL実装があるため、Cisco IOS、Windows、Linux、FreeBSDにアクセスできます（これは私が自分で確認したものです）。 パラメーターでは、着信要求をリッスンするアドレスとポートを指定する必要があります。 パラメーターを指定しない場合、すべてのアドレスと、システムによって割り当てられた最初の空きポートをリッスンします。 疑問符がパラメータに表示される場合、ヒントの類似点があります（Ciscoの場合）。皮肉なことに、ヒントはCiscoコンソールでは機能せず、Ciscoコンソール自体が疑問符をインターセプトします。 最初の行には標準の<i>＃！&lt;スクリプトへのパス&gt;</i>が含まれていないため、明示的に<i>tclsh</i>を呼び出します（Ciscoの場合、別の方法では不可能です）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre><code class="bash hljs">win&gt;tclsh cws.tcl ? ABCD or * Listen ip address &lt;cr&gt; win&gt;tclsh cws.tcl * ? &lt;0-65535&gt; Listen tcp port, 0 <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> first free &lt;cr&gt; win&gt;tclsh cws.tcl * 8181 Listen on http://0.0.0.0:8181</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Ciscoコンソールの場合、フルパスを（tftpを介して）書き込むため、特権モードである必要があります。  tclshモードでは、スクリプトは<i>source</i>を介して呼び出されますが、コマンドラインパラメーターをスクリプトに渡すことはできません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> <code class="bash hljs">cisco<span class="hljs-comment"><span class="hljs-comment">#tclsh tftp://192.0.2.1/cws.tcl * 8181 Listen on http://0.0.0.0:8181 cisco#tclsh cisco(tcl)#source tftp://192.0.2.1/cws.tcl Listen on http://0.0.0.0:43012</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      nixコンソールの場合、パラメータ「*」はワイルドカードパラメータとして認識されるため、「\ *」をエスケープするか、引用符で囲む必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     起動後、リスニングアドレスでブラウザに入ることができます。 インターフェイスは禁欲的です-コマンドを入力するための行、スクリプトを実行および停止するためのボタン、およびtclshモードスイッチ。 <img src="https://habrastorage.org/storage2/eaf/74f/1f7/eaf74f1f78aac15a50a466ea627c304c.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     実行されたコマンドに出力するものがある場合、コマンドの出力はページの先頭に表示されます。  TclshモードはコマンドをTCLスクリプトとして実行します-言語コマンドのセット全体を使用できます。 入力フィールドは、160文字、サイズ40文字に制限されています（タブレットに便利です）。 スクリプトを停止するボタンはデバイス上でその作業を完了します。アクションを終了するときに他の人に尋ねる必要はありません。 コマンド自体の実行中のエラーは処理され、ウェブインターフェースに出力されます。通信およびスクリプトエラーは一切捕捉されないため、TCLインタープリターの標準エラーはデバイスのコンソールに表示されます（可能な限りすべてを捕捉しようとしましたが、残される可能性があります）。 また、スクリプトは一度に1つのリクエストのみを処理し、インタラクティブなアクションまたは長い実行期間を必要とするコマンドを実行すると、スクリプトをさらに制御するためのアクセスが失われることを覚えておく価値があります。 スペースの後に「＆」文字を使用してコマンドを終了できます。これにより、コマンドがバックグラウンドで起動され、制御がスクリプトに戻されますが、Cisco IOSでは機能しません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Ciscoのtclshモードの主な機能は、すべてのCiscoコマンドがインタープリターによってネイティブとして解釈されることです。つまり、実際には、特定のデバイスコマンドインターフェイスを持つすべての機能でTCL言語を補完します<i>-exec</i>を使用してコマンドを明示的に呼び出す必要はありません実装されています。 また、 <i>conf t</i>端子から設定モードに入ることはできません<i>。</i>これには、Cisco TCLアドオンコマンド<i>-ios_config</i>を使用する必要があります。 たとえば、インターフェイスをオフにします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> <code class="bash hljs">cisco<span class="hljs-comment"><span class="hljs-comment">#conf t cisco(config)#int fa0/0 cisco(config-if)#shutdown cisco#tclsh cisco(tcl)#ios_config "int fa 0/0" "shutdown"</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これについては、常に<a href="http://www.cisco.com/en/US/docs/ios/12_3t/12_3t2/feature/guide/gt_tcl.html">cisco.com</a>で詳細に説明しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     それどころか、Windowsではすべてのコマンドはコンソールで実行されません。つまり、コマンドは個別の実行可能ファイルとしてのみ認識されるため、たとえば<i>dir</i>を実行するには、明示的にコンソールを呼び出す必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> <code class="bash hljs">win&gt;cmd /c dir c:\    C   SYSTEM   : A073-3CE1   c:\</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     機能を完成しました。実装について少し説明します。  TCP接続を受け入れるには、サーバーモードで<i>socket</i>コマンド<i>-serverスイッチを</i>使用し<i>ます</i> 。 必要に応じて、リスニング用のアドレスを送信します（そうでない場合、すべてのアドレスが<i>リスンされ</i>ます） <i>-myaddr</i>キー。 必須パラメーターは、確立された接続でデータが転送されるときに呼び出されるコールバックプロシージャの名前です。この例では<i>get_http</i>です。 既に書いたように、接続の作成時のエラーはチェックされません。何か問題が発生した場合、スクリプトはコンソールで誓います。 開いているソケットは<i>wsh</i>変数に保存され、 <i>そこ</i>から<i>fconfigure $ wsh -socknameコマンド（</i>画面に表示するリスニングアドレスとポート）でパラメーターを取得します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { <span class="hljs-variable"><span class="hljs-variable">$argc</span></span> == <span class="hljs-variable"><span class="hljs-variable">$i</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [string length <span class="hljs-variable"><span class="hljs-variable">$listenaddr</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> wsh [socket -server get_http -myaddr <span class="hljs-variable"><span class="hljs-variable">$listenaddr</span></span> <span class="hljs-variable"><span class="hljs-variable">$listenport</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> wsh [socket -server get_http <span class="hljs-variable"><span class="hljs-variable">$listenport</span></span>] } <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> sockparam [fconfigure <span class="hljs-variable"><span class="hljs-variable">$wsh</span></span> -sockname] puts <span class="hljs-string"><span class="hljs-string">"Listen on http://[lindex </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$sockparam</span></span></span><span class="hljs-string"> 0]:[lindex </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$sockparam</span></span></span><span class="hljs-string"> 2]"</span></span> after <span class="hljs-variable"><span class="hljs-variable">$connwait</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stopsrv 1 vwait stopsrv close <span class="hljs-variable"><span class="hljs-variable">$wsh</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> retcode <span class="hljs-variable"><span class="hljs-variable">$stopsrv</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> retcode [expr <span class="hljs-variable"><span class="hljs-variable">$i</span></span> + 100] } <span class="hljs-built_in"><span class="hljs-built_in">return</span></span> <span class="hljs-variable"><span class="hljs-variable">$retcode</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、変数<i>stopsrvが変化</i>するのを待つ<i>vwait</i>を呼び出し<i>ます</i> 。 このコールバックコマンドがないと、プロシージャは接続を受け入れず、サーバー自体はポートでまったくリッスンしません。 実際、このコマンドを呼び出した後にのみ、サーバーモードに切り替えます。TCLは、接続要求が処理される内部ループに入ります。 接続の処理を停止するに<i>は</i> 、 <i>stopsrv</i>変数<i>が</i>必要です-サーバーを停止し、Webインターフェイスの停止ボタンをクリックすると設定されます<i>-TCL</i>はリッスンループを終了し、コールバックプロシージャ<i>get_http</i>を終了してから、 <i>vwait</i>に<i>続く</i> <i>close</i>コマンドを実行し<i>ます。</i>ソケット。  <i>vwaitの</i>前に、保護メカニズムがあります：入ることについて気が変わった場合、または長時間アクションを実行しなかった場合、変数<i>connwait</i> = 15分で設定された時間が<i>経過</i>すると、 <i>stopsrv</i>が設定され、 <i>vwaitの</i>実行が続行されます。 ログインすると、 <i>get_http</i>プロシージャで<i>afterが</i>再度初期化されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>if</i>からのラッパーは<i>、</i>このブロックへのコマンドラインパラメーターの正しい転送に必要です。パラメーター自体は以前にチェックされます。これは、スクリプト自体で確認する方法です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cisco tclshの機能を覚えています。Ciscoコマンドはネイティブです。そのため、TCLではなくCiscoを具体的に参照する<i>exitの</i>代わりに<i>return</i>を使用します。Ciscoでスクリプトが実行された後、 <i>終了</i>コードがコンソールに発行されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     主な作業はすべて<i>get_http</i>プロシージャで行われます<i>。get_http</i>プロシージャでは、HTTP要求の入力パラメータが分析され、HTTP応答を生成するためにプロシージャが呼び出されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> <code class="bash hljs">proc get_http { sockaddr ipaddr portaddr } { global stopsrv global connwait gets <span class="hljs-variable"><span class="hljs-variable">$sockaddr</span></span> r flush <span class="hljs-variable"><span class="hljs-variable">$sockaddr</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> rs [string tolower [string trim <span class="hljs-variable"><span class="hljs-variable">$r</span></span>]] after cancel <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stopsrv 2 after <span class="hljs-variable"><span class="hljs-variable">$connwait</span></span> <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stopsrv 2 switch -regexp -- <span class="hljs-variable"><span class="hljs-variable">$rs</span></span> { {^get\s*/close} { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> body 1; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stopsrv 0 } {^get\s*/\s+} { puts <span class="hljs-string"><span class="hljs-string">"GET from </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$ipaddr</span></span></span><span class="hljs-string">:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$portaddr</span></span></span><span class="hljs-string">"</span></span>; after cancel <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> stopsrv 1 } {^get\s*/\?cmd=} { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { [regexp {/\?cmd=([^[:space:]^\&amp;]*)(&amp;tclsh)?} <span class="hljs-variable"><span class="hljs-variable">$r</span></span> opt cmdline checked] &amp;&amp; [string length <span class="hljs-variable"><span class="hljs-variable">$cmdline</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> cmdline [expandPercent <span class="hljs-variable"><span class="hljs-variable">$cmdline</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> { ! [string length <span class="hljs-variable"><span class="hljs-variable">$checked</span></span>] } <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> { catch <span class="hljs-string"><span class="hljs-string">"exec </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$cmdline</span></span></span><span class="hljs-string">"</span></span> msgout } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { catch <span class="hljs-variable"><span class="hljs-variable">$cmdline</span></span> msgout <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> checked {checked} } } } default {<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> mode 1; <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> body 2 } } response_http <span class="hljs-variable"><span class="hljs-variable">$sockaddr</span></span> <span class="hljs-variable"><span class="hljs-variable">$mode</span></span> response_html <span class="hljs-variable"><span class="hljs-variable">$sockaddr</span></span> <span class="hljs-variable"><span class="hljs-variable">$body</span></span> <span class="hljs-variable"><span class="hljs-variable">$cmdline</span></span> <span class="hljs-variable"><span class="hljs-variable">$msgout</span></span> <span class="hljs-variable"><span class="hljs-variable">$checked</span></span> close <span class="hljs-variable"><span class="hljs-variable">$sockaddr</span></span> }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このプロシージャのパラメータは次のとおりです。オープンソケット<i>sockaddr</i> 、読み取り元と書き込み先、および参加クライアントの<i>portaddr</i>ポートと<i>ipaddr</i>アドレス。 グローバル変数<i>stopsrv</i>を定義して、この手順の外でそれを確認します<i>。vwait</i>に必要です。 最初の行のみを読み取ります（残りは必要ありません<i>-flush</i> ）、GET要求があると予想しています。  <i>スイッチで</i>これを確認し、クライアントから渡された内容に従って行動します。 何かわからない場合は、「HTTP / 1.0 501」を返します（要求されたコンテンツを表示できません）。  「HTTP / 1.0 200」で正しいリクエストに応答します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべてのHTTP応答は<i>response_http</i>プロシージャで生成され、HTMLページは<i>response_htmlで</i>生成されます。 これらの手順については説明しません。ページレイアウトを出力するための線形コードは、ほんの数行で<i>$ sockaddr &lt;text&gt;</i>を配置し、表示する条件をチェックします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     以下のリクエストされたデータに対応します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>/-ルート</b> -ページを表示し、デバイスのコンソールに、誰が来たのかを書き込みます-アドレスとポート。 また、 <i>後</i>に一時停止をキャンセルします。 </li><li>  <b>/</b> <i>close-</i> <b>スクリプトの作業を終了します</b> -変数<i>stopsrv</i>を設定します（実際、パラメーターのないフォームからのリクエストのように、クライアントから「/ close？」が届きます）。 </li><li>  <b>/ cmd = &lt;command&gt;＆tclsh-</b>最初に、HTTPリクエストからテキストを開きます-すべてのスペースが「+」に置き換えられ、処理された行が到着します。すべての非標準文字（文字と数字を除くほとんどすべての文字）は％XXとして表されます。 このために、ほぼ常に<a href="http://wiki.tcl.tk/14144">Wiki TCL</a>で<i>expandPercent</i>を使用します。 次に、 <i>catch</i>を介してクリーニングされたコマンドを実行し、結果を<i>msgoutに</i>保存して、ページに出力します。 この方法でコマンドを呼び出すことにより、実行の可能性のあるエラーをキャッチします。  「tclsh」パラメーターが存在する場合はそのまま実行し、存在しない場合は<i>exec</i>を介して実行します。これにより、デバイスのコンソールでコマンドを実行する効果が得られます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     応答を送信した直後に、ソケットを閉じます。  「キープアライブ」接続をサポートしていないという事実は、「Connection：close」オプションと「HTTP / 1.0」のバージョンを示す各HTTP応答で報告されます。 スクリプトは何らかの基準を満たそうとはしていません。手元にあるブラウザー（Opera 12、IE7、Chrome）が送信されたデータに正常に反応するように、可能な限り最小の処理を行いました。手元にないものでは驚きがあります 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cisco IOSでの直接的な言語構文の特性は、主にTCLバージョン8.3.4が実装されており、最新バージョンが8.5.12であるという事実に関連しています。 たとえば、便利な<i>switch</i> 、 <i>-matchvar、</i>および<i>-nocaseオプションは</i>実装され<i>て</i>いません。 いずれの場合でも、どのプラットフォームでも記述できます。構文に厳密に関連しているだけなので、転送に問題はありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードを少し台無しにしたり、スタイルを使いすぎたり、逆に、一部のデバイスではこれらのデバイスの機能を考慮して起動しないかもしれませんが、全体的にはかなり安定しているように見えました。 これを使用する際の主なことは、これは単なるツールであり、頭をどのように取り付けるかは、誰がこの頭を置くかに依存することを思い出すことです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スクリプトはリンクから取得できます<a href="http://yadi.sk/d/zjOyrCkF0_McK">-cws.tcl</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Ciscoの<a href="http://www.cisco.com/en/US/docs/ios/12_3t/12_3t2/feature/guide/gt_tcl.html">TCL-www.cisco.com/en/US/docs/ios/12_3t/12_3t2/feature/guide/gt_tcl.html</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      TCLコマンド<a href="http://www.tcl.tk/man/tcl8.5/TclCmd/contents.htm">-www.tcl.tk/man/tcl8.5/TclCmd/contents.htm</a> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J157361/index.html">Androidフィッシング</a></li>
<li><a href="../J157363/index.html">AndroidでのQtシグナル/スロットの実装</a></li>
<li><a href="../J157367/index.html">コールドヘッドを持つ知的財産について。 パート2</a></li>
<li><a href="../J157369/index.html">キム・ドットコムは、ニュージーランドの全住民に4億ドルの光ファイバーと無料インターネットを約束します</a></li>
<li><a href="../J15737/index.html">キッチンミステリーと冷蔵庫のなぞなぞ</a></li>
<li><a href="../J157373/index.html">匿名の漏れたVMware ESXカーネルソース</a></li>
<li><a href="../J157377/index.html">スクールクラフト：Battlecruiser＆DeathCraft</a></li>
<li><a href="../J157379/index.html">WP8で以前の状態を失うことなく、スタート画面から起動するときにアプリケーションを復元する</a></li>
<li><a href="../J157383/index.html">カスタムタグの利点、またはHTMLマークアップを放棄した方法</a></li>
<li><a href="../J157385/index.html">ネットワーク競合他社に対するチェックポイント集中型セキュリティの利点</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>