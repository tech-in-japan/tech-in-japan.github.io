<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙀 🧒🏿 👏🏻 BIOSセットアップおよびその他のUEFIアプリケーションからスクリーンショットを取得するためのDXEドライバーを作成しています 🧛🏾 💅🏻 🏖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SecureBootに関する最後の記事では、BIOSセットアップを介してUEFIを構成する際にスクリーンショットを撮る機能が本当に不足していましたが、テキストコンソールをシリアルポートにリダイレクトしました。 これは素晴らしい解決策ですが、いくつかのサーバーマザーボードで使用できます。それを使用する...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>BIOSセットアップおよびその他のUEFIアプリケーションからスクリーンショットを取得するためのDXEドライバーを作成しています</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/274463/"><img align="left" src="https://habrastorage.org/files/2a8/8f3/b41/2a88f3b415b54f1ea653f2b5aad91306.png">  <a href="http://habrahabr.ru/post/273497/">SecureBootに関する</a>最後の<a href="http://habrahabr.ru/post/273497/">記事で</a>は、BIOSセットアップを介してUEFIを構成する際にスクリーンショットを撮る機能が本当に不足していましたが、テキストコンソールをシリアルポートにリダイレクトしました。 これは素晴らしい解決策ですが、いくつかのサーバーマザーボードで使用できます。それを使用すると、擬似グラフィックのみを取得できますが、実際の擬似グラフィックを取得したいです。見栄えがよく、毎回ターミナルウィンドウから切り取る必要はありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これがまさにこの記事で行うことですが、同時にDXEドライバーとは何か、それを自分で作成、組み立て、テストする方法、UEFIでのキーボード入力と画面への出力の仕組み、接続されたストレージデバイス間でこれを見つける方法、ファイルを書き込むことができる場所、UEFIからファイルに何かを保存する方法、および外部Cコードをファームウェアの一部として機能するように適合させる方法。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     あなたがまだ興味があるなら、私はあなたの下であなたを待っています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>免責事項</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      UEFIのドライバーの作成とデバッグについて話す前に、ファームウェアの実験は危険なビジネスであり、「レンガ」につながる可能性があり、最も不幸な場合にはハードウェア障害につながる可能性があるとすぐに言っておく価値があります。事前に警告します。あなたがここで読むすべては、あなた自身の危険とリスクで使用します、私はあなたのファームウェアまたはボードの機能性の損失に対して責任を負いません。 ファームウェアで実験を開始する前に、プログラマを使用してSPIフラッシュの内容全体の完全なコピーを作成する必要があります。 この方法でのみ、ソフトウェアの障害後のファームウェアの正常な回復を保証できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     プログラマーはいないが、 <abbr title="ドライバー実行環境">DXE</abbr>ドライバーを作成してデバッグしたい場合は、 <a href="http://www.tianocore.org/ovmf/">OVMF</a> 、VmWare Workstation 12、またはUEFIがサポートされている他の仮想化システムを使用してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>そこで必要なものとそれがDXEドライバーである理由</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私たちのタスクは、特定のキーの組み合わせを押すことで、UEFIアプリケーションの操作中（たとえばBIOSセットアップ）に画面全体からスクリーンショットを取得し、書き込みアクセス権を持つファイルシステムを見つけて、結果のスクリーンショットを保存することです。 何らかのステータス表示を取得するのもいいでしょう。 なぜなら スクリーンショットを撮るには、UEFIアプリケーションの操作を中断する必要があります。UEFIにはプリエンプティブマルチタスクがまだないため、それらを削除するプログラム自体はアプリケーションにはなりません。したがって、DXEドライバーが必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     その作業のスキームは、およそ次のように計画されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>0</b> 。 テキスト入力（キーストロークを処理するため）とグラフィック出力（スクリーンショットを取得するものがあるように）の出現後にのみロードします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1</b>  <i>LCtrl + LAlt + F12の</i>組み合わせ（または好みに合わせて）を使用可能なすべての入力テキストコンソールに押すためのハンドラーを<i>切断</i>します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>2</b> 。 ハンドラーでは、すべての出力グラフィックコンソールを見つけ、それらからスクリーンショットを取得し、 <abbr title="ポータブルネットワークグラフィックス">PNG形式に</abbr>エンコードし<abbr title="ポータブルネットワークグラフィックス">ます</abbr> （UEFIアプリケーションは通常数百万色を使用しないため、この形式のスクリーンショットはBMPで数メガバイトではなく数十キロバイトのサイズで取得されます）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>３</b> 。 同じハンドラーで、ルートに書き込むことができる最初のファイルシステムを見つけ、そこに受信したファイルを保存します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に見つかったFSではなく、たとえばUSBデバイスのみまたは<abbr title="EFIシステムパーティション">ESP</abbr>パーティションのみを選択することで機能を拡張することができます。これを読者に任せて、独立して動作させてください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>SDKを選択</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      UEFIで動作する新しいコードを作成するための2つの異なるSDKがあります<a href="http://www.tianocore.org/edk2/">。UEFI</a>フォーラムの新しい<a href="http://www.tianocore.org/edk2/">EDK2</a>と、古いIntelコードに基づいた独立した開発者の<a href="http://sourceforge.net/projects/gnu-efi/">GNU-EFI</a>です。 どちらのソリューションも、Cおよび/またはアセンブラーでコードを記述することを意味します。この場合、純粋なCとのやり取りを試みます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     どのSDKが優れているかを判断することは私にとってではありませんが、EDK2を使用することをお勧めします。 公式でクロスプラットフォームであり、変更のソースに近いため、新しい機能（古いバグの修正とともに）がはるかに速く表示されます。また、コードを作成するすべての<abbr title="独立したBIOSベンダー">IBVで</abbr>使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      EDK2は絶え間ない開発の過程にあり、トランクに1日に2〜3コミットを一貫して追加していますが、ここでは最新のトレンドを追跡しないため（まだ動作しません）、このために後者を使用しますUDK2015と呼ばれる瞬間安定カット<a href="http://www.tianocore.org/udk/udk2015/">EDK2</a> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さまざまなコンパイラーによってクロスプラットフォームおよびビルド機能を提供するために、EDK2はTXT（環境構成）、DEC、DSCおよびFDF（パッケージ構成）およびINF（コンポーネント構成）構成ファイルを使用して各プラットフォームのメイクファイルを生成します。物語、そして今すぐEDK2を入手してHelloWorldをアセンブルする必要があり<a href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II-Specifications">ます</a> 。今すぐ詳細を調べるのが待ちきれない場合<a href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II-Specifications">は、ドキュメントに従って</a>ください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>ビルド環境をカスタマイズする</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cおよびアセンブラーでコードをビルドするために必要なソフトウェアはすでにマシンにインストールされていることが理解されています。 そうでない場合、WindowsユーザーはWindowsデスクトップ用Visual Studio 2013 Expressをインストールすることをお勧めします; LinuxおよびOSXユーザーはGCC 4.4-4.9およびNASMが必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらすべてが既にインストールされている場合は、 <a href="https://sourceforge.net/projects/edk2/files/UDK2015_Releases/UDK2015/UDK2015.Complete.MyWorkSpace.zip/download">UDK2015</a>を<a href="https://sourceforge.net/projects/edk2/files/UDK2015_Releases/UDK2015/UDK2015.Complete.MyWorkSpace.zip/download">ダウンロードし、UDK2015.MyWorkSpace.zipの</a>すべてのコンテンツをファイルを作成する権限がある場所（少なくともデスクトップまたはホームディレクトリに直接）に解凍し、 <i>BaseTools（Windows）の</i>コンテンツを解凍するだけです。 <i>.zip</i>または<i>BaseTools（Unix.zip）</i>を前の手順で取得した<i>MyWorkSpace</i>ディレクトリに<i>追加</i>し、 <i>UDK2015</i>などで適切な名前に変更します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ターミナルを開き、新しく作成された<i>UDK2015</i>ディレクトリに移動して、 <i>edksetup.bat</i> （または<i>.sh</i> ） <i>スクリプト</i>を実行し<i>ます</i> 。これにより、テキストファイルのセットが<i>Conf</i>サブディレクトリにコピーされます<i>。tools_def.txt</i>および<i>target.txtに注目し</i>ます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初のファイルは十分に大きく、アセンブリー環境に必要なコンパイラーCおよび<abbr title="ACPIソース言語">ASL</abbr> 、アセンブラー、リンカーなどへのパスを持つ環境変数の定義が含まれています。 必要に応じて、そこに示されているパスを修正するか、独自のユーティリティセット（いわゆる<i>ToolChain</i> ）を追加できますが、私のアドバイスを聞いた場合は、VS2013（32ビットWindowsの場合）またはVS2013x86（で64ビットWindowsの場合）、またはGCC44 | ... |  GCC49（GCCのバージョンに応じて、 <i>gcc --version</i>に応じて親切に表示されます）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2番目のファイルにはデフォルトのアセンブリ設定が含まれており、次の値を設定することをお勧めします。 <pre><code class="bash hljs">ACTIVE_PLATFROM = MdeModulePkg/MdeModulePkg.dsc <span class="hljs-comment"><span class="hljs-comment">#      TARGET = RELEASE #   TARGET_ARCH = X64 # DXE     64-,       TOOL_CHAN_TAG = VS2013x86 # | VS2013 | GCC44 | ... | GCC49 | YOUR_FANCY_TOOLCHAIN,      </span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>  UDK2015で別のターミナルを開き、Linux / OSXで次のコマンドを実行します。 <pre> <code class="bash hljs">. edksetup.sh BaseTools</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>  Windowsの場合、パラメーターのない通常の<i>edksetup.bat</i>で十分です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここで、すべてが正しく実行された場合、 <i>ビルド</i>コマンドを使用して<i>ビルド</i>環境をテストし、一定時間後に次のようなメッセージで終了します。 <pre> <code class="bash hljs">- Done - Build end time: ... Build total time: ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>  [ <i>完了]の</i>代わりに[ <i>失敗]</i>が表示される場合、設定に問題があります。  WindowsのVS2013x86およびXubuntu 14.04.3- <abbr title="すべてが私のために働く">OIAの</abbr> GCC48で上記を確認しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>プロジェクト構造</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      EDK2のアプリケーションとドライバーは個別にアセンブルされるのではなく、いわゆる<i>パッケージの</i>一部として、つまり パッケージ。 アプリケーション自体に加えて、パッケージには、ライブラリ、ヘッダーファイルのセット、およびパッケージの構成とその内容の説明が記述されたファイルも含まれます。 これは、さまざまなドライバーとアプリケーションがさまざまなライブラリー実装を使用して、さまざまなヘッダーファイルとGUIDにアクセスできるようにするために行われます。  MdeModulePkgを使用します。これは、アーキテクチャとハードウェアに依存しない非常に一般的なパッケージであり、ドライバーを組み込むことができれば、UEFI 2.1以降の実装で動作することがほぼ保証されます。 このアプローチの欠点は、その中のほとんどのライブラリ（たとえば、デバッグ出力を取得するために使用されるDebugLib）が単なるスタブであり、そのような必要が生じた場合は自分で作成する必要があることです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ドライバーをビルドするには、ビルドする必要のあるライブラリ、プロトコル、ファイルに関する情報を含むINFファイルが必要です。また、このINFファイルへのパスをパッケージのDSCファイルに追加して、アセンブリシステムがそのINFを認識できるようにしますファイルは。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最後から始めましょう。ファイル<i>UDK2015 / MdeModulePkg / MdeModulePkg.dsc</i>を開いて、[Components]セクションまでスクロールします（検索で見つけることができます-高速です）。 このセクションには、パッケージに属するすべてのファイルが順番にリストされます;セクションの先頭は次のようになります。 <pre> <code class="bash hljs">[Components] MdeModulePkg/Application/HelloWorld/HelloWorld.inf MdeModulePkg/Application/MemoryProfileInfo/MemoryProfileInfo.inf ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> そこに将来のINFファイルを、 <i>UDK2015</i>に対する相対パスとともに追加します。  <i>MScreenModuleDkgでCrScreenshotDxe</i>フォルダーを直接作成し、INFファイルに<i>CrScreenshotDxe.inf</i>という名前を<i>付ける</i>ことを提案します。 ご想像のとおり、CrはCodeRushの出身であり、この記事の著者は謙虚です。 結果は次のようになります。 <pre> <code class="bash hljs">[Components] MdeModulePkg/CrScreenshotDxe/CrScreenshotDxe.inf MdeModulePkg/Application/HelloWorld/HelloWorld.inf MdeModulePkg/Application/MemoryProfileInfo/MemoryProfileInfo.inf ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 変更を保存し、DSCファイルを閉じます。デバッグ出力を構成したくない場合は、それを変更しませんが、これはまったく別の話です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、INFファイル自体を入力する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">このようになります</b> <div class="spoiler_text"><pre> <code class="bash hljs">[Defines] <span class="hljs-comment"><span class="hljs-comment">#   INF_VERSION = 0x00010005 #  ,   1.5 BASE_NAME = CrScreenshotDxe #   FILE_GUID = cab058df-e938-4f85-8978-1f7e6aabdb96 # GUID  MODULE_TYPE = DXE_DRIVER #   VERSION_STRING = 1.0 #   ENTRY_POINT = CrScreenshotDxeEntry #    [Sources.common] #   , common -     CrScreenshotDxe.c #    #... #  ,   - ,   PNG,   [Packages] #   MdePkg/MdePkg.dec #  ,        UEFI MdeModulePkg/MdeModulePkg.dec #   ,     [LibraryClasses] #   UefiBootServicesTableLib #    UEFI Boot Services   gBS UefiRuntimeServicesTableLib #      UEFI Runtime services   gRT UefiDriverEntryPoint #    UEFI-,      ,    DebugLib #   DEBUG PrintLib #  UnicodeSPrint,   snprintf [Protocols] #   gEfiGraphicsOutputProtocolGuid #     gEfiSimpleTextInputExProtocolGuid #     gEfiSimpleFileSystemProtocolGuid #     [Depex] #  ,    ,    gEfiGraphicsOutputProtocolGuid AND #       ,       gEfiSimpleTextInputExProtocolGuid #</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> 上記の<i>CrScreenshotDxe.s</i>ファイルを作成します。 <div class="spoiler">  <b class="spoiler_title">このコンテンツで</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Uefi.h&gt; #include &lt;Library/DebugLib.h&gt; #include &lt;Library/PrintLib.h&gt; #include &lt;Library/UefiDriverEntryPoint.h&gt; #include &lt;Library/UefiBootServicesTableLib.h&gt; #include &lt;Library/UefiRuntimeServicesTableLib.h&gt; #include &lt;Protocol/GraphicsOutput.h&gt; #include &lt;Protocol/SimpleTextInEx.h&gt; #include &lt;Protocol/SimpleFileSystem.h&gt; EFI_STATUS EFIAPI CrScreenshotDxeEntry ( IN EFI_HANDLE ImageHandle, IN EFI_SYSTEM_TABLE *SystemTable ) { return EFI_SUCCESS; }</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> 今すぐ<i>build</i>コマンドを繰り返した場合、成功する必要があります。そうでなければ、何か間違ったことをしました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さて、最後に、ドライバー用の空白があり、コードの作成に直接進むことができます。 このようなアセンブリシステムは役に立たないことは明らかであり、テキストファイルを編集して作業することはあまり快適ではないため、各IBVにはEDK2アセンブリシステムを最新のIDEに統合する独自のソリューションがあります。たとえば、AMI Visual eBIOS環境はこれにはEclipseプラグインが含まれ、PhoenixとInsydeにはVisual Studioが含まれています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     有名なコンピューターセキュリティの専門家であるAlex Ionescuによって作成された素晴らしい<a href="https://github.com/ionescu007/VisualUefi">VisualUefi</a>プロジェクトがまだあります<a href="https://github.com/ionescu007/VisualUefi">。VisualStudioが</a>好きなら、ぜひ試してみることをお勧めしますが、今のところハードコアを使い続け、オールドスクールの精神を維持します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>キーストロークへの対応</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここではすべてが非常に簡単です：ドライバーを読み込むとき、 <a href="http://wiki.phoenix.com/wiki/index.php/EFI_SIMPLE_TEXT_INPUT_EX_PROTOCOL">SimpleTextInputEx</a>プロトコルのすべてのインスタンスをソートします。これは、いくつかのキーボードがシステムに接続されている場合でも、キーボードドライバーによって公開されます。 それにもかかわらず、念のため、利用可能なすべてのインスタンスをソートし、応答するキーの組み合わせをパラメーターとして受け入れる各関数<a href="http://wiki.phoenix.com/wiki/index.php/EFI_SIMPLE_TEXT_INPUT_EX_PROTOCOL">RegisterKeyNotify</a>と、押した後に呼び出されるコールバック関数へのポインターを呼び出し、組み合わせが必要です。すべての主要な作業はすでに完了しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">ロシア語からCに翻訳</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">EFI_STATUS EFIAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CrScreenshotDxeEntry</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( IN EFI_HANDLE ImageHandle, IN EFI_SYSTEM_TABLE *SystemTable )</span></span></span><span class="hljs-function"> </span></span>{ EFI_STATUS Status; EFI_KEY_DATA KeyStroke; UINTN HandleCount; EFI_HANDLE *HandleBuffer = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; UINTN i; <span class="hljs-comment"><span class="hljs-comment">// Set keystroke to be LCtrl+LAlt+F12 KeyStroke.Key.ScanCode = SCAN_F12; KeyStroke.Key.UnicodeChar = 0; KeyStroke.KeyState.KeyShiftState = EFI_SHIFT_STATE_VALID | EFI_LEFT_CONTROL_PRESSED | EFI_LEFT_ALT_PRESSED; KeyStroke.KeyState.KeyToggleState = 0; // Locate all SimpleTextInEx protocols Status = gBS-&gt;LocateHandleBuffer(ByProtocol, &amp;gEfiSimpleTextInputExProtocolGuid, NULL, &amp;HandleCount, &amp;HandleBuffer); if (EFI_ERROR (Status)) { DEBUG((-1, "CrScreenshotDxeEntry: gBS-&gt;LocateHandleBuffer returned %r\n", Status)); return EFI_UNSUPPORTED; } // For each instance for (i = 0; i &lt; HandleCount; i++) { EFI_HANDLE Handle; EFI_SIMPLE_TEXT_INPUT_EX_PROTOCOL *SimpleTextInEx; // Get protocol handle Status = gBS-&gt;HandleProtocol (HandleBuffer[i], &amp;gEfiSimpleTextInputExProtocolGuid, (VOID **) &amp;SimpleTextInEx); if (EFI_ERROR (Status)) { DEBUG((-1, "CrScreenshotDxeEntry: gBS-&gt;HandleProtocol[%d] returned %r\n", i, Status)); continue; } // Register key notification function Status = SimpleTextInEx-&gt;RegisterKeyNotify( SimpleTextInEx, &amp;KeyStroke, TakeScreenshot, &amp;Handle); if (EFI_ERROR (Status)) { DEBUG((-1, "CrScreenshotDxeEntry: SimpleTextInEx-&gt;RegisterKeyNotify[%d] returned %r\n", i, Status)); } } // Free memory used for handle buffer if (HandleBuffer) gBS-&gt;FreePool(HandleBuffer); // Show driver loaded ShowStatus(0xFF, 0xFF, 0xFF); // White return EFI_SUCCESS; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> コンパイルを成功させるには、 <i>後述のTakeScreenshot</i>および<i>ShowStatus関数</i>ではまだ十分ではありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>書き込みアクセス、ファイルへのデータ書き込みが可能なFSを探しています</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     利用可能なグラフィックコンソールを探して、そこからスクリーンショットを撮る前に、これらの同じスクリーンショットをどこかに保存できるかどうかを確認する必要があります。 これを行うには、 <a href="http://wiki.phoenix.com/wiki/index.php/EFI_SIMPLE_FILE_SYSTEM_PROTOCOL">SimpleFileSystem</a>プロトコルのすべてのインスタンスを検索します<a href="http://wiki.phoenix.com/wiki/index.php/EFI_SIMPLE_FILE_SYSTEM_PROTOCOL">。SimpleFileSystem</a>プロトコルは、FSがファームウェアに<a href="http://wiki.phoenix.com/wiki/index.php/EFI_SIMPLE_FILE_SYSTEM_PROTOCOL">認識</a>されている検出された各ボリュームのPartitionDxeドライバーによって公開されます。 ほとんどの場合、既知のFSはFAT12 / 16/32ファミリ（FAT32のみ）のみであり、UEFI規格に従ってESPに使用できます。 次に、見つかったFSに書き込むことができることを確認する必要があります。さまざまな方法でそれを行うことができます。最も簡単な方法は、その上にファイルを作成し、読み取りおよび書き込み用に開くことです。それが機能する場合、このFSに書き込むことができます もちろん、このソリューションは最適ではありませんが、機能するため、演習として読者に正しい実装が提供されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">再びロシア語からCに翻訳する</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">EFI_STATUS EFIAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FindWritableFs</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( OUT EFI_FILE_PROTOCOL **WritableFs )</span></span></span><span class="hljs-function"> </span></span>{ EFI_HANDLE *HandleBuffer = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; UINTN HandleCount; UINTN i; <span class="hljs-comment"><span class="hljs-comment">// Locate all the simple file system devices in the system EFI_STATUS Status = gBS-&gt;LocateHandleBuffer(ByProtocol, &amp;gEfiSimpleFileSystemProtocolGuid, NULL, &amp;HandleCount, &amp;HandleBuffer); if (!EFI_ERROR (Status)) { EFI_FILE_PROTOCOL *Fs = NULL; // For each located volume for (i = 0; i &lt; HandleCount; i++) { EFI_SIMPLE_FILE_SYSTEM_PROTOCOL *SimpleFs = NULL; EFI_FILE_PROTOCOL *File = NULL; // Get protocol pointer for current volume Status = gBS-&gt;HandleProtocol(HandleBuffer[i], &amp;gEfiSimpleFileSystemProtocolGuid, (VOID **) &amp;SimpleFs); if (EFI_ERROR (Status)) { DEBUG((-1, "FindWritableFs: gBS-&gt;HandleProtocol[%d] returned %r\n", i, Status)); continue; } // Open the volume Status = SimpleFs-&gt;OpenVolume(SimpleFs, &amp;Fs); if (EFI_ERROR (Status)) { DEBUG((-1, "FindWritableFs: SimpleFs-&gt;OpenVolume[%d] returned %r\n", i, Status)); continue; } // Try opening a file for writing Status = Fs-&gt;Open(Fs, &amp;File, L"crsdtest.fil", EFI_FILE_MODE_CREATE | EFI_FILE_MODE_READ | EFI_FILE_MODE_WRITE, 0); if (EFI_ERROR (Status)) { DEBUG((-1, "FindWritableFs: Fs-&gt;Open[%d] returned %r\n", i, Status)); continue; } // Writable FS found Fs-&gt;Delete(File); *WritableFs = Fs; Status = EFI_SUCCESS; break; } } // Free memory if (HandleBuffer) { gBS-&gt;FreePool(HandleBuffer); } return Status; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> このコードは他に何も必要とせず、そのまま機能します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>グラフィカルコンソールを探しており、そのスクリーンショットを撮ります</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スクリーンショットを保存するものがあることを確認したら、それらを削除しましょう。 これを行うには、各出力デバイスについて、GOPドライバーおよびVideoBIOSによって公開された<a href="http://wiki.phoenix.com/wiki/index.php/EFI_GRAPHICS_OUTPUT_PROTOCOL">GOP</a>プロトコルのすべてのインスタンス（より正確には、プロトコルについて何も知らないVBIOS自体ではなく、古いVBIOSとUEFIの間のレイヤーを実装するConSplitterドライバー）をソートする必要がありますグラフィックス付き。 このプロトコルには、 <a href="http://wiki.phoenix.com/wiki/index.php/EFI_GRAPHICS_OUTPUT_PROTOCOL">最初の</a>画像のみが必要になるまでフレームバッファとの間で画像をコピーするための<a href="http://wiki.phoenix.com/wiki/index.php/EFI_GRAPHICS_OUTPUT_PROTOCOL">Blt</a>機能があります。 同じプロトコルの<i>Mode</i>オブジェクトを使用すると、目的のサイズのバッファーを選択し、画面の一部からではなく画面全体からスクリーンショットを撮るのに必要な現在の画面解像度を取得できます。 スクリーンショットを受け取ったので、完全に黒ではないことを確認する価値があります。そのようなものを保存すると、FSで時間とスペースが無駄に消費されるためです。ペイントで必要なサイズの黒い長方形を描画できます。 次に、画像をBGR（Bltが提供する）からRGB（PNGエンコーダが必要とする）に変換する必要があります。そうしないと、スクリーンショットの色が間違ってしまいます。 変換後に取得した画像をエンコードし、前の手順で見つけたファイルシステム上のファイルに保存します。 現在の日時から8.3形式でファイル名を収集するため、あるスクリーンショットが別のスクリーンショットを上書きする可能性は低くなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">再びロシア語からCに翻訳する</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">EFI_STATUS EFIAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TakeScreenshot</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( IN EFI_KEY_DATA *KeyData )</span></span></span><span class="hljs-function"> </span></span>{ EFI_FILE_PROTOCOL *Fs = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; EFI_FILE_PROTOCOL *File = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; EFI_GRAPHICS_OUTPUT_PROTOCOL *GraphicsOutput = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; EFI_GRAPHICS_OUTPUT_BLT_PIXEL *Image = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; UINTN ImageSize; <span class="hljs-comment"><span class="hljs-comment">// Size in pixels UINT8 *PngFile = NULL; UINTN PngFileSize; // Size in bytes EFI_STATUS Status; UINTN HandleCount; EFI_HANDLE *HandleBuffer = NULL; UINT32 ScreenWidth; UINT32 ScreenHeight; CHAR16 FileName[8+1+3+1]; // 0-terminated 8.3 file name EFI_TIME Time; UINTN i, j; // Find writable FS Status = FindWritableFs(&amp;Fs); if (EFI_ERROR (Status)) { DEBUG((-1, "TakeScreenshot: Can't find writable FS\n")); ShowStatus(0xFF, 0xFF, 0x00); // Yellow return EFI_SUCCESS; } // Locate all instances of GOP Status = gBS-&gt;LocateHandleBuffer(ByProtocol, &amp;gEfiGraphicsOutputProtocolGuid, NULL, &amp;HandleCount, &amp;HandleBuffer); if (EFI_ERROR (Status)) { DEBUG((-1, "ShowStatus: Graphics output protocol not found\n")); return EFI_SUCCESS; } // For each GOP instance for (i = 0; i &lt; HandleCount; i++) { do { // Break from do used instead of "goto error" // Handle protocol Status = gBS-&gt;HandleProtocol(HandleBuffer[i], &amp;gEfiGraphicsOutputProtocolGuid, (VOID **) &amp;GraphicsOutput); if (EFI_ERROR (Status)) { DEBUG((-1, "ShowStatus: gBS-&gt;HandleProtocol[%d] returned %r\n", i, Status)); break; } // Set screen width, height and image size in pixels ScreenWidth = GraphicsOutput-&gt;Mode-&gt;Info-&gt;HorizontalResolution; ScreenHeight = GraphicsOutput-&gt;Mode-&gt;Info-&gt;VerticalResolution; ImageSize = ScreenWidth * ScreenHeight; // Get current time Status = gRT-&gt;GetTime(&amp;Time, NULL); if (!EFI_ERROR(Status)) { // Set file name to current day and time UnicodeSPrint(FileName, 26, L"%02d%02d%02d%02d.png", Time.Day, Time.Hour, Time.Minute, Time.Second); } else { // Set file name to scrnshot.png UnicodeSPrint(FileName, 26, L"scrnshot.png"); } // Allocate memory for screenshot Status = gBS-&gt;AllocatePool(EfiBootServicesData, ImageSize * sizeof(EFI_GRAPHICS_OUTPUT_BLT_PIXEL), (VOID **)&amp;Image); if (EFI_ERROR(Status)) { DEBUG((-1, "TakeScreenshot: gBS-&gt;AllocatePool returned %r\n", Status)); break; } // Take screenshot Status = GraphicsOutput-&gt;Blt(GraphicsOutput, Image, EfiBltVideoToBltBuffer, 0, 0, 0, 0, ScreenWidth, ScreenHeight, 0); if (EFI_ERROR(Status)) { DEBUG((-1, "TakeScreenshot: GraphicsOutput-&gt;Blt returned %r\n", Status)); break; } // Check for pitch black image (it means we are using a wrong GOP) for (j = 0; j &lt; ImageSize; j++) { if (Image[j].Red != 0x00 || Image[j].Green != 0x00 || Image[j].Blue != 0x00) break; } if (j == ImageSize) { DEBUG((-1, "TakeScreenshot: GraphicsOutput-&gt;Blt returned pitch black image, skipped\n")); ShowStatus(0x00, 0x00, 0xFF); // Blue break; } // Open or create output file Status = Fs-&gt;Open(Fs, &amp;File, FileName, EFI_FILE_MODE_CREATE | EFI_FILE_MODE_READ | EFI_FILE_MODE_WRITE, 0); if (EFI_ERROR (Status)) { DEBUG((-1, "TakeScreenshot: Fs-&gt;Open of %s returned %r\n", FileName, Status)); break; } // Convert BGR to RGBA with Alpha set to 0xFF for (j = 0; j &lt; ImageSize; j++) { UINT8 Temp = Image[j].Blue; Image[j].Blue = Image[j].Red; Image[j].Red = Temp; Image[j].Reserved = 0xFF; } // Encode raw RGB image to PNG format j = lodepng_encode32(&amp;PngFile, &amp;PngFileSize, (CONST UINT8*)Image, ScreenWidth, ScreenHeight); if (j) { DEBUG((-1, "TakeScreenshot: lodepng_encode32 returned %d\n", j)); break; } // Write PNG image into the file and close it Status = File-&gt;Write(File, &amp;PngFileSize, PngFile); File-&gt;Close(File); if (EFI_ERROR(Status)) { DEBUG((-1, "TakeScreenshot: File-&gt;Write returned %r\n", Status)); break; } // Show success ShowStatus(0x00, 0xFF, 0x00); // Green } while(0); // Free memory if (Image) gBS-&gt;FreePool(Image); if (PngFile) gBS-&gt;FreePool(PngFile); Image = NULL; PngFile = NULL; } // Show error if (EFI_ERROR(Status)) ShowStatus(0xFF, 0x00, 0x00); // Red return EFI_SUCCESS; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div>  <i>Lodepng_encode32は作業</i>と<i>ShowStatusに</i>既に十分で<i>はあり</i>ませんが、継続します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>画像をPNG形式でエンコードします</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コードを記述する最良の方法は、コードを記述しないことです。そのため、 <a href="http://lodev.org/lodepng/">lodepng</a>と呼ばれるPNGのエンコードおよびデコード用の既製のライブラリを使用してみましょう。 ダウンロードし、Cファイルの横に置き、 <i>lodepng.h</i>と<i>lodepng.cの</i>行を[Sources.common] <i>セクション</i>のINFファイルに追加し、ヘッダーファイルを含めます。...何もコンパイルしません。標準のC言語ライブラリはこのようにして完全に削除できます。 初めて仕上げます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>lodepng.h</i>の先頭に、次を追加します。 <pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;Uefi.h&gt; //      UEFI #define LODEPNG_NO_COMPILE_DECODER //   PNG #define LODEPNG_NO_COMPILE_DISK //    , .. fopen/fwrite    #define LODEPNG_NO_COMPILE_ALLOCATORS //   malloc/realloc/free, ..     #define LODEPNG_NO_COMPILE_ERROR_TEXT //     #define LODEPNG_NO_COMPILE_ANCILLARY_CHUNKS //     PNG, ..   #if !defined(_MSC_VER) //   size_t  GCC,  MS        #define size_t UINTN #endif</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> そして、行を<i>#include &lt;string.h&gt;</i>でコメントアウトし<i>ますが</i> 、これもありません。 もちろん、そこにtype_t型を定義することで同じ名前のローカルファイルを作成できますが、変更し始めているので変更します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Lodepng.cは</i>もう少し複雑です  size_tに加えて、標準ライブラリから、memset、memcpy、malloc、realloc、free、qsortも必要であり、浮動小数点計算も使用します。  Qsortの実装は<a href="">Appleからドラッグ</a>でき、メモリ関数は<a href="http://wiki.phoenix.com/wiki/index.php/EFI_BOOT_SERVICES">gBS-&gt; CopyMem</a> 、 <a href="http://wiki.phoenix.com/wiki/index.php/EFI_BOOT_SERVICES">gBS-&gt; SetMem</a> 、 <a href="http://wiki.phoenix.com/wiki/index.php/EFI_BOOT_SERVICES">gBS-&gt; AllocatePool</a>および<a href="http://wiki.phoenix.com/wiki/index.php/EFI_BOOT_SERVICES">gBS-&gt; FreePoolの</a>ラッパーにすることができ、FPUでの作業について通知するには<i>CONST INT32</i>定数を定義する必要があります<i>_fltused = 0;</i> そうでなければ、リンカーは彼女の不在を誓います。 標準の#includesを使用してファイルにコメントを付けることについてはもう話していません。すべてが明確です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Qsort.cも</i>同じ方法で通常の戦闘に<i>還元さ</i>れます。それを.infファイルに追加することを忘れないでください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>ステータスを表示する</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ShowStatus関数を記述するのは残り、ドライバーの準備は完了です。 この同じステータスはさまざまな方法で取得できます。たとえば、POSTエンコーダーに接続されているCPU IOポート80hで0x00から0xFFまでの数字を出力しますが、誰もが持っているわけではありませんが、ラップトップではまったく発生しません。 スピーカーをきしむことはできますが、これはまずプラットフォームに依存しており、2番目にスクリーンショットを2枚撮った後、私を激怒させます。 キーボードのライトを点滅させることができます。これは読者にとって追加のタスクです。このグラフィックコンソールを介してグラフィックコンソールを直接操作する状態を表示します。画面の左上隅に目的の色の小さな四角形を表示します。 この場合、白い四角は「ドライバーが正常にロードされました」、黄色-「記録機能のないFS」、青-「現在のコンソールのスクリーンショットは完全に黒で、保存しても意味がありません」、赤-「エラーが発生しました」、最後に緑-を意味しますスクリーンショットを撮って保存しました。」 すべてのコンソールでこの四角形を表示し、しばらくしてから、上書きされたイメージの一部を復元する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">前回、ロシア語からCに翻訳しました</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">EFI_STATUS EFIAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ShowStatus</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( IN UINT8 Red, IN UINT8 Green, IN UINT8 Blue )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Determines the size of status square #define STATUS_SQUARE_SIDE 5 UINTN HandleCount; EFI_HANDLE *HandleBuffer = NULL; EFI_GRAPHICS_OUTPUT_PROTOCOL *GraphicsOutput = NULL; EFI_GRAPHICS_OUTPUT_BLT_PIXEL Square[STATUS_SQUARE_SIDE * STATUS_SQUARE_SIDE]; EFI_GRAPHICS_OUTPUT_BLT_PIXEL Backup[STATUS_SQUARE_SIDE * STATUS_SQUARE_SIDE]; UINTN i; // Locate all instances of GOP EFI_STATUS Status = gBS-&gt;LocateHandleBuffer(ByProtocol, &amp;gEfiGraphicsOutputProtocolGuid, NULL, &amp;HandleCount, &amp;HandleBuffer); if (EFI_ERROR (Status)) { DEBUG((-1, "ShowStatus: Graphics output protocol not found\n")); return EFI_UNSUPPORTED; } // Set square color for (i = 0 ; i &lt; STATUS_SQUARE_SIDE * STATUS_SQUARE_SIDE; i++) { Square[i].Blue = Blue; Square[i].Green = Green; Square[i].Red = Red; Square[i].Reserved = 0x00; } // For each GOP instance for (i = 0; i &lt; HandleCount; i ++) { // Handle protocol Status = gBS-&gt;HandleProtocol(HandleBuffer[i], &amp;gEfiGraphicsOutputProtocolGuid, (VOID **) &amp;GraphicsOutput); if (EFI_ERROR (Status)) { DEBUG((-1, "ShowStatus: gBS-&gt;HandleProtocol[%d] returned %r\n", i, Status)); continue; } // Backup current image GraphicsOutput-&gt;Blt(GraphicsOutput, Backup, EfiBltVideoToBltBuffer, 0, 0, 0, 0, STATUS_SQUARE_SIDE, STATUS_SQUARE_SIDE, 0); // Draw the status square GraphicsOutput-&gt;Blt(GraphicsOutput, Square, EfiBltBufferToVideo, 0, 0, 0, 0, STATUS_SQUARE_SIDE, STATUS_SQUARE_SIDE, 0); // Wait 500ms gBS-&gt;Stall(500*1000); // Restore the backup GraphicsOutput-&gt;Blt(GraphicsOutput, Backup, EfiBltBufferToVideo, 0, 0, 0, 0, STATUS_SQUARE_SIDE, STATUS_SQUARE_SIDE, 0); } return EFI_SUCCESS; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> これですべてが準備が整い、正常に実行され<a href="https://github.com/NikolajSchlej/CrScreenshotDxe">ますが、準備</a>が<a href="https://github.com/NikolajSchlej/CrScreenshotDxe">整う</a>まで見たり<a href="https://github.com/NikolajSchlej/CrScreenshotDxe">、GitHubから既製のドライバーをダウンロードして自分のドライバー</a>と比較したり、いくつかの変更を説明するのを忘れていました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>UEFIシェルで結果をテストする</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>UDK2015 / Build / MdeModulePkg / RELEASE / X64 / MdeModulePkg / CrScreenshotDxe / CrScreenshotDxe / OUTPUT</i>からアセンブルされたドライバーを<i>取得し</i>ます。そこから必要なファイルは2つだけです<i>。CrScreenshotDxe.efi</i>ドライバー<i>自体</i>と、 <i>CrScreenspexDe</i>の依存関係セクションです<i>。</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に、UEFIシェルからドライバーの動作をテストします。  UEFIシェルを<i>使用</i>してファイル<i>CrScreenshotDxe.efi</i>をUSBスティックにコピーし、ブートして、 <i>fs0：で</i>フラッシュドライブのルートに移動します（システムに接続されているディスクの数に応じて数が変わる場合があります） <i>。load CrScreenshotDxe.efiコマンド</i>を実行し<i>ます</i> 。 成功メッセージが表示され、画面の上部隅に白い四角が点滅している場合は、ドライバーが稼働中であることを意味します。 私にとってはこのように見えます： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">UEFIシェル</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/a9a/833/22e/a9a83322e5754e719e6f02228f625dd6.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このスクリーンショットは、後続のすべてのスクリーンショットと同様に、ドライバーが撮影したものであるため、コーナーの四角は表示されません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div> 次に、 <i>LCtrl + LAlt + F12</i>を大胆に押して、ステータスを確認します。  AMIシステムでは、グラフィックコンソールが1つしかないため、緑色の四角形が点滅し、1回の組み合わせで1つのスクリーンショットを取得します。  PhoenixとInsydeを使用しているシステムでは、2つのグラフィックコンソールがあり、そのうちの1つは空であるため、最初に青い正方形、次に緑の正方形が表示されますが、スクリーンショットも1つしかありません。  UEFIシェルからのテスト結果は同じように見えます。解像度は800x600ではなく、1366x768です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さて、すべてがシェルから機能し、次のようにUEFIアプリケーションからスクリーンショットを取得できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">RU.efi</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/225/da4/676/225da4676be34619b7e2194b5d9d2334.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>変更されたファームウェアで結果をテストする</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     残念ながら、BIOSセットアップのスクリーンショットはこの方法では削除できません-ドライバーの読み込みが遅すぎます。  2つの解決策があります。1つ目は、 <a href="https://github.com/LongSoft/UEFITool">UEFITool</a>を使用してファームウェアのDXEボリュームの依存関係セクションと共にドライバーを追加することです。2つ目は、PCIeデバイスのOptionROMに追加することです。その後、ファームウェアの変更は不要です。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後で必要な鉄片を入手したら、2番目の方法を実装しようとしますが、最初の方法には問題はありません。</font><font style="vertical-align: inherit;">USBフラッシュドライブを挿入、縫製、開始、スティックし、BIOSセットアップに移動し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LCtrl + LAlt + F12を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">押します</font><font style="vertical-align: inherit;">- </font><i><font style="vertical-align: inherit;">出来上がり</font></i><font style="vertical-align: inherit;">、青と緑の正方形が表示され、すべてが機能します。</font><font style="vertical-align: inherit;">結果は次のようになります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスワード入力フォーム</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/0f2/8d4/3fa/0f28d43fa44f4f7d8b9833a72aa39b01.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情報タブ</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/cd5/1ce/93c/cd51ce93c42245c6bf57dcad930bec10.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メインタブ</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/d7c/3dd/10d/d7c3dd10d8634630a628b44c8937d0c9.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティタブ</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/6fb/552/a84/6fb552a84f2b4e329c7f6c05d3ecfd18.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブートタブ</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/fdd/9d8/fb5/fdd9d8fb566a4302b695d7aa96fb8ed7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">終了タブ</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/files/b9b/7ba/774/b9b7ba7747cf44b9abb0af1c94c936f6.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> これは成功です、紳士。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>おわりに</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドライバーが作成され、</font></font><a href="https://github.com/NikolajSchlej/CrScreenshotDxe"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードがGitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><a href="https://github.com/NikolajSchlej/CrScreenshotDxe"><font style="vertical-align: inherit;">投稿され</font></a><font style="vertical-align: inherit;">、OptionROMでアイデアを確認するために残り、トピックは閉じられていると言えます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで何が起こっているのかまだ理解できない場合は、コードにバグを見つけましたか、または記事、著者、UEFIの極悪さ、またはレガシーBIOSでどれだけ良かったのかを議論したいだけです。コメントを歓迎します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆さんの注意、良いDXEドライバーに感謝します。</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J274451/index.html">データ損失なしのパーティション拡張</a></li>
<li><a href="../J274453/index.html">Black Hat USA 2015：同じジープを破った完全な歴史</a></li>
<li><a href="../J274455/index.html">RustでStringまたは＆strを受け入れる関数を作成する</a></li>
<li><a href="../J27446/index.html">近い将来にガスが必要になりますか？</a></li>
<li><a href="../J274461/index.html">呼び出すことができるコンプレッサーの物語、しかし私はどのように覚えていない</a></li>
<li><a href="../J274469/index.html">BlackEnergy Trojanは、ウクライナのメディアおよび産業施設に対するサイバー攻撃で使用されます</a></li>
<li><a href="../J27447/index.html">会議「Webデザインの未来」に関する報告。 Hannah Donovan、「製品からサービスへ」</a></li>
<li><a href="../J274475/index.html">Node.jsを使用してネットワーク辞書をリッピングする、パート1：静的ページ。 CLI DSL-> TXT、PDF、DjVu; 関連タスク</a></li>
<li><a href="../J274477/index.html">WPFアプリケーションのローカリゼーションとインスタントカルチャーの変更</a></li>
<li><a href="../J274479/index.html">Yii2悪い行動</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>