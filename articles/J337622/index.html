<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏻‍🎤 👨🏽‍🔬 🌈 HALおよびSPLなしのSTM32 👩🏻‍🤝‍👨🏾 ☦️ ⛹🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="かつて5年以上、32ビットマイクロコントローラーに関する情報を検索するとき、STM32のほとんどすべての例がSPL（Standard Peripherals Library）の使用に関係していることに気付きました。 ウィキペディアからの引用： 
  
  STM32F10x標準周辺機器ライブラリ（略...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>HALおよびSPLなしのSTM32</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/337622/"> かつて5年以上、32ビットマイクロコントローラーに関する情報を検索するとき、STM32のほとんどすべての例がSPL（Standard Peripherals Library）の使用に関係していることに気付きました。 ウィキペディアからの引用： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  STM32F10x標準周辺機器ライブラリ（略してSTM32F10x SPL）は、STM32F10xファミリのマイクロコントローラ用にC言語でSTMicroelectronicsが作成したライブラリです。 マイクロコントローラーの周辺機器との作業を容易にする機能、構造、マクロが含まれています。 </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     現在、STM32CUBEを使用してエントリのしきい値を下げ、開発を高速化することが提案されています。  STMウェブサイトからの引用： <blockquote> 以下を含むSTM32Cube組み込みソフトウェアライブラリ： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      HALハードウェアアブストラクションレイヤー。標準化されたAPI呼び出しを介して、異なるSTM32デバイス間の移植性を実現します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Low-Layer（LL）APIは、パフォーマンスと実行時の効率の両方のために設計された、軽量で最適化されたエキスパート向けのAPIセットです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      RTOS、USBライブラリ、ファイルシステム、TCP / IPスタック、タッチセンシングライブラリまたはグラフィックライブラリ（MCUシリーズに依存）などのミドルウェアコンポーネントのコレクション </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私の意見では、ほとんどのプロジェクトでは、外部ライブラリは不要であり、標準のドキュメントを使用してマイクロコントローラレジスタへのアクセスを使用する方が簡単です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     マイクロコントローラのレジスタを使用することは、外部ライブラリのラッパーを使用するよりも複雑な方法であるという意見があります。 これが常にそうであるとは限らないことを示しようと思います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コメント付きのレジスタ初期化の例。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> 周辺機器の初期化。 </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ポート </h4>  。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     多くのプロジェクトでは、コントローラーの対応する脚をオンまたはオフにして、アナログ値を読み取るだけです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ポートの有効化：1行のコード： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs markdown">//  A<span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span><span class="hljs-strong"><span class="hljs-strong">*****</span></span> RCC-&gt;AHB1ENR |= RCC<span class="hljs-emphasis"><span class="hljs-emphasis">_AHB1ENR_</span></span>GPIOAEN;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ポートAの0ピンのアナログモード2行への変換： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs erlang-repl"> //PA0 - PA0/ADC1_ADC2_ADC3_IN0 // GPIO_Pin_0  A   GPIOA-&gt;MODER |= GPIO_MODER_MODER0_0; GPIOA-&gt;MODER |= GPIO_MODER_MODER0_1;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ポートAの2つのピンを終了モード（プッシュプル）1行にする： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs erlang-repl">GPIOA-&gt;MODER |= GPIO_MODER_MODER2_0;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     代替機能の使用もそれほど難しくありません。 多くの場合、ハーフブリッジコンバーターの制御にはマイクロコントローラーが使用されます。 これを行うには、対応するポートピンを相補PWM出力として設定します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CH1カウンターTIM1（3ライン）のPWM出力としてのポートAの出力8の​​決定： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby"> /<span class="hljs-regexp"><span class="hljs-regexp">/PA8/</span></span>TIM1_CH1 /<span class="hljs-regexp"><span class="hljs-regexp">/ Alternate function mode GPIOA-&gt;MODER &amp;= ~GPIO_MODER_MODER8_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 GPIOA-&gt;MODER |= GPIO_MODER_MODER8_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/GPIO alternate function high register (GPIOx_AFRL) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/AFR8[3:0] = 0001: AF1 GPIOA -&gt; AFR[1] |= 0x00000001;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CH1N TIM1カウンターのPWM出力としてのポートBの出力13の決定： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">/PB13/</span></span>TIM1_CH1N /<span class="hljs-regexp"><span class="hljs-regexp">/ Alternate function mode GPIOB-&gt;MODER &amp;= ~GPIO_MODER_MODER13_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 GPIOB-&gt;MODER |= GPIO_MODER_MODER13_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/GPIO alternate function high register (GPIOx_AFRL) /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/AFR13[3:0] = 0001: AF1 GPIOB -&gt; AFR[1] |= 0x00100000;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     論理的な質問：必要なレジスタとビットの指定はどこで入手できますか？ 回答：3つのドキュメント（たとえば、746）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1.リファレンスマニュアルSTM32F7.pdf 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      2. STM32F745xx.pdf 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3. stm32f746xx.h 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これら3つのファイルは、マイクロコントローラーのすべてのレジスターに正しくアクセスするのに十分です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  ADC </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      DMAモードで動作するためのADC初期化の例。 このモードでは、ADC2の4つのチャネルが自動的に円形に切り替わり、データをアレイに追加するDMAコントローラーにデータを送信します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">void</span></span> init_ADC1(<span class="hljs-type"><span class="hljs-type">void</span></span>) { RCC-&gt;APB2ENR |= RCC_APB2ENR_ADC1EN; //   ADC1-&gt;CR2 |= ADC_CR2_ADON; //  ADC1-&gt;CR1 |= ADC_CR1_EOCIE; ADC1-&gt;CR1 |= ADC_CR1_SCAN; // <span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> SCAN: Scan mode ADC1-&gt;CR2 |= ADC_CR2_EOCS; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> EOCS: <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> selection ADC1-&gt;CR2 |= ADC_CR2_DMA; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> DMA: Direct memory <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> mode (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> single ADC mode) ADC1-&gt;CR2 |= ADC_CR2_DDS; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> DDS: DMA <span class="hljs-keyword"><span class="hljs-keyword">disable</span></span> selection (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> single ADC mode //Bits <span class="hljs-number"><span class="hljs-number">23</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span> L[<span class="hljs-number"><span class="hljs-number">3</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: Regular channel <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> length (<span class="hljs-number"><span class="hljs-number">4</span></span>) //<span class="hljs-number"><span class="hljs-number">0003</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> ADC1-&gt;SQR1 |= ADC_SQR1_L_0; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR1 |= ADC_SQR1_L_1; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR1 &amp;= ~ADC_SQR1_L_2; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR1 &amp;= ~ADC_SQR1_L_3; //<span class="hljs-number"><span class="hljs-number">0</span></span> //Bits <span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> SQ1[<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: <span class="hljs-number"><span class="hljs-number">1</span></span>st <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> regular <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> PC0/ADC1_ADC2_ADC3_IN10 ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ1_0; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ1_1; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ1_2; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ1_3; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ1_4; //<span class="hljs-number"><span class="hljs-number">0</span></span> //Bits <span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> SQ2[<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: <span class="hljs-number"><span class="hljs-number">2</span></span>st <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> regular <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> PC1/ADC1_ADC2_ADC3_IN11 ADC1-&gt;SQR3 |= ADC_SQR3_SQ2_0; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ2_1; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ2_2; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ2_3; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ2_4; //<span class="hljs-number"><span class="hljs-number">0</span></span> //Bits <span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> SQ3[<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: <span class="hljs-number"><span class="hljs-number">3</span></span>st <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> regular <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> PC2/ADC1_ADC2_ADC3_IN12 ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ3_0; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ3_1; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ3_2; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ3_3; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ3_4; //<span class="hljs-number"><span class="hljs-number">0</span></span> //Bits <span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span> SQ4[<span class="hljs-number"><span class="hljs-number">4</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: <span class="hljs-number"><span class="hljs-number">4</span></span>st <span class="hljs-keyword"><span class="hljs-keyword">conversion</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> regular <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> PC3/ADC1_ADC2_ADC3_IN13 ADC1-&gt;SQR3 |= ADC_SQR3_SQ4_0; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ4_1; //<span class="hljs-number"><span class="hljs-number">0</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ4_2; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 |= ADC_SQR3_SQ4_3; //<span class="hljs-number"><span class="hljs-number">1</span></span> ADC1-&gt;SQR3 &amp;= ~ADC_SQR3_SQ4_4; //<span class="hljs-number"><span class="hljs-number">0</span></span> NVIC_EnableIRQ (ADC_IRQn); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  RAP </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADCからアレイへのデータ転送用の1つのDAPストリームの初期化（上記参照） 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby"> /<span class="hljs-regexp"><span class="hljs-regexp">/ DMA2 RCC-&gt;AHB1ENR |= RCC_AHB1ENR_DMA2EN; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Stream3 Channel 1 DMA2 -   ADC2_array 2 a /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 27:25 CHSEL[2:0]: Channel selection (1) DMA2_Stream3-&gt;CR |= DMA_SxCR_CHSEL_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1 DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_CHSEL_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_CHSEL_2; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 14:13 MSIZE[1:0]: Memory data size (16 bit) DMA2_Stream3-&gt;CR |= DMA_SxCR_MSIZE_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1 DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_MSIZE_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 12:11 PSIZE[1:0]: Peripheral data size (16 bit) DMA2_Stream3-&gt;CR |= DMA_SxCR_PSIZE_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1 DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_PSIZE_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 10 MINC: Memory increment mode DMA2_Stream3-&gt;CR |= DMA_SxCR_MINC; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 7:6 DIR[1:0]: Data transfer direction (00: Peripheral-to-memory) DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_DIR_0; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 DMA2_Stream3-&gt;CR &amp;= ~DMA_SxCR_DIR_1; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/0 /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 4 TCIE: Transfer complete interrupt enable DMA2_Stream3-&gt;CR |= DMA_SxCR_TCIE; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 15:0 NDT[15:0]: Number of data items to transfer /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/1000 point x 4 channel DMA2_Stream3-&gt; NDTR = 4000; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 31:0 PAR[31:0]: Peripheral address DMA2_Stream3-&gt;PAR = (uint32_t) &amp;(ADC2-&gt;DR); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 31:0 M0A[31:0]: Memory 0 address DMA2_Stream3-&gt;M0AR = (uint32_t) ADC2_array; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/Bits 0 EN: Stream enable /</span></span> flag stream ready <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> read low DMA2_Stream3-&gt;CR <span class="hljs-params"><span class="hljs-params">|= DMA_SxCR_EN; NVIC_EnableIRQ (DMA2_Stream0_IRQn);</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> タイマー </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      3つのハーフブリッジ（3相インバーター）を制御するための相補的な12ビットPWM出力を備えたタイマー構成の例 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs erlang-repl"> // TIM1 PWM RCC -&gt; APB2ENR |= RCC_APB2ENR_TIM1EN; // TIM1 TIM1-&gt;CR1 |= TIM_CR1_CMS_0; //Center-aligned mode <span class="hljs-number"><span class="hljs-number">1</span></span> TIM1-&gt;CR1 |= TIM_CR1_ARPE; //  // <span class="hljs-number"><span class="hljs-number">8</span></span>   <span class="hljs-number"><span class="hljs-number">4000</span></span> - <span class="hljs-number"><span class="hljs-number">3000</span></span>  //  <span class="hljs-number"><span class="hljs-number">108</span></span>  TIM1-&gt;PSC = <span class="hljs-number"><span class="hljs-number">8</span></span>; TIM1-&gt;ARR = <span class="hljs-number"><span class="hljs-number">4000</span></span>; TIM1-&gt;CCR1 = <span class="hljs-number"><span class="hljs-number">1000</span></span>; //  TIM1-&gt;CCR2 = <span class="hljs-number"><span class="hljs-number">1000</span></span>; TIM1-&gt;CCR3 = <span class="hljs-number"><span class="hljs-number">1000</span></span>; TIM1-&gt;CCMR1 &amp;= ~TIM_CCMR1_OC1M_0; TIM1-&gt;CCMR1 |= TIM_CCMR1_OC1M_1; TIM1-&gt;CCMR1 |= TIM_CCMR1_OC1M_2; //<span class="hljs-number"><span class="hljs-number">110</span></span>: PWM mode <span class="hljs-number"><span class="hljs-number">1</span></span> TIM1-&gt;CCMR1 &amp;= ~TIM_CCMR1_OC2M_0; TIM1-&gt;CCMR1 |= TIM_CCMR1_OC2M_1; TIM1-&gt;CCMR1 |= TIM_CCMR1_OC2M_2; //<span class="hljs-number"><span class="hljs-number">110</span></span>: PWM mode <span class="hljs-number"><span class="hljs-number">1</span></span> TIM1-&gt;CCMR2 &amp;= ~TIM_CCMR2_OC3M_0; TIM1-&gt;CCMR2 |= TIM_CCMR2_OC3M_1; TIM1-&gt;CCMR2 |= TIM_CCMR2_OC3M_2; //<span class="hljs-number"><span class="hljs-number">110</span></span>: PWM mode <span class="hljs-number"><span class="hljs-number">1</span></span> TIM1-&gt;CCER |= TIM_CCER_CC1E; // Capture/Compare <span class="hljs-number"><span class="hljs-number">1</span></span> output enable TIM1-&gt;CCER |= TIM_CCER_CC1NE; // Capture/Compare <span class="hljs-number"><span class="hljs-number">1</span></span> complementary output enable TIM1-&gt;CCER |= TIM_CCER_CC2E; // Capture/Compare <span class="hljs-number"><span class="hljs-number">2</span></span> output enable TIM1-&gt;CCER |= TIM_CCER_CC2NE; // Capture/Compare <span class="hljs-number"><span class="hljs-number">2</span></span> complementary output enable TIM1-&gt;CCER |= TIM_CCER_CC3E; // Capture/Compare <span class="hljs-number"><span class="hljs-number">3</span></span> output enable TIM1-&gt;CCER |= TIM_CCER_CC3NE; // Capture/Compare <span class="hljs-number"><span class="hljs-number">3</span></span> complementary output enable //DTG[<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>]: Dead-time generator setup <span class="hljs-number"><span class="hljs-number">1</span></span> mks TIM1-&gt;BDTR |= TIM_BDTR_DTG_0; TIM1-&gt;BDTR |= TIM_BDTR_DTG_1; TIM1-&gt;BDTR |= TIM_BDTR_DTG_2; TIM1-&gt;BDTR |= TIM_BDTR_DTG_3; TIM1-&gt;BDTR |= TIM_BDTR_DTG_4; TIM1-&gt;BDTR |= TIM_BDTR_DTG_5; TIM1-&gt;BDTR |= TIM_BDTR_DTG_6; TIM1-&gt;BDTR |= TIM_BDTR_DTG_7; TIM1-&gt;DIER |= TIM_DIER_CC1IE; //Capture/Compare <span class="hljs-number"><span class="hljs-number">1</span></span> interrupt enable //TIM1-&gt;DIER |= TIM_DIER_CC2IE; //Capture/Compare <span class="hljs-number"><span class="hljs-number">2</span></span> interrupt enable //TIM1-&gt;DIER |= TIM_DIER_CC3IE; //Capture/Compare <span class="hljs-number"><span class="hljs-number">3</span></span> interrupt enable TIM1-&gt;CR1 |= TIM_CR1_CEN; //Bit <span class="hljs-number"><span class="hljs-number">0</span></span> CEN: Counter enable TIM1-&gt;BDTR |= TIM_BDTR_MOE; //MOE: Main output enable NVIC_EnableIRQ (TIM1_CC_IRQn); //   </code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     時間割り込みを生成するためのタイマー構成の例。 通常、このタイマーからの割り込みは、インターフェイス上のデータを更新するために使用されます。 このモードでは、外部タイマー出力は使用されません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"> // TIM3 <span class="hljs-number"><span class="hljs-number">100</span></span>  RCC -&gt; APB1ENR |= RCC_APB1ENR_TIM3EN; //TIM3 Timer clock <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> TIM3-&gt;CR1 |= TIM_CR1_CEN; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> CEN: Counter <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> TIM3-&gt;CR1 |= TIM_CR1_ARPE; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> ARPE: Auto-reload preload <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> TIM3-&gt;DIER |= TIM_DIER_UIE; //<span class="hljs-type"><span class="hljs-type">Bit</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> UIE: <span class="hljs-keyword"><span class="hljs-keyword">Update</span></span> interrupt <span class="hljs-keyword"><span class="hljs-keyword">enable</span></span> TIM3-&gt;PSC = <span class="hljs-number"><span class="hljs-number">2000</span></span>; TIM3-&gt;ARR = <span class="hljs-number"><span class="hljs-number">5400</span></span>; NVIC_EnableIRQ (TIM3_IRQn); //   </code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらの構成ファイルは、ほとんど変更されずに長期間使用されます。 まだ103コントローラーで開始されましたが、現在は7番目のシリーズで使用されています:) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     もちろん、ADC、タイマー、およびDAPの初期化はポートよりも少し複雑ですが、それも簡単なタスクです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     外部ライブラリ、よりコンパクトなコード、より予測可能なコントローラーの動作を使用しません。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J337606/index.html">3にカウント：4</a></li>
<li><a href="../J337614/index.html">職場管理：欧州裁判所の新しい判決</a></li>
<li><a href="../J337616/index.html">PHP Digest No. 116-最新ニュース、資料、ツール（2017年8月27日-9月10日）</a></li>
<li><a href="../J337618/index.html">Sailfish OSでのD-Busシステム機能の使用</a></li>
<li><a href="../J337620/index.html">10年後にどのように、またはどこで働くか</a></li>
<li><a href="../J337626/index.html">KubernetesおよびVSTSを使用したDevOps。 パート1：地域の歴史</a></li>
<li><a href="../J337630/index.html">AMDはIntelをサーバーソリューション市場にプッシュする準備をしています</a></li>
<li><a href="../J337632/index.html">PostgreSQL：マテリアライズドビューとFDW</a></li>
<li><a href="../J337640/index.html">調査：製品の作成者は、ユーザー調査を実施するためにさらに学ぶ必要がありますか？</a></li>
<li><a href="../J337642/index.html">OpenGLを学びます。 レッスン2.5-光源</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>