<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦏 🍶 👩🏾 AMFの例としてシリアライザーを使用したC＃でのマッピング ⚱️ 👩‍👦‍👦 👐🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="友人の挨拶。 今日は、C＃でのマッピングの実装と、AMFデータをサーバーに送信する例を使用して実際の問題を解決する際のこの実装の適用について説明します。 以下のすべては、アルゴリズムの実装およびコード設計のパターンの標準を装うものではありません。これは、初心者には常に明らかではない多くのソリューショ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>AMFの例としてシリアライザーを使用したC＃でのマッピング</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/320446/"> 友人の挨拶。 今日は、C＃でのマッピングの実装と、AMFデータをサーバーに送信する例を使用して実際の問題を解決する際のこの実装の適用について説明します。 以下のすべては、アルゴリズムの実装およびコード設計のパターンの標準を装うものではありません。これは、初心者には常に明らかではない多くのソリューションの1つの説明にすぎません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事を学習する過程で、独自の<b>属性</b>を実装し、それらを適用する<b>方法を</b>学び、実際<b>に型拡張</b>の<b>方法</b>と<b>リフレクション</b>の適用に精通し、 <b>MSIL</b>の<b>基本</b> 、特に<b>OpCodeの</b> <b>基本、</b>および<b>AMFでオブジェクト</b>を<b>シリアル化する</b>方法を学び<b>ますスレッドを使用し</b>ます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 問題の声明 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、この記事で解決する必要があるタスクのおおよそのリストを作成しましょう。 次のようにします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 任意のタイプのサーバーデータをC＃コードで記述し、それらを便利に操作する機能。 </li><li> 任意のタイプのシリアル化/逆シリアル化の可能性（私たちが説明したものとそうでないものの両方）; </li><li> サーバー自体にデータを送信するメカニズム。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事のフレームワークでは、何らかの既製の抽象サーバーを使用します（ユーザーの場合、これは非常に実際に機能するサーバーであり、ユーザーの参加なしに実装されます）。 サーバー側がFlexで記述されていることがわかっていると仮定すると、AMFオブジェクトを送信する必要がある直接リンクも既に受信しています。  AMF自体を直接操作するために、サーバー側とクライアント側の両方でFlexサポートを整理するために必要なすべてのツールを提供する素晴らしい<a href="https://www.nuget.org/packages/fluorinefx/">FluorineFX</a>フレームワークがあります。 しかし、問題は、オブジェクトをサーバーに送信する非常に待たれた瞬間になると、FluorineFXがマッピングのための便利な手段を提供せず、サーバーに送信されるすべてのオブジェクトが元のタイプメタデータで飛行することです。 実際、クライアント側とサーバー側の作成者であれば、これはまったく問題ではありませんが、カスタム構造を持つデータパケットを送信する必要がある場合はどうでしょうか。  1 in 1名前空間と型名を繰り返すことは必ずしも便利ではありません（時には不可能な場合もあります）。 少しグーグルで、近くで完全に機能する<a href="https://habrahabr.ru/post/111041/">ソリューション</a>を見つけます。 その主な長所と短所をすぐに検討してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     長所： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>スピード。</b>  FluorineFXのソースコードを直接変更し、収集してお楽しみください。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     短所： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>サポート。</b> チームで作業する場合、チーム開発のすべての参加者がソースFluorineFXを常に利用できるようにし、常に関連性を維持する必要があります。 これには、より多くのプロジェクトコードが必要であるため、サポートに時間がかかります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li>  <b>更新。</b>  FluorineFXの新しいバージョンがリリースされた場合、最大限の互換性を維持しながら、ソースコード全体を再更新して変更する必要があります。これは非常に不便です。 ここで、おそらく、唯一のプラスのポイントは、更新から常に新しい機能が必要になる可能性があり、フレームワーク自体がめったに更新されないことです。 しかし、最適なワークフロー（および別の問題を解決するときに同様の状況が発生する可能性がある場合）の場合、この点は非常に重要です。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この決定の不利益に恥ずかしくない人のために、以下のすべての資料は必要ではないかもしれません。 私と一緒に回ってより柔軟なソリューションを見つけることにした人にとって、以下の資料は非常に興味深いものになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 属性を操作する </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般に、 <a href="https://habrahabr.ru/post/111041/">ソリューションで</a>説明されているアプローチは正しい方向に進みます。 マッピング自体は、タイプメタデータのレベルでのある種のバインディングを意味します。これには属性が必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、AMFでのシリアル化のために型を準備するときに、型がどのように見えるかについて大まかな説明を書きましょう。 次の機能を提供します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 属性が指定されている型は、属性プロパティで指定された名前でシリアル化されます。 </li><li> 属性が指定されていない型（またはプロパティがnullである属性）は、元のアセンブリで定義された型の元の名前でシリアル化されます。 </li><li> 属性が設定されているプロパティおよびタイプフィールドは、属性プロパティで指定された名前でシリアル化されます。 </li><li> 属性が設定されているが属性プロパティがnullであるプロパティと型フィールドは、元のアセンブリで定義された元の型名でシリアル化されます。 </li><li> 属性が指定されていないプロパティおよび型フィールドは、シリアル化プロセスに参加せず、最終型のメンバーの一部ではありません。 </li><li> 辞書は、AMF連想配列としてシリアル化する必要があります。 </li><li> 配列型はすべて、AMFオブジェクトの配列としてシリアル化する必要があります。 </li><li> 組み込み型は、AMFオブジェクトの組み込み型としてシリアル化する必要があります。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     属性クラスを実装することから始めましょう。 オブジェクトタイプとフィールドタイプとオブジェクトプロパティに単一の属性を書き込むことができます（ <a href="https://habrahabr.ru/post/111041/">ソリューション</a>と同様）が、タイプとタイプメンバーに個別の属性を実装することをお勧めします。これは、異なるインスタンスのタイプからメタデータを処理するロジックを分離する必要があるときに便利です。 まず、オブジェクトタイプの属性クラスを実装します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///      AMF. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AttributeUsage(AttributeTargets.<span class="hljs-keyword"><span class="hljs-keyword">Class</span></span> | AttributeTargets.Struct)] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AmfObjectAttribute : <span class="hljs-keyword"><span class="hljs-keyword">Attribute</span></span> { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///   . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-type"><span class="hljs-type">Name</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     &lt;see cref="AmfObjectAttribute"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="name"&gt;  .&lt;/param&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> AmfObjectAttribute(string <span class="hljs-type"><span class="hljs-type">name</span></span>) { <span class="hljs-type"><span class="hljs-type">Name</span></span> = <span class="hljs-type"><span class="hljs-type">name</span></span>; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     &lt;see cref="AmfObjectAttribute"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> AmfObjectAttribute() : this(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     属性の実装におけるいくつかの重要なポイント： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> すべての属性は<b>System.Attribute</b>クラスから継承する必要があります。 </li><li>  AttributeUsageAttribute <b>属性は</b> 、属性のスコープを決定するために必要です。 その助けにより、実装された属性が適用されるメタデータのタイプを設定および除外することができます。 </li><li> デフォルトのコンストラクターを指定しない場合、パラメーターを持つオーバーロードされたコンストラクターを介してのみ、初期化時に明示的に属性プロパティに値を割り当てることができません。 </li><li> 属性タイプを指定する場合、サフィックス<i>... Attribute</i>は省略できます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>AmfObjectAttribute</b>属性は、オブジェクトタイプに適用されます。 この属性を使用すると、シリアル化されたオブジェクトの<b>型名</b>は<b>AmfObjectAttribute</b>プロパティで指定された値と一致します<b>。</b>  <b><i>Name</i></b> 、プロパティ値がnullの場合、シリアル化されたオブジェクトは元の型名を保持します。 この属性でマークされていない型のオブジェクトをシリアル化する可​​能性を実現するために、意図的に型の属性の存在を確認しませんでした。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、タイプのプロパティとフィールドの属性クラスを実装します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///          AMF. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AttributeUsage(AttributeTargets.Property | AttributeTargets.Field)] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AmfMemberAttribute : <span class="hljs-keyword"><span class="hljs-keyword">Attribute</span></span> { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-type"><span class="hljs-type">Name</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     &lt;see cref="AmfMemberAttribute"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="name"&gt;   .&lt;/param&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> AmfMemberAttribute(string <span class="hljs-type"><span class="hljs-type">name</span></span>) { <span class="hljs-type"><span class="hljs-type">Name</span></span> = <span class="hljs-type"><span class="hljs-type">name</span></span>; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     &lt;see cref="AmfMemberAttribute"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> AmfMemberAttribute() : this(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     属性の実装を理解したので、特定のデータモデルを記述する単純なクラスを作成しましょう。 将来的には、テストに使用します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///   AMF-  .         "namespase.of.your.object". /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AmfObject("namespase.of.your.object")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> CustomAmfObject { /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="bool"/&gt;.       "bit_prop". /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AmfMember("bit_prop")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">bool</span></span> BooleanProperty { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="sbyte"/&gt;.       UnsignedByteProperty. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AmfMember] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sbyte UnsignedByteProperty { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } = <span class="hljs-number"><span class="hljs-number">2</span></span>; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="string"/&gt;.    . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string StringProperty { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } = "test"; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="bool"/&gt;.       "bit_fld". /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AmfMember("bit_fld")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">bool</span></span> booleanField = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="float"/&gt;.       singleField. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AmfMember] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">float</span></span> singleField = <span class="hljs-number"><span class="hljs-number">-5.00065</span></span>f; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    &lt;see cref="string"/&gt;.    . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string stringField = "test2"; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     &lt;see cref="CustomAmfObject"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> CustomAmfObject() { } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     属性が書き込まれ、テストクラスが実装されます。 ここで、シリアル化自体の問題の解決を開始する必要があります。  .NET 2.0のサポートを計画している場合は、オブジェクトインスタンスで動作し、そのタイプのメタデータでさまざまな操作を実行するシリアライザークラスを実装する必要があります。  C＃-engineerの2つの非常に重要な機能が登場したため、バージョン.NET 3.5のサポートを考慮してコードを記述します：LINQと型拡張メソッド。 問題を解決するためにそれらを適用します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 拡張メソッドとリフレクション </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     型拡張メソッドを実装するには、パブリック静的クラスを宣言し、this修飾子を最初のパラメーターに追加するだけで十分です。 これらの条件は必須です。それ以外の場合、コンパイラはメソッドが型の拡張であることを単に理解しません。 実装後、このメソッドは、同じタイプのオブジェクト、または拡張メソッドの最初のパラメーターのタイプから継承されたオブジェクトに適用できます。 拡張メソッドの独自のクラスを作成しましょう： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///       /  AMF. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Extensions { }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、コードを再利用するためにいくつかのヘルパーメソッドが必要になります。  .NET 4.5では、 <b>Attribute</b> <b>Type</b> <i>.GetCustomAttribute（ <b>Type</b> ）</i>メソッドが導入されました。これにより、指定したタイプの属性をすぐに取得できます。  .NET 3.5では、これはまだではないので、属性を使用して便利に作業するための拡張メソッドをいくつか実装します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;typeparam <span class="hljs-type"><span class="hljs-type">name</span></span>="T"&gt;  .&lt;/typeparam&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceType"&gt;   .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; private static T GetAttribute&lt;T&gt;(this <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> sourceType) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">Attribute</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] attributes = sourceType.GetCustomAttributes(typeof(T), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); //   . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (attributes == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || attributes.Length == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(T); //        -  <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> attributes[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///    . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;typeparam <span class="hljs-type"><span class="hljs-type">name</span></span>="T"&gt;  .&lt;/typeparam&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceMember"&gt;   .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; private static T GetAttribute&lt;T&gt;(this MemberInfo sourceMember) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">Attribute</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] attributes = sourceMember.GetCustomAttributes(typeof(T), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); //   . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (attributes == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || attributes.Length == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(T); //        -  <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> attributes[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T; } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// ,     . /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;typeparam <span class="hljs-type"><span class="hljs-type">name</span></span>="T"&gt; .&lt;/typeparam&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceType"&gt;  .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; private static <span class="hljs-type"><span class="hljs-type">bool</span></span> IsDefinedAttribute&lt;T&gt;(this <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> sourceType) { <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] attributes = sourceType.GetCustomAttributes(typeof(T), <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>); //   . <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> attributes != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; attributes.Length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     各シリアル化手順では、指定された属性によって型が生成されます。 シリアル化メソッドの呼び出しごとに多くの操作を繰り返さないために、作成後に動的アセンブリにメタデータを格納する可能性をすぐに考えてみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;summary&gt; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/summary&gt; private static ModuleBuilder moduleBuilder; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;summary&gt; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    &lt;see cref="Extensions"/</span></span>&gt;. /<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/summary&gt; static Extensions() { AssemblyName assemblyName = new AssemblyName("AmfDynamicAssembly"); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . AssemblyBuilder assemblyBuilder = AppDomain.CurrentDomain.DefineDynamicAssembly(assemblyName, AssemblyBuilderAccess.RunAndSave); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . moduleBuilder = assemblyBuilder.DefineDynamicModule(assemblyName.Name, assemblyName.Name + ".dll"); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、すべてのタイプについて、独自の単一の動的アセンブリが作成され、メタデータが保存されます。 属性のデータに基づいて型生成アルゴリズムを実装するときが来ました。 最初に、アルゴリズムの各ステップをステップごとに実行してから、メソッドの完全なリストを提供します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      「リフレクション」（「リフレクション」でもあり、「リフレクション」でもある）の概念は、タイプのメタデータを使用した操作に基づいています。 実際、ここではすべてがシンプルです。 コンパイラによってコードに記述された型を作成するプロセスを繰り返す必要がありますが、独自のコードを使用します。 基礎として、既知のソースオブジェクトのタイプのメタデータと、もしあれば属性からのデータを取得します。 また、生成された型のオブジェクトのインスタンスへの参照を初期化するデフォルトのコンストラクタを実装する必要があります。  <b>ModuleBuilder.TypeBuilder</b>クラスを使用して、必要なすべての操作を実行できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>TypeBuilder</b>を使用してタイプを決定し<b>ます</b> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs vbscript">TypeBuilder typeBuilder = moduleBuilder.DefineType(<span class="hljs-built_in"><span class="hljs-built_in">typeName</span></span>, TypeAttributes.<span class="hljs-keyword"><span class="hljs-keyword">Public</span></span>);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>FieldBuilder</b>を使用してフィールドを定義する： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs">FieldBuilder fieldBuilder = typeBuilder.DefineField(<span class="hljs-string"><span class="hljs-string">$"m_</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{propertyName}</span></span></span><span class="hljs-string">"</span></span>, propertyType, FieldAttributes.Private);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>PropertyBuilder</b>を使用してプロパティを定義します。 ここでは、プライベートフィールドと、それにアクセスするためのアクセサーとミューテーターを定義する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">PropertyBuilder propertyBuilder = typeBuilder.DefineProperty(propertyName, PropertyAttributes.HasDefault, propertyType, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); //   . MethodAttributes getSetAttr = MethodAttributes.<span class="hljs-built_in"><span class="hljs-built_in">Public</span></span> | MethodAttributes.SpecialName | MethodAttributes.HideBySig; //      . MethodBuilder methodBuilderAccessor = typeBuilder.DefineMethod($"get_{propertyName}", getSetAttr, propertyType, <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>.EmptyTypes); //  . ILGenerator accessorIL = methodBuilderAccessor.GetILGenerator(); //     MSIL-  . accessorIL.Emit(OpCodes.Ldarg_0); //      . accessorIL.Emit(OpCodes.Ldfld, fieldBuilder); //           . accessorIL.Emit(OpCodes.Ret); //         . MethodBuilder methodBuilderSetter = typeBuilder.DefineMethod($"set_{propertyName}", getSetAttr, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>[] { propertyType }); //  . ILGenerator setterIL = methodBuilderSetter.GetILGenerator(); //     MSIL-  . setterIL.Emit(OpCodes.Ldarg_0); //      . setterIL.Emit(OpCodes.Ldarg_1); //      . setterIL.Emit(OpCodes.Stfld, fieldBuilder); //           . setterIL.Emit(OpCodes.Ret); //         . propertyBuilder.SetGetMethod(methodBuilderAccessor); //   . propertyBuilder.SetSetMethod(methodBuilderSetter); //   .</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>ConstructorBuilder</b>を使用してデフォルトコンストラクターを定義する： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">ConstructorBuilder ctor = typeBuilder.DefineConstructor(MethodAttributes.<span class="hljs-built_in"><span class="hljs-built_in">Public</span></span>, CallingConventions.Standard, <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>.EmptyTypes); //  . ILGenerator ctorIL = ctor.GetILGenerator(); //     MSIL-  . ctorIL.Emit(OpCodes.Ldarg_0); //      . ctorIL.Emit(OpCodes.<span class="hljs-keyword"><span class="hljs-keyword">Call</span></span>, typeof(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>).GetConstructor(<span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>.EmptyTypes)); //           . ctorIL.Emit(OpCodes.Ret); //         .</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Activator</b>を使用して、生成されたばかりのタイプのオブジェクトの新しいインスタンスを初期化します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">object</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">targetObject</span></span></span><span class="hljs-class"> </span></span>= <span class="hljs-type"><span class="hljs-type">Activator</span></span>.<span class="hljs-type"><span class="hljs-type">CreateInstance</span></span>(typeBuilder.<span class="hljs-type"><span class="hljs-type">CreateType</span></span>());</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべてのメソッドメタデータコレクターには、 <b>ILGenerator</b>インスタンスを返す<i>GetILGenerator（）</i>メソッドがあります<i>（</i>これにより、目的のステートメントのシーケンスを実行のためにMSIL計算スタックに配置できます）。  <b>OpCodes</b>から渡すIL命令のセットは、説明したメソッドのロジックの動作を直接決定します。 この記事では、リフレクションのトピックについて表面的に触れていますが、これは既に別の記事の機会です。さらに、公式のMSDNドキュメントの指示の全リストをいつでも読むことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     型メタデータを動的に生成するためのロジックを記述するために必要なものはすべて揃っています。 生成された型のプロパティとフィールドもシリアル化属性を持つことができるという事実をすぐに考慮してください。再帰は実装に適用できます。 オブジェクトに一致するタイプ名の属性がない場合は、そのまま返します。 動的アセンブリに既にタイプのメタデータがある場合、それらに基づいてオブジェクトインスタンスを収集します。 これはすべて最適化に役立ちます。 必要なすべてのチェックと手順を含む、生成方法の完全なリストは次のとおりです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;summary&gt; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/           &lt;see cref="AmfObjectAttribute"/</span></span>&gt;,   ,    &lt;see cref=<span class="hljs-string"><span class="hljs-string">"AmfMemberAttribute"</span></span>/&gt;. /<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/summary&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;param name=<span class="hljs-string"><span class="hljs-string">"sourceObject"</span></span>&gt;  .&lt;<span class="hljs-regexp"><span class="hljs-regexp">/param&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;returns&gt;&lt;<span class="hljs-regexp"><span class="hljs-regexp">/returns&gt; private static object GenerateType&lt;T&gt;(T sourceObject) { Type sourceType = sourceObject.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . if (sourceType.IsDictionary()) return GenerateType(sourceObject as IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;); if (!sourceType.IsDefinedAttribute&lt;AmfObjectAttribute&gt;()) return sourceObject; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        -   . string typeName = sourceType.GetAttribute&lt;AmfObjectAttribute&gt;().Name ?? sourceType.FullName; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . Type definedType = moduleBuilder.GetType(typeName); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       . TypeBuilder typeBuilder = null; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . Dictionary&lt;string, object&gt; properties = new Dictionary&lt;string, object&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Dictionary&lt;string, object&gt; fields = new Dictionary&lt;string, object&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       ... if (definedType == null) { typeBuilder = moduleBuilder.DefineType(typeName, TypeAttributes.Public); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . ConstructorBuilder ctor = typeBuilder.DefineConstructor(MethodAttributes.Public, CallingConventions.Standard, Type.EmptyTypes); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  . ILGenerator ctorIL = ctor.GetILGenerator(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     MSIL-  . ctorIL.Emit(OpCodes.Ldarg_0); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . ctorIL.Emit(OpCodes.Call, typeof(object).GetConstructor(Type.EmptyTypes)); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/           . ctorIL.Emit(OpCodes.Ret); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (PropertyInfo propertyInfo in sourceType.GetProperties()) { AmfMemberAttribute attribute = propertyInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      AmfMemberAttribute. if (attribute == null) continue; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     -  . string propertyName = attribute.Name ?? propertyInfo.Name; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . object propertyValue = propertyInfo.GetValue(sourceObject, null); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Type propertyType = propertyInfo.PropertyType; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        ... if (propertyInfo.PropertyType.IsDefinedAttribute&lt;AmfObjectAttribute&gt;() || propertyType.IsDictionary()) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,   . propertyValue = propertyType.IsDictionary() ? GenerateType(propertyValue as IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenerateType(propertyValue); propertyType = propertyValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } FieldBuilder fieldBuilder = typeBuilder.DefineField($"m_{propertyName}", propertyType, FieldAttributes.Private); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . PropertyBuilder propertyBuilder = typeBuilder.DefineProperty(propertyName, PropertyAttributes.HasDefault, propertyType, null); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . MethodAttributes getSetAttr = MethodAttributes.Public | MethodAttributes.SpecialName | MethodAttributes.HideBySig; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . MethodBuilder methodBuilderAccessor = typeBuilder.DefineMethod($"get_{propertyName}", getSetAttr, propertyType, Type.EmptyTypes); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  . ILGenerator accessorIL = methodBuilderAccessor.GetILGenerator(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     MSIL-  . accessorIL.Emit(OpCodes.Ldarg_0); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . accessorIL.Emit(OpCodes.Ldfld, fieldBuilder); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/           . accessorIL.Emit(OpCodes.Ret); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . MethodBuilder methodBuilderSetter = typeBuilder.DefineMethod($"set_{propertyName}", getSetAttr, null, new Type[] { propertyType }); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  . ILGenerator setterIL = methodBuilderSetter.GetILGenerator(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     MSIL-  . setterIL.Emit(OpCodes.Ldarg_0); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . setterIL.Emit(OpCodes.Ldarg_1); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . setterIL.Emit(OpCodes.Stfld, fieldBuilder); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/           . setterIL.Emit(OpCodes.Ret); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . propertyBuilder.SetGetMethod(methodBuilderAccessor); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . propertyBuilder.SetSetMethod(methodBuilderSetter); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . properties.Add(propertyName, propertyValue); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (FieldInfo fieldInfo in sourceType.GetFields()) { AmfMemberAttribute attribute = fieldInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      AmfMemberAttribute. if (attribute == null) continue; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     -  . string fieldName = attribute.Name ?? fieldInfo.Name; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . object fieldValue = fieldInfo.GetValue(sourceObject); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Type fieldType = fieldInfo.FieldType; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        ... if (fieldInfo.FieldType.IsDefinedAttribute&lt;AmfObjectAttribute&gt;() || fieldType.IsDictionary()) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,   . fieldValue = fieldType.IsDictionary() ? GenerateType(fieldValue as IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenerateType(fieldValue); fieldType = fieldValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } typeBuilder.DefineField(fieldName, fieldType, FieldAttributes.Public); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . fields.Add(fieldName, fieldValue); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . } } else { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (PropertyInfo propertyInfo in sourceType.GetProperties()) { AmfMemberAttribute attribute = propertyInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      AmfMemberAttribute. if (attribute == null) continue; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     -  . string propertyName = attribute.Name ?? propertyInfo.Name; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . object propertyValue = propertyInfo.GetValue(sourceObject, null); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Type propertyType = propertyInfo.PropertyType; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . AmfObjectAttribute propertyAttribute = propertyInfo.PropertyType.GetAttribute&lt;AmfObjectAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        ... if (propertyAttribute != null || propertyType.IsDictionary()) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,   . propertyValue = propertyType.IsDictionary() ? GenerateType(propertyValue as IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenerateType(propertyValue); propertyType = propertyValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } properties.Add(propertyName, propertyValue); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (FieldInfo fieldInfo in sourceType.GetFields()) { AmfMemberAttribute attribute = fieldInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      AmfMemberAttribute. if (attribute == null) continue; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     -  . string fieldName = attribute.Name ?? fieldInfo.Name; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . object fieldValue = fieldInfo.GetValue(sourceObject); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Type fieldType = fieldInfo.FieldType; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . AmfObjectAttribute fieldAttribute = fieldInfo.FieldType.GetAttribute&lt;AmfObjectAttribute&gt;(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/        ... if (fieldAttribute != null || fieldType.IsDictionary()) { /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,   . fieldValue = fieldType.IsDictionary() ? GenerateType(fieldValue as IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenerateType(fieldValue); fieldType = fieldValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } fields.Add(fieldName, fieldValue); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . } } object targetObject = Activator.CreateInstance(definedType ?? typeBuilder.CreateType()); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (KeyValuePair&lt;string, object&gt; property in properties) targetObject.GetType().GetProperty(property.Key).SetValue(targetObject, property.Value, null); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (KeyValuePair&lt;string, object&gt; field in fields) targetObject.GetType().GetField(field.Key).SetValue(targetObject, field.Value); return targetObject; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、シリアル化中にオブジェクトの配列のメタデータが正しく保存されることを確認する必要があります。 これを行うには、型生成メソッドの基本的なオーバーロードを記述します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///            &lt;see cref="AmfObjectAttribute"/&gt;,   ,    &lt;see cref="AmfMemberAttribute"/&gt;. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceObjects"&gt;  .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; private static <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] GenerateType(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[] sourceObjects) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; sourceObjects.Length; i++) sourceObjects[i] = GenerateType(sourceObjects[i]); //      . <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sourceObjects; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、サーバーにさらに送信するために、オブジェクトと配列をAMFにシリアル化できます。 ただし、C＃にはない連想AMF配列を送信できる機能が必要です。 ここでの連想配列は、 <b>IEnumerable &lt;KeyValuePair &lt;TKey、TValue&gt;辞書の</b>さまざまな実装であり、 <b>Hashtable</b>ハッシュテーブルです。AMFは、各辞書キーを配列型のフィールドとして認識します。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> この問題の解決策を実装するために、辞書のキーと値に基づいてAMF辞書を正しく生成できる別のオーバーロードを作成します。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">/<span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;summary&gt; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ ,        .     ,             object,        ,    AMF. /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/summary&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;param name=<span class="hljs-string"><span class="hljs-string">"sourceType"</span></span>&gt; .&lt;<span class="hljs-regexp"><span class="hljs-regexp">/param&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;returns&gt;&lt;<span class="hljs-regexp"><span class="hljs-regexp">/returns&gt; private static bool IsDictionary(this Type sourceType) { Type type0 = typeof(IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;); Type type1 = typeof(IDictionary&lt;string, object&gt;); Type type2 = typeof(Dictionary&lt;string, object&gt;); return sourceType.FullName == type0.FullName || sourceType.IsSubclassOf(type0) || sourceType.FullName == type1.FullName || sourceType.IsSubclassOf(type1) || sourceType.FullName == type2.FullName || sourceType.IsSubclassOf(type2); } /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;summary&gt; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span><span class="hljs-regexp"><span class="hljs-regexp">/       "-", ,  -   . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/summary&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;param name=<span class="hljs-string"><span class="hljs-string">"fields"</span></span>&gt;     <span class="hljs-string"><span class="hljs-string">"-"</span></span>&lt;<span class="hljs-regexp"><span class="hljs-regexp">/param&gt; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">//</span></span> &lt;returns&gt;&lt;<span class="hljs-regexp"><span class="hljs-regexp">/returns&gt; private static object GenerateType(IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt; fields) { AssemblyName assemblyName = new AssemblyName("AmfDynamicAssemblyForDictionary"); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . AssemblyBuilder assemblyBuilder = AppDomain.CurrentDomain.DefineDynamicAssembly(assemblyName, AssemblyBuilderAccess.RunAndSave); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . ModuleBuilder moduleBuilder = assemblyBuilder.DefineDynamicModule(assemblyName.Name, assemblyName.Name + ".dll"); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . TypeBuilder typeBuilder = moduleBuilder.DefineType(typeof(Array).FullName, TypeAttributes.Public); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . ConstructorBuilder ctor = typeBuilder.DefineConstructor(MethodAttributes.Public, CallingConventions.Standard, Type.EmptyTypes); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/  . ILGenerator ctorIL = ctor.GetILGenerator(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     MSIL-  . ctorIL.Emit(OpCodes.Ldarg_0); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/      . ctorIL.Emit(OpCodes.Call, typeof(object).GetConstructor(Type.EmptyTypes)); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/           . ctorIL.Emit(OpCodes.Ret); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/         . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (KeyValuePair&lt;string, object&gt; pair in fields) { object fieldValue = pair.Value; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . Type fieldType = fieldValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/    . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     ... if (fieldType.IsDefinedAttribute&lt;AmfObjectAttribute&gt;()) { fieldValue = GenerateType(fieldValue); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   ,   . fieldType = fieldValue.GetType(); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } typeBuilder.DefineField(pair.Key, fieldType, FieldAttributes.Public); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   . } object targetObject = Activator.CreateInstance(typeBuilder.CreateType()); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     . foreach (KeyValuePair&lt;string, object&gt; pair in fields) targetObject.GetType().GetField(pair.Key).SetValue(targetObject, pair.Value); return targetObject; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで、メソッドを呼び出すたびに個別の動的アセンブリを作成し、そのメタデータをオーバーライドすることに注意してください。</font><font style="vertical-align: inherit;">これは、ディクショナリのすべてのメタデータを新たに生成するために必要です。そうしないと、しばらくすると、ディクショナリのコピーに、タイプに含まれてはならず、メモリ空間を占有する未定義フィールドが大量に含まれます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AMFシリアル化 </font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これで、AMFでオブジェクトをシリアル化する準備がすべて整いました。</font><font style="vertical-align: inherit;">シリアライザーの実装に進みます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     AMF. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceObject"&gt; .&lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="version"&gt; AMF.&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static byte[] SerializeToAmf(this <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sourceObject, ushort <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (MemoryStream memoryStream = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> MemoryStream()) //       . <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (AMFSerializer amfSerializer = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AMFSerializer(memoryStream)) //    AMF. { AMFMessage amfMessage = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AMFMessage(<span class="hljs-keyword"><span class="hljs-keyword">version</span></span>); //          AMF. AMFBody amfBody = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AMFBody(AMFBody.OnResult, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, GenerateType(sourceObject)); //     AMF. amfMessage.AddBody(amfBody); //  body   AMF. amfSerializer.WriteMessage(amfMessage); //  . <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> memoryStream.ToArray(); //       . } } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     AMF3. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceObject"&gt; .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static byte[] SerializeToAmf(this <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sourceObject) =&gt; sourceObject.SerializeToAmf(<span class="hljs-number"><span class="hljs-number">3</span></span>); /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     *.amf. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceObject"&gt; .&lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="path"&gt; .&lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="version"&gt;  AMF.&lt;/param&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> SerializeToAmf(this <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sourceObject, string <span class="hljs-type"><span class="hljs-type">path</span></span>, ushort <span class="hljs-keyword"><span class="hljs-keyword">version</span></span>) =&gt; File.WriteAllBytes($"{path}.amf", sourceObject.SerializeToAmf(<span class="hljs-keyword"><span class="hljs-keyword">version</span></span>)); /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     *.amf.  AMF  <span class="hljs-number"><span class="hljs-number">3.</span></span> /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceObject"&gt; .&lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="path"&gt; .&lt;/param&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> SerializeToAmf(this <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> sourceObject, string <span class="hljs-type"><span class="hljs-type">path</span></span>) =&gt; sourceObject.SerializeToAmf(<span class="hljs-type"><span class="hljs-type">path</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装はほとんど簡単です。</font><font style="vertical-align: inherit;">唯一の注意点は、AMFのデフォルトバージョン番号が3であるオーバーロードを意図的に作成したことです。</font><font style="vertical-align: inherit;">Flexを使用する場合、ほとんどの場合AMF3です。つまり、シリアル化メソッドの呼び出しで追加の引数を渡すことは意味がありません。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逆シリアル化を行うには、上記の手順をすべて逆の順序で行う必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">/// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///      AMF. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;typeparam <span class="hljs-type"><span class="hljs-type">name</span></span>="T"&gt;  .&lt;/typeparam&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="sourceBuffer"&gt;   .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static T DeserializeFromAmf&lt;T&gt;(this byte[] sourceBuffer) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (MemoryStream memoryStream = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> MemoryStream(sourceBuffer)) //       . <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (AMFDeserializer amfDeserializer = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AMFDeserializer(memoryStream)) //    AMF. { AMFMessage amfMessage = amfDeserializer.ReadAMFMessage(); //   AMF. AMFBody amfBody = amfMessage.GetBodyAt(<span class="hljs-number"><span class="hljs-number">0</span></span>); //  body   AMF. <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> amfObject = amfBody.Content; //    body AMF. <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> amfObjectType = amfObject.GetType(); //     AMF. //            . IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">Type</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">types</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> Assembly.GetExecutingAssembly().GetTypes() <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Attribute</span></span>.IsDefined(<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>, typeof(AmfObjectAttribute)) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> currentType = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; //       . //        . <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">types</span></span>) { AmfObjectAttribute <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>.GetAttribute&lt;AmfObjectAttribute&gt;(); //   . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span>.Name != amfObjectType.FullName) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; //       -  . currentType = <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>; //     . break; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentType == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(T); //     -  <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>. <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> targetObject = Activator.CreateInstance(currentType); //    . //     . <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (PropertyInfo propertyInfo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> currentType.GetProperties()) { AmfMemberAttribute <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> = propertyInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); //    . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; //     - . propertyInfo.SetValue(targetObject, amfObjectType.GetProperty(<span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span>.Name).GetValue(amfObject, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>); //             . } //     . <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (FieldInfo fieldInfo <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> currentType.GetFields()) { AmfMemberAttribute <span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> = fieldInfo.GetAttribute&lt;AmfMemberAttribute&gt;(); //    . <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span>; //     - . fieldInfo.SetValue(targetObject, amfObjectType.GetField(<span class="hljs-keyword"><span class="hljs-keyword">attribute</span></span>.Name).GetValue(amfObject)); //             . } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> targetObject <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T; //    T    . } } /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; ///     *.amf. /// &lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; /// &lt;typeparam <span class="hljs-type"><span class="hljs-type">name</span></span>="T"&gt;  .&lt;/typeparam&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="obj"&gt; .&lt;/param&gt; /// &lt;param <span class="hljs-type"><span class="hljs-type">name</span></span>="path"&gt;   .&lt;/param&gt; /// &lt;<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt;  AMF.&lt;/<span class="hljs-keyword"><span class="hljs-keyword">returns</span></span>&gt; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static T DeserializeFromAmf&lt;T&gt;(this <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> obj, string <span class="hljs-type"><span class="hljs-type">path</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> =&gt; File.ReadAllBytes($"{path}.amf").DeserializeFromAmf&lt;T&gt;();</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 次に、AMFでオブジェクトをシリアル化してサーバーに送信する最速の方法を以下に示します。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (MemoryStream memoryStream = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> MemoryStream()) //             . <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (AMFWriter amfWriter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> AMFWriter(memoryStream)) //      AMF. <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (WebClient client = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> WebClient()) //  HTTP-      (    HttpWebRequest). { amfWriter.WriteBytes(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CustomAmfObject().SerializeToAmf()); //     . client.Headers[HttpRequestHeader.ContentType] = "application/x-amf"; //   ContentType  . byte[] buffer = client.UploadData(Host, "POST", memoryStream.ToArray()); //    . }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下のスクリーンショットでは、サーバーに送信する準備ができているシリアル化されたオブジェクトの構造を確認できます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://s019.radikal.ru/i631/1701/85/802ef347bc54.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ送信後のサーバーがオブジェクトが</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IExternalizable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェイスを実装していないと誓う場合、</font><font style="vertical-align: inherit;">カスタムクラスに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IExternalizable</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装を実装する必要があります</font><font style="vertical-align: inherit;">：</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs"> [<span class="hljs-meta"><span class="hljs-meta">AmfObject(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"example.game.gameObject"</span></span></span><span class="hljs-meta">)</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CustomAmfObject</span></span> : <span class="hljs-title"><span class="hljs-title">IExternalizable</span></span> { [AmfMember(<span class="hljs-string"><span class="hljs-string">"x"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> X { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [AmfMember(<span class="hljs-string"><span class="hljs-string">"y"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Y { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } [AmfMember(<span class="hljs-string"><span class="hljs-string">"z"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> Z { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CustomAmfObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> y, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> z</span></span></span><span class="hljs-function">)</span></span> { X = x; Y = y; Z = z; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CustomAmfObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">this</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0f</span></span></span></span></span><span class="hljs-function">)</span></span> { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadExternal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IDataInput input</span></span></span><span class="hljs-function">)</span></span> { X = input.ReadFloat(); Y = input.ReadFloat(); Z = input.ReadFloat(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">WriteExternal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">IDataOutput output</span></span></span><span class="hljs-function">)</span></span> { output.WriteFloat(X); output.WriteFloat(Y); output.WriteFloat(Z); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストが実際の条件で示したように、このアプローチでデータをシリアル化するために、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDataOutputの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一連のレコード</font><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDataInput</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からの読み取り</font><font style="vertical-align: inherit;">はまったく必要</font><font style="vertical-align: inherit;">なく、それらのないデータはすべて正しい形式でサーバーに送信されました。</font><font style="vertical-align: inherit;">特に「呪い」サーバーの場合、このソリューションは非常に便利です。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> あとがき </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上記の問題を解決する方法は、元のフレームワークのソースコードへの介入を必要としない唯一のものではありません。たとえば、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DynamicObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpandoObject</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、およびその他の動的な</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アメニティ</font><font style="vertical-align: inherit;">を使用してオブジェクトのインスタンスを実装</font><font style="vertical-align: inherit;">し、メタデータのすべての作業をDLRに</font><font style="vertical-align: inherit;">割り当てると</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">属性なしでコードのメタデータを処理できます</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事に記載されている知識ベースは、ほとんどすべてのタスクのシリアライザー、またはMSILとリフレクションに基づく単純なインタープリター/コンパイラー、およびAMFでのシリアル化の原理をより視覚的に理解するのに十分です。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事のソースは</font></font><a href="https://github.com/Exomode/FluorineFX"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入手でき</font><a href="https://github.com/Exomode/FluorineFX"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NuGet FluorineFx拡張パックは</font></font><a href="https://www.nuget.org/packages/FluorineFX.Serialization/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMFをシリアル化するだけで、すべてのFluorineFXをプロジェクトにドラッグする必要がある場合は、</font></font><a href="https://github.com/artema/DotAmf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、</font><font style="vertical-align: inherit;">.NET DataContractシリアル化に基づいて、マッピングを使用して実装さ</font><font style="vertical-align: inherit;">れた</font></font><a href="https://habrahabr.ru/users/ArtemA/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArtemA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">によって提案された</font><a href="https://habrahabr.ru/users/ArtemA/"><font style="vertical-align: inherit;">シリアライザーの</font></a><font style="vertical-align: inherit;">バージョンを</font><font style="vertical-align: inherit;">見つけることができます</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私が提示した資料があなたの役に立つことを願っています。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ご清聴ありがとうございました！ </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J320428/index.html">ラボ「GNU / Linuxでネットワークを設定するための学習」</a></li>
<li><a href="../J320430/index.html">クリティカルレンダリングパスについて</a></li>
<li><a href="../J320434/index.html">Cerebro-アルフレッドとスポットライトの無料の代替品</a></li>
<li><a href="../J320436/index.html">SIEMシステムを意識的に選択するための10の質問</a></li>
<li><a href="../J320438/index.html">1月の5つの最もホットな本のノベルティ</a></li>
<li><a href="../J320448/index.html">VRでのユーザーの快適性：プレーヤーオプション</a></li>
<li><a href="../J320450/index.html">RaspberryプラットフォームでモーションセンサーとPythonを使用した屋内ビデオ監視システムのシンプルなバージョン</a></li>
<li><a href="../J320452/index.html">新しいUber Passengerアプリケーションアーキテクチャの設計</a></li>
<li><a href="../J320454/index.html">ITSM教育プログラム：顧客の期待に応える方法</a></li>
<li><a href="../J320456/index.html">退屈なSCRUMと画像セグメンテーションでPost-itステッカーを強調</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>