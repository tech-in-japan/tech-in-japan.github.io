<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏽‍🌾 🎍 💱 SNMP監視データのOracleへのダウンロード 👧🏾 👩🏽‍🤝‍👩🏻 👆🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="少し前に、Oracleデータベースでのデータロードの最適化に関する記事を書きました 。 その後のコメントの豊富さから判断すると、この記事は大きな関心を呼びましたが、同じコメント（およびPostgreSQLへのデータのロードに関する次の記事 ）から判断すると、多くの人々はそれを私が予想したものとは異な...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>SNMP監視データのOracleへのダウンロード</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"> 少し前に、Oracleデータベースでのデータロードの最適化に関する<a href="http://habrahabr.ru/post/196828">記事</a>を書きまし<a href="http://habrahabr.ru/post/196828">た</a> 。 その後のコメントの豊富さから判断すると、この記事は大きな関心を呼びましたが、同じコメント（およびPostgreSQLへのデータのロードに関する次の<a href="http://habrahabr.ru/post/197718">記事</a> ）から判断すると、多くの人々はそれを私が予想したものとは異なって理解しました。 ほとんどの場合、私はこれを非難します。なぜなら、資料のプレゼンテーションを簡素化する過程で、私は人生からあまりにも離婚したため、他の人がタスクを理解するのをやめたからです（これは、それを解決するために使用する方法を選択する理由の理解に悪影響を及ぼしました）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     今日、私は犯した間違いを修正したいと思います。 技術的な詳細に最大限の注意を払いながら、SNMP監視データを処理する実際のタスクについて説明します。 ソリューションのアプローチの選択を正当化し、パフォーマンスを比較しようとします。 また、初心者に問題を引き起こす可能性のある技術的なポイントにも注意を払います。 先に<a href="https://habrahabr.ru/users/denkrep/" class="user_link">進む前に</a> 、 <a href="https://habrahabr.ru/users/xlix123/" class="user_link">DenKrep</a> 、 <a href="https://habrahabr.ru/users/denkrep/" class="user_link">xlix123</a> 、 <a href="https://habrahabr.ru/users/xlix123/" class="user_link">zhekappp</a> 、および前の記事の議論で信じられないほどの有用なアドバイスをしてくれた他のすべての仲間に感謝したいと思います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> これは何のためですか？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次のような質問にはまったく興味がないとすぐに言いたいです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  Oracleにデータをアップロードできる最大速度は？ </li><li>  OracleやPostgreSQLより速いのは何ですか？ </li><li> データベーステーブルに挿入できる速度はどれくらいですか？ </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ほとんどの場合、これらの質問などは意味がありません（少なくともハードウェア構成の詳細から分離されている場合）。 私は、Oracleサーバーがどのハードウェアで実行されているかについて、意図的に語りません。 私の意見では、これは重要ではありません。 しかし、何が重要なのでしょうか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     たとえば、SNMP監視データの収集などの実際のタスクがあることが重要であり、その実行中に、処理が必要な大量のデータが絶えず生成されます。 この場合、次の点が重要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li> データをテーブルに挿入するだけでは十分ではありません（データの正確な処理方法と理由、次のセクションで説明します） </li><li> データベースサーバー上でデータは生成されません（おそらく、単一のデータベースにデータを転送する複数のデータ収集サーバーが存在します） </li><li> データは継続的に受信され、常に処理される必要があるため、データの処理時間を最小限に抑えることが望ましい（緊急事態の発生に対する最小応答時間を確保するため） </li><li> データの一部の損失は許可されています（事故が発生した場合、現在のデータの一部が失われた場合でも、次のポーリングサイクルでこれを見つけます） </li><li> 主要なパラメーターの変更履歴は、長期間維持する必要があります </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この問題を解決するためのさまざまなオプションを検討し、それらのパフォーマンスを比較します。 もちろん、目標は最も生産的なソリューションを見つけることです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 問題の声明 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、SNMPを使用して取得するデータの種類を覚えていますか？ 実際、GETリクエストを使用して対象のOIDを照会することにより、いくつかの事前定義変数の値を取得できます。 たとえば、OID = 1.3.6.1.2.1.1.3.0をリクエストすると、監視のために<a href="http://tools.cisco.com/Support/SNMP/do/BrowseOID.do%3Flocal%3Den%26translate%3DTranslate%26objectInput%3DsysUpTime">sysUpTimeと</a>同じくらい重要な値を取得できます。  SNMPを介してアクセスされる変数の値は、必ずしも数値ではありません。 文字列でもかまいません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ただし、SNMPは一連のスカラー変数へのアクセスに限定されません。 変数の値はテーブルにグループ化できます。 テーブルの各行には、特定のリソースに関連付けられた変数の値がグループ化されています。 各値にアクセスするには、テーブルの列に割り当てられたOIDに、リソースの説明行を定義する識別子を追加する必要があります。 この行識別子をリソースインデックスと呼びます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     インターフェースのリスト（1.3.6.1.2.1.2）をポーリングする場合、整数はリソース識別子として機能しますが、他のテーブルの場合は、IPアドレスまたは<a href="http://www.ietf.org/rfc/rfc1157.txt">仕様で</a>定義された何かにすることができます。 困難なのは、事前にポーリングされるリソースのインデックスがわからず、GETリクエストを使用して関心のある変数の値を取得できないという事実にあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     テーブルの値を読み取るには、クエリで指定されたOIDの辞書式順序に従ってOIDと変数の値を返すGETNEXTクエリを使用する必要があります。 したがって、関心のある変数のOIDのプレフィックスであるOID列を渡すと、テーブルの最初の行から対応する値を取得します。 次の行の値を取得するために、応答の一部として受信したOIDを最初のクエリに渡すなど、テーブルが完全にスキャンされるまで渡します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      （送信されるリクエストの数を減らすことにより）パフォーマンスを最適化するために、1つのリクエストで複数の列のOIDを転送できます。 さらに、SNMPのバージョン2では、BULK要求を生成する機能が追加されました。  1つのBULK要求は、次々に実行される複数のGETNEXT要求を置き換えます。これにより、1つの要求でテーブル全体を読み取ることができます（十分なBULK値を使用）。 私はすでにこのすべてについて話しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これをすべて明確にするために繰り返します-テーブルは一定ではありません！ インターフェイステーブルの説明（たとえば、データベース内のどこかに）とOIDの割り当てを手動で行うことは、まったく意味がありません。 テーブルの行は、機器の再構成中に追加および削除できます。 さらに、既存のインターフェイスのインデックスが変更される場合があります！ 実際、SNMP監視システムのタスクの1つは、表示されたテーブルに対するすべての変更の追跡を自動化することです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     データベースではどのように表示されますか？ とても簡単です： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/963/e2f/ab2/963e2fab2084f880bd59f0de127703ae.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     監視プロセス中に取得したデータは、リソース（ae_resource）にバインドします。 リソースは、順番に2レベルの階層にリンクされます。 最上位では、デバイスリソースが表示されます。  owner_idによると、たとえばインターフェースなどの子リソースはそれに関連付けられます（これらはインターフェースであり、他のものではないという事実は、ae_resource_typeディレクトリーのtype_id値によって決定されます）。 親およびすべての子リソースのdevice_id値は一致し、ハードウェアの説明を指します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ae_resourceテーブルにstart_dateフィールドとend_dateフィールドがあることがわかります。 それらを最新の状態に保つことが私たちの仕事です。 必要に応じて新しいリソースを作成し、start_dateにアクションの開始日を設定し、end_dateを設定して廃止されたリソースのアクションを終了する必要があります。 リソースを識別するために、名前フィールドが使用されます（インターフェースの場合、ifDescr属性の値は1.3.6.1.2.1.2.2.1.2です）。  res_numフィールドにリソースインデックスを保存します（変更する場合は、古いインデックス値を持つリソースを閉じてから、新しいリソースを作成する必要があります）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     インターフェイスのリストを最新の状態に保つ必要があることが、データを処理する必要がある主な理由です（ただし、通常、受信したデータをテーブルに挿入するのにかかる時間ははるかに短くなります）。 しかし、とにかくデータを処理する場合、それを最大限に活用してみませんか？ 監視のプロセスでは、多くのデータが取得されますが、その一部は変化しないか、わずかに変化します。 重要な変更のみを保存する場合、データベースに保存されるデータの量を減らすことができます（これは、ボリュームとパフォーマンスの両方に有益な効果をもたらします）。 しかし、どの変更が重要であるかを判断する方法は？ 政治家はこれで私たちを助けます： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/576/b68/cde/576b68cde0cefb6c074a6e0bee13787f.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     受け取る各パラメーターの値は、特定のドメイン（ae_domain）に関連付けられます。 正規表現（regexp）は、値の検証に役立ちます。 データベースに保存する前に、値を他のドメインに変換できます（たとえば、文字列を16進表記で取得します。これは、より使い慣れた形式に変換すると便利です）。 変換規則は、ae_domain_convertテーブルによって決定されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     どのような変更が重要とみなされますか？ ドメインに依存します。 デフォルトでは、値の変更は重要とみなされます（つまり、値が変更されていない場合、データベースへの書き込みは実行されません）。 一部のパラメーターでは、特別なルールを設定することが理にかなっています。 たとえば、sysUpTime（対応する変換後）は、単調に増加する数値です。 この値を小さくすると、ホストが再起動したことを意味します。 このドメインに特別なポリシーを設定すると、値が減少するイベント（再起動を意味する）のみをデータベースに書き込むことができますが、以前の値（つまり、最大達成アップタイム）は受信したものではなくデータベースに書き込まれます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ae_thresholdでは、しきい値を設定します。その交差は（特定の方向で）重要な変化と見なされます。 さらに、前の値と受信した値の差の絶対値を決定する特別なタイプのしきい値（デルタ）を導入します。 このようなしきい値の設定は、たとえばifInOctets（1.3.6.1.2.1.2.2.1.10）などのトラフィックカウンターに便利です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     完全に、データスキーマは次のようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">データスキーマ</b> <div class="spoiler_text"><img src="https://habrastorage.org/getpro/habr/post_images/408/add/251/408add251b7ae333504c5a0f8f550678.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">スクリプト</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_platform_model_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_platform_model ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_platform_model <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_platform_model_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_platform_model(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_platform_model <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_platform_model primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_device_seq <span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_device ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, model_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, start_date <span class="hljs-built_in"><span class="hljs-built_in">date</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, end_date <span class="hljs-built_in"><span class="hljs-built_in">date</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_device <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_device_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_device(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_device_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_device(device_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_device_model_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_device(model_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_device_zone_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_device(zone_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_device <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_device primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_device <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_device_model <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (model_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_platform_model(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_resource_class_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_class ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, owner_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, is_logical <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_class <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> ae_resource_class.is_logical <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'  '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_class_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource_class(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_class_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource_class(owner_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_class <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> ae_resource_class_ck <span class="hljs-keyword"><span class="hljs-keyword">check</span></span> (is_logical <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_class <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_resource_class primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_resource_type_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, owner_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, parent_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, class_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_type_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_type_owner_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource_type(owner_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_type_parent_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource_type(parent_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_resource_type primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (class_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource_class(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_resource_type_owner <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (owner_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_resource_type_parent <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (parent_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_resource_seq <span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, device_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, owner_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, type_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, res_num varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, res_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, tmp_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, start_date <span class="hljs-built_in"><span class="hljs-built_in">date</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, end_date <span class="hljs-built_in"><span class="hljs-built_in">date</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_resource_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_res_dev_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource(device_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_res_dev_type_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource(type_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_res_dev_res_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource(res_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_res_dev_res_tmp_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_resource(tmp_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_resource primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_res_device <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (device_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_device(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_res_dev_parent <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (owner_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_resource <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_res_dev_type <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (type_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_policy_type ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_policy_type <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'  '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_policy_type_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_policy_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_policy_type_uk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_policy_type(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_policy_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_policy_type primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_policy ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, type_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_policy <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'  '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_policy_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state_policy(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_policy_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state_policy(type_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_policy <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_state_policy primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_policy <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_state_policy <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (type_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_policy_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold_type ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_threshold_type_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_threshold_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_threshold_type primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_threshold_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, type_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, policy_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_threshold_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_threshold(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_threshold_direction_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_threshold(type_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_threshold_profile_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_threshold(policy_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_threshold primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_threshold_type <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (type_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_threshold_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_threshold <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_threshold_policy <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (policy_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_state_policy(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_domain_convert_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_domain ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, policy_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, regexp varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>), is_case_sens <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_domain_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_domain(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_domain_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_domain(policy_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_domain <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> ae_domain_ck <span class="hljs-keyword"><span class="hljs-keyword">check</span></span> (is_case_sens <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_domain <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_domain primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_domain <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_domain <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (policy_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_state_policy(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_parameter_seq <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_parameter ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, domain_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, parent_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_parameter_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_parameter(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_parameter_uk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_parameter(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_parameter_domain_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_parameter(domain_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_parameter_parent_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_parameter(parent_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_parameter <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_parameter primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_parameter <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_parameter_domain <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (domain_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_domain(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_parameter <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_parameter <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (parent_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_parameter(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_state_seq <span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, res_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, param_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>), datetime <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">current_timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">' '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">column</span></span> ae_state.datetime <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'    '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_res_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state(res_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_param_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state(param_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_state primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_state_res <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (res_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_state_param <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (param_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_parameter(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_state_log_seq <span class="hljs-keyword"><span class="hljs-keyword">cache</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_log ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, res_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, param_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>), datetime <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">current_timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ) pctfree <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> (datetime) ( <span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> ae_state_log_p1 <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> <span class="hljs-keyword"><span class="hljs-keyword">less</span></span> <span class="hljs-keyword"><span class="hljs-keyword">than</span></span> (maxvalue) ); <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_log <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-string"><span class="hljs-string">'   '</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_log_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state_log(datetime, <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_log <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_state_log primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(datetime, <span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_profile_type_seq; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_type ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_type_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_type_uk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_type(<span class="hljs-keyword"><span class="hljs-keyword">name</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_type <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_profile_type primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_profile_seq; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, type_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, is_default <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, model_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, script_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, description varchar2(<span class="hljs-number"><span class="hljs-number">100</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_type_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile(type_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_model_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile(model_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_script_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile(script_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> ae_profile_ck <span class="hljs-keyword"><span class="hljs-keyword">check</span></span> (is_default <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_profile primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_profile_type <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (type_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_profile_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sequence</span></span> ae_profile_detail_seq; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_detail ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, type_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, profile_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, model_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, param_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unique</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_detail_pk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_detail(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_detail_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_detail(profile_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_detail_type_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_detail(type_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_detail_model_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_detail(model_id); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_profile_detail_param_fk <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_profile_detail(param_id); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_detail <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> pk_ae_profile_detail primary <span class="hljs-keyword"><span class="hljs-keyword">key</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_detail <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_profile_detail <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (profile_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_profile(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_detail <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_profile_detail_type <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (type_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_resource_type(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">alter</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_profile_detail <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constraint</span></span> fk_ae_profile_detail_model <span class="hljs-keyword"><span class="hljs-keyword">foreign</span></span> <span class="hljs-keyword"><span class="hljs-keyword">key</span></span> (model_id) <span class="hljs-keyword"><span class="hljs-keyword">references</span></span> ae_platform_model(<span class="hljs-keyword"><span class="hljs-keyword">id</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> <span class="hljs-keyword"><span class="hljs-keyword">temporary</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> ae_state_tmp ( <span class="hljs-keyword"><span class="hljs-keyword">id</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, device_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, profile_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, param_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">num</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>), datetime <span class="hljs-built_in"><span class="hljs-built_in">timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-keyword"><span class="hljs-keyword">current_timestamp</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">rows</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ae_state_tmp_ix <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> ae_state_tmp(device_id, profile_id, param_id, <span class="hljs-keyword"><span class="hljs-keyword">num</span></span>);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、ディレクトリをデータで埋めることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">試験データ</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_POLICY_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'default'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_POLICY_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'uptime'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_POLICY_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'threshold'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_STATE_POLICY (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, TYPE_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'default'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_STATE_POLICY (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, TYPE_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'uptime'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DOMAIN (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, REGEXP, IS_CASE_SENS, DESCRIPTION, POLICY_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-string"><span class="hljs-string">'((\d+)\D*,\s*)?(\d+):(\d+):(\d+)(\.\d+)?'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP uptime'</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DOMAIN (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, REGEXP, IS_CASE_SENS, DESCRIPTION, POLICY_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">'\d+'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP '</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DOMAIN (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, REGEXP, IS_CASE_SENS, DESCRIPTION, POLICY_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-string"><span class="hljs-string">'([a-fA-F\d])+'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP '</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DOMAIN (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, REGEXP, IS_CASE_SENS, DESCRIPTION, POLICY_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-string"><span class="hljs-string">'.*'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP  '</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DOMAIN (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, REGEXP, IS_CASE_SENS, DESCRIPTION, POLICY_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-string"><span class="hljs-string">'\d+'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP uptime ( )'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PARAMETER (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DOMAIN_ID, PARENT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">101</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'uptime'</span></span>, <span class="hljs-string"><span class="hljs-string">'SNMP Uptime'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PARAMETER (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DOMAIN_ID, PARENT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">102</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'ifIndex'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PARAMETER (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DOMAIN_ID, PARENT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">103</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'ifName'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PARAMETER (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DOMAIN_ID, PARENT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">104</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'ifInOctets'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PARAMETER (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DOMAIN_ID, PARENT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">105</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'ifOutOctets'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PLATFORM_MODEL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'mon'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, IS_DEFAULT, MODEL_ID, SCRIPT_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_RESOURCE_CLASS (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, IS_LOGICAL, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, OWNER_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_RESOURCE_CLASS (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, IS_LOGICAL, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, OWNER_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_RESOURCE_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, CLASS_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, OWNER_ID, PARENT_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'Host'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_RESOURCE_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, CLASS_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION, OWNER_ID, PARENT_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'Interface'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">104</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">105</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">101</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">102</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_PROFILE_DETAIL (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, PROFILE_ID, MODEL_ID, PARAM_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">103</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_DEVICE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, MODEL_ID, START_DATE, END_DATE) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">TO_DATE</span></span>(<span class="hljs-string"><span class="hljs-string">'10/30/2013 15:37:16'</span></span>, <span class="hljs-string"><span class="hljs-string">'MM/DD/YYYY HH24:MI:SS'</span></span>), <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_RESOURCE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, DEVICE_ID, OWNER_ID, TYPE_ID, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, RES_NUM, RES_ID, START_DATE, END_DATE, TMP_ID) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'0'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">TO_DATE</span></span>(<span class="hljs-string"><span class="hljs-string">'10/30/2013 15:24:44'</span></span>, <span class="hljs-string"><span class="hljs-string">'MM/DD/YYYY HH24:MI:SS'</span></span>), <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_THRESHOLD_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'increase'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_THRESHOLD_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'decrease'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_THRESHOLD_TYPE (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">NAME</span></span>, DESCRIPTION) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'delta'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">Insert</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> AE_THRESHOLD (<span class="hljs-keyword"><span class="hljs-keyword">ID</span></span>, TYPE_ID, POLICY_ID, <span class="hljs-keyword"><span class="hljs-keyword">VALUE</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">Values</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">'100'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そして、テストコードのドラフトを準備します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">テストコード</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.acme.ae.tests.jdbc; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> oracle.jdbc.driver.OracleCallableStatement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> oracle.sql.*; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.CallableStatement; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.Connection; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.DriverManager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.sql.SQLException; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Test</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String CLASS_NAME = <span class="hljs-string"><span class="hljs-string">"oracle.jdbc.driver.OracleDriver"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String USER_CONN = <span class="hljs-string"><span class="hljs-string">"jdbc:oracle:thin:@192.168.124.5:1523:new11"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String USER_NAME = <span class="hljs-string"><span class="hljs-string">"ais"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String USER_PASS = <span class="hljs-string"><span class="hljs-string">"ais"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> AUTO_COMMIT_MODE = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BULK_SIZE = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ALL_SIZE = <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String TRACE_ON_SQL = <span class="hljs-string"><span class="hljs-string">"ALTER SESSION SET EVENTS '10046 trace name context forever, level 12'"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Long DEVICE_ID = <span class="hljs-number"><span class="hljs-number">0L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Long PROFILE_ID = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Long UPTIME_PARAM_ID = <span class="hljs-number"><span class="hljs-number">101L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Long IFNAME_PARAM_ID = <span class="hljs-number"><span class="hljs-number">103L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Long INOCT_PARAM_ID = <span class="hljs-number"><span class="hljs-number">104L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String FAKE_NUM_VALUE = <span class="hljs-string"><span class="hljs-string">"0"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Connection c = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> ClassNotFoundException, SQLException </span></span>{ Class.forName(CLASS_NAME); c = DriverManager.getConnection(USER_CONN, USER_NAME, USER_PASS); c.setAutoCommit(AUTO_COMMIT_MODE); CallableStatement st = c.prepareCall(TRACE_ON_SQL); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { st.execute(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { st.close(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { c.close(); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ Test t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Test(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { t.start(); t.test_plsql(); <span class="hljs-comment"><span class="hljs-comment">//      } finally { t.stop(); } } catch (Exception e) { System.out.println(e.toString()); } } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     パフォーマンスの詳細な分析のために、サーバー上のイベント10046トレースを使用し、 <a href="http://docs.oracle.com/cd/B10500_01/server.920/a96533/sqltrace.htm">tkprof</a>ユーティリティによるトレースの後続の処理を<a href="http://docs.oracle.com/cd/B10500_01/server.920/a96533/sqltrace.htm">行い</a>ます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 最も遅い方法（plsql） </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最も明白な単一レコード処理でテストを開始します。 実際にパフォーマンスを評価することに加えて、このコードを書くことで、データの処理方法をよりよく理解することができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">PL / SQLコード</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> addValue( p_device <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> , p_profile <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> , p_param <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> , p_num <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> varchar2 , p_val <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> varchar2 ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> ae_monitoring; / <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> g_ifName_parameter <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">103</span></span>; g_default_policy constant number default 1; g_uptime_policy constant number default 2; g_threshold_policy constant number default 3; g_increase_type constant number default 1; g_decrease_type constant number default 2; g_delta_type constant number default 3; procedure addValue( p_device in number , p_profile in number , p_param in number , p_num in varchar2 , p_val in varchar2 ) as cursor c_res(p_type number) is <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> r.id, r.name <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ae_resource r <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> r.device_id = p_device <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> r.res_num = p_num <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> r.type_id = p_type <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> r.start_date &lt;= <span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> &lt;= nvl(r.end_date, <span class="hljs-keyword"><span class="hljs-keyword">sysdate</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span>); cursor c_state(p_resid number) is <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> s.value <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ae_state s <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> s.res_id = p_resid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> s.param_id = p_param; l_resid ae_resource.id%type default null; l_resname ae_resource.name%type default null; l_oldval ae_state.value%type default null; l_restype ae_profile_detail.type_id%type default null; l_owntype ae_resource_type.owner_id%type default null; l_owner ae_resource.id%type default null; l_policy ae_state_policy.type_id%type default null; l_polid ae_state_policy.id%type default null; l_count number default 0; <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">--    select d.type_id, r.owner_id into l_restype, l_owntype from ae_profile_detail d inner join ae_resource_type r on (r.id = d.type_id) where d.profile_id = p_profile and d.param_id = p_param; --  ID  if not l_owntype is null then select r.id into l_owner from ae_resource r where r.device_id = p_device and r.type_id = l_owntype; end if; --    if p_param = g_ifName_parameter then open c_res(l_restype); fetch c_res into l_resid, l_resname; if c_res%notfound or l_resname &lt;&gt; p_val then --     update ae_resource set end_date = sysdate where id = l_resid; --     insert into ae_resource(id, device_id, owner_id, type_id, res_num, name) values (ae_resource_seq.nextval, p_device, l_owner, l_restype, p_num, p_val); end if; close c_res; return; end if; --  ID  open c_res(l_restype); fetch c_res into l_resid, l_resname; if c_res%notfound then --    ,     insert into ae_resource(id, device_id, owner_id, type_id, res_num, name) values (ae_resource_seq.nextval, p_device, l_owner, l_restype, p_num, p_val) returning id into l_resid; end if; --     open c_state(l_resid); fetch c_state into l_oldval; if c_state%notfound then l_oldval := null; end if; close c_state; --     select l.type_id, l.id into l_policy, l_polid from ae_parameter p inner join ae_domain d on (d.id = p.domain_id) inner join ae_state_policy l on (l.id = d.policy_id) where p.id = p_param; --     select count(*) into l_count from ae_threshold t where t.policy_id = l_polid and (( t.type_id = g_increase_type and l_oldval &lt;= t.value and p_val &gt;= t.value ) or ( t.type_id = g_decrease_type and l_oldval &gt;= t.value and p_val &lt;= t.value ) or ( t.type_id = g_delta_type and abs(p_val - l_oldval) &gt;= t.value )); --    ae_state_log     if l_oldval is null or l_count &gt; 0 or ( l_policy = g_uptime_policy and p_val &lt; l_oldval) or ( l_policy = g_default_policy and p_val &lt;&gt; l_oldval) then insert into ae_state_log(id, res_id, param_id, value) values (ae_state_log_seq.nextval, l_resid, p_param, decode(l_policy, g_uptime_policy, nvl(l_oldval, p_val), p_val)); end if; --  ae_state update ae_state set value = p_val , datetime = current_timestamp where res_id = l_resid and param_id = p_param; if sql%rowcount = 0 then insert into ae_state(id, param_id, res_id, value) values (ae_state_seq.nextval, p_param, l_resid, p_val); end if; close c_res; exception when others then if c_res%isopen then close c_res; end if; if c_state%isopen then close c_state; end if; raise; end; end ae_monitoring; /</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Javaコード</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String ADD_VAL_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.addValue(?,?,?,?,?); end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_plsql</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_plsql:"</span></span>); CallableStatement st = c.prepareCall(ADD_VAL_SQL); Long timestamp = System.currentTimeMillis(); Long uptime = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long inoct = <span class="hljs-number"><span class="hljs-number">0L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= ALL_SIZE; i++) { <span class="hljs-comment"><span class="hljs-comment">//  uptime st.setLong(1, DEVICE_ID); st.setLong(2, PROFILE_ID); st.setLong(3, UPTIME_PARAM_ID); st.setString(4, FAKE_NUM_VALUE); st.setString(5, uptime.toString()); st.execute(); //    st.setLong(1, DEVICE_ID); st.setLong(2, PROFILE_ID); st.setLong(3, IFNAME_PARAM_ID); st.setString(4, Integer.toString((i % 100) + 1)); st.setString(5, Integer.toString((i % 100) + 1)); st.execute(); //    st.setLong(1, DEVICE_ID); st.setLong(2, PROFILE_ID); st.setLong(3, INOCT_PARAM_ID); st.setString(4, Integer.toString((i % 100) + 1)); st.setString(5, inoct.toString()); st.execute(); //   uptime += 100L; if (uptime &gt;= 1000) { uptime = 0L; } inoct += 10L; } } finally { st.close(); } Long delta_1 = System.currentTimeMillis() - timestamp; System.out.println((ALL_SIZE * 1000L) / delta_1); timestamp = System.currentTimeMillis(); c.commit(); Long delta_2 = System.currentTimeMillis() - timestamp; System.out.println(delta_2); System.out.println((ALL_SIZE * 1000L) / (delta_1 - delta_2)); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     明らかに、このコードがインターフェイスのリストを正しくサポートするには、リソースの他の属性の前にインターフェイスの名前をデータベースに転送する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     テスト結果は非常に予測可能です： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">結果</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NON-RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 3000 4<span class="hljs-selector-class"><span class="hljs-selector-class">.23</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.13</span></span> 7 102942 6615 3000 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 0 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 3001 4<span class="hljs-selector-class"><span class="hljs-selector-class">.23</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.13</span></span> 7 102942 6615 3000 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 3002 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 3002 5<span class="hljs-selector-class"><span class="hljs-selector-class">.92</span></span> 7<span class="hljs-selector-class"><span class="hljs-selector-class">.12</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">latch</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> 4 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">log</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sync</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 69 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 17261 2<span class="hljs-selector-class"><span class="hljs-selector-class">.42</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.36</span></span> 7 9042 6615 3160 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 14000 0<span class="hljs-selector-class"><span class="hljs-selector-class">.38</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.37</span></span> 0 93900 0 13899 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 31330 2<span class="hljs-selector-class"><span class="hljs-selector-class">.81</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.74</span></span> 7 102942 6615 17059 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sequential</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 7 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     非常に多くのリクエストを実行し、ネットワーク通信に多くの時間を費やしています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 大量処理を使用します（一時） </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     オーバーヘッドに対処する最も根本的な方法は、大量処理に移行することです。 まず、処理のためにデータセットを何らかのテーブルに保存し、次に1つのレコードではなく一度にすべてのデータを処理できます。 もちろん、中間データストレージには通常のテーブルを使用できますが、ロギングのオーバーヘッドが削減されるため、これらの目的で<a href="http://www.oracle-base.com/articles/misc/temporary-tables.php">GTT</a>を使用する方がより有益です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     データを一時テーブルに挿入するには、ストアドプロシージャの呼び出しではなくDMLを使用します。これにより、 <a href="http://www.tutorialspoint.com/jdbc/jdbc-batch-processing.htm">JDBCバッチ</a>を使用してネットワークオーバーヘッドを削減できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このアプローチを使用する場合、他のパラメーターの前にインターフェイス名を処理する必要はありません。 処理されたすべてのインターフェースの名前が、処理されたデータセットにあれば十分です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">PL / SQLコード</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> saveValues; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> ae_monitoring; / <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> g_ifName_parameter <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">103</span></span>; g_default_policy constant number default 1; g_uptime_policy constant number default 2; g_threshold_policy constant number default 3; g_increase_type constant number default 1; g_decrease_type constant number default 2; g_delta_type constant number default 3; procedure saveValues as <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">--  ,    merge into ae_resource d using ( select t.id, t.device_id, t.num, t.value name, p.type_id, o.id owner_id from ae_state_tmp t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource_type r on (r.id = p.type_id) left join ae_resource o on (o.device_id = t.device_id and o.type_id = r.owner_id) where t.param_id = g_ifName_parameter ) s on ( d.device_id = s.device_id and d.res_num = s.num and d.type_id = s.type_id and d.start_date &lt;= sysdate and sysdate &lt;= nvl(d.end_date, sysdate + 1) ) when matched then update set d.tmp_id = s.id where d.name &lt;&gt; s.name when not matched then insert (id, device_id, owner_id, type_id, res_num, name) values (ae_resource_seq.nextval, s.device_id, s.owner_id, s.type_id, s.num, s.name); --   ae_resource insert into ae_resource(id, device_id, owner_id, type_id, res_num, name) select ae_resource_seq.nextval, t.device_id, o.id, p.type_id, t.num, t.value from ae_state_tmp t inner join ae_resource c on (c.tmp_id = t.id) inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource_type r on (r.id = p.type_id) left join ae_resource o on (o.device_id = t.device_id and o.type_id = r.owner_id); --    update ae_resource set end_date = sysdate , tmp_id = null where tmp_id &gt; 0; --    ae_state_log insert into ae_state_log(id, res_id, param_id, value) select ae_state_log_seq.nextval, id, param_id, value from ( select distinct r.id, t.param_id, decode(l.type_id, g_uptime_policy, nvl(s.value, t.value), t.value) value from ae_state_tmp t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) left join ae_state s on (s.res_id = r.id and s.param_id = t.param_id) inner join ae_parameter a on (a.id = p.param_id) inner join ae_domain d on (d.id = a.domain_id) inner join ae_state_policy l on (l.id = d.policy_id) left join ae_threshold h on ( h.policy_id = l.id and (( h.type_id = g_increase_type and s.value &lt;= h.value and t.value &gt;= h.value ) or ( h.type_id = g_decrease_type and s.value &gt;= h.value and t.value &lt;= h.value ) or ( h.type_id = g_delta_type and abs(t.value - s.value) &gt;= h.value ))) where ( s.id is null or not h.id is null or ( l.type_id = g_uptime_policy and t.value &lt; s.value ) or ( l.type_id = g_default_policy and t.value &lt;&gt; s.value ) ) and t.param_id &lt;&gt; g_ifName_parameter ); --  ae_state merge into ae_state d using ( select t.param_id, t.value, r.id res_id from ae_state_tmp t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) where t.param_id &lt;&gt; g_ifName_parameter ) s on (d.res_id = s.res_id and d.param_id = s.param_id) when matched then update set d.value = s.value , d.datetime = current_timestamp when not matched then insert (id, param_id, res_id, value) values (ae_state_seq.nextval, s.param_id, s.res_id, s.value); --   commit write nowait; end; end ae_monitoring; /</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Javaコード</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BULK_SIZE = <span class="hljs-number"><span class="hljs-number">200</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String INS_VAL_SQL = <span class="hljs-string"><span class="hljs-string">"insert into ae_state_tmp(id, device_id, profile_id, param_id, num, value) values (?,?,?,?,?,?)"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String SAVE_VALUES_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.saveValues; end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_temporary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_temporary:"</span></span>); CallableStatement st = c.prepareCall(INS_VAL_SQL); Long timestamp = System.currentTimeMillis(); Long uptime = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long inoct = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long ix = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bulk = BULK_SIZE; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= ALL_SIZE; i++) { <span class="hljs-comment"><span class="hljs-comment">//  uptime st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, UPTIME_PARAM_ID); st.setString(5, FAKE_NUM_VALUE); st.setString(6, uptime.toString()); st.addBatch(); //    st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, IFNAME_PARAM_ID); st.setString(5, Integer.toString((i % 100) + 1)); st.setString(6, Integer.toString((i % 100) + 1)); st.addBatch(); //    st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, INOCT_PARAM_ID); st.setString(5, Integer.toString((i % 100) + 1)); st.setString(6, inoct.toString()); st.addBatch(); if (--bulk &lt;= 0) { st.executeBatch(); bulk = BULK_SIZE; } //   uptime += 100L; if (uptime &gt;= 1000) { uptime = 0L; } inoct += 10L; } if (bulk &lt; BULK_SIZE) { st.executeBatch(); } } finally { st.close(); } Long delta_1 = System.currentTimeMillis() - timestamp; System.out.println((ALL_SIZE * 1000L) / delta_1); timestamp = System.currentTimeMillis(); st = c.prepareCall(SAVE_VALUES_SQL); timestamp = System.currentTimeMillis(); try { st.execute(); } finally { st.close(); } Long delta_2 = System.currentTimeMillis() - timestamp; System.out.println(delta_2); System.out.println((ALL_SIZE * 1000L) / (delta_1 - delta_2)); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このコードを実行して、実行して取得します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">java.<span class="hljs-keyword"><span class="hljs-keyword">sql</span></span>.SQLException: ORA<span class="hljs-number"><span class="hljs-number">-30926</span></span>:         ORA<span class="hljs-number"><span class="hljs-number">-06512</span></span>:  "AIS.AE_MONITORING", <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">205</span></span> ORA<span class="hljs-number"><span class="hljs-number">-06512</span></span>:  <span class="hljs-type"><span class="hljs-type">line</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     考えてみると、このエラーの理由が明らかになります。 処理されたデータのセットに、いくつかの変数の競合するデータが含まれている場合（何回かそれを読み取った）、問題が発生します。  SNMP監視の通常の機能では、この状況は発生しませんが、発生した場合にアプリケーションがクラッシュするのを防ぐために何かを提供する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に思い浮かぶのは、各変数の集計データを保存することです。 まだない場合は新しいレコードを追加するか、既存のレコードを更新し、新しい値を書き込みます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Javaコード</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BULK_SIZE = <span class="hljs-number"><span class="hljs-number">200</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String MERGE_VAL_SQL = <span class="hljs-string"><span class="hljs-string">"merge into ae_state_tmp d "</span></span> + <span class="hljs-string"><span class="hljs-string">"using ( select ? id,? device_id,? profile_id,? param_id,? num,? value "</span></span> + <span class="hljs-string"><span class="hljs-string">" from dual"</span></span> + <span class="hljs-string"><span class="hljs-string">" ) s "</span></span> + <span class="hljs-string"><span class="hljs-string">"on ( d.device_id = s.device_id and d.profile_id = s.profile_id and "</span></span> + <span class="hljs-string"><span class="hljs-string">" d.param_id = s.param_id and d.num = s.num ) "</span></span> + <span class="hljs-string"><span class="hljs-string">"when matched then "</span></span> + <span class="hljs-string"><span class="hljs-string">" update set d.value = s.value "</span></span> + <span class="hljs-string"><span class="hljs-string">"when not matched then "</span></span> + <span class="hljs-string"><span class="hljs-string">" insert (id, device_id, profile_id, param_id, num, value) "</span></span> + <span class="hljs-string"><span class="hljs-string">" values (s.id, s.device_id, s.profile_id, s.param_id, s.num, s.value)"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String SAVE_VALUES_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.saveValues; end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_temporary</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_temporary:"</span></span>); CallableStatement st = c.prepareCall(MERGE_VAL_SQL); ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     現在、同じ問題に対処していますが、バッチリクエストの段階で： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sql</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.BatchUpdateException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">ORA-00600</span></span>:   , : <span class="hljs-selector-attr"><span class="hljs-selector-attr">[6704]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[2]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[0]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[6301696]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span>, <span class="hljs-selector-attr"><span class="hljs-selector-attr">[]</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私はバッチを放棄しなければなりません： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs axapta"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BULK_SIZE = <span class="hljs-number"><span class="hljs-number">1</span></span>;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     結果は著しく改善されました： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">結果</b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NON-RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 2 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 1001 1<span class="hljs-selector-class"><span class="hljs-selector-class">.02</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0 9002 3503 3001 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 0 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 1003 1<span class="hljs-selector-class"><span class="hljs-selector-class">.02</span></span> 1<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0 9002 3503 3001 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 1002 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 1002 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.41</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">log</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sync</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 23 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0 1 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 23 0<span class="hljs-selector-class"><span class="hljs-selector-class">.21</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.21</span></span> 43 29392 348 111 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 11 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 27 0 10 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 57 0<span class="hljs-selector-class"><span class="hljs-selector-class">.22</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.23</span></span> 43 29420 348 121 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 6 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sequential</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 41 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">scattered</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 代替アプローチ（個別） </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     大量処理段階でグループ化を追加することにより、データ挿入の段階で（ORA-600機能を取り除くと同時に）作業を簡素化できます。 この場合、BULK_SIZEを恥ずかしがり屋にせず、最大に設定します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">PL / SQLコード</b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> saveValuesDistinct; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> ae_monitoring; / <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> g_ifName_parameter <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">103</span></span>; g_default_policy constant number default 1; g_uptime_policy constant number default 2; g_threshold_policy constant number default 3; g_increase_type constant number default 1; g_decrease_type constant number default 2; g_delta_type constant number default 3; procedure saveValuesDistinct as <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">--  ,    merge into ae_resource d using ( select t.id, t.device_id, t.num, t.value name, p.type_id, o.id owner_id from ( select device_id, profile_id, param_id, num , max(id) keep (dense_rank last order by datetime) id , max(value) keep (dense_rank last order by datetime) value , max(datetime) datetime from ae_state_tmp group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource_type r on (r.id = p.type_id) left join ae_resource o on (o.device_id = t.device_id and o.type_id = r.owner_id) where t.param_id = g_ifName_parameter ) s on ( d.device_id = s.device_id and d.res_num = s.num and d.type_id = s.type_id and d.start_date &lt;= sysdate and sysdate &lt;= nvl(d.end_date, sysdate + 1) ) when matched then update set d.tmp_id = s.id where d.name &lt;&gt; s.name when not matched then insert (id, device_id, owner_id, type_id, res_num, name) values (ae_resource_seq.nextval, s.device_id, s.owner_id, s.type_id, s.num, s.name); --   ae_resource insert into ae_resource(id, device_id, owner_id, type_id, res_num, name) select ae_resource_seq.nextval, t.device_id, o.id, p.type_id, t.num, t.value from ( select device_id, profile_id, param_id, num , max(id) keep (dense_rank last order by datetime) id , max(value) keep (dense_rank last order by datetime) value , max(datetime) datetime from ae_state_tmp group by device_id, profile_id, param_id, num ) t inner join ae_resource c on (c.tmp_id = t.id) inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource_type r on (r.id = p.type_id) left join ae_resource o on (o.device_id = t.device_id and o.type_id = r.owner_id); --    update ae_resource set end_date = sysdate , tmp_id = null where tmp_id &gt; 0; --    ae_state_log insert into ae_state_log(id, res_id, param_id, value) select ae_state_log_seq.nextval, id, param_id, value from ( select distinct r.id, t.param_id, decode(l.type_id, g_uptime_policy, nvl(s.value, t.value), t.value) value from ( select device_id, profile_id, param_id, num , max(id) keep (dense_rank last order by datetime) id , max(value) keep (dense_rank last order by datetime) value , max(datetime) datetime from ae_state_tmp group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) left join ae_state s on (s.res_id = r.id and s.param_id = t.param_id) inner join ae_parameter a on (a.id = p.param_id) inner join ae_domain d on (d.id = a.domain_id) inner join ae_state_policy l on (l.id = d.policy_id) left join ae_threshold h on ( h.policy_id = l.id and (( h.type_id = g_increase_type and s.value &lt;= h.value and t.value &gt;= h.value ) or ( h.type_id = g_decrease_type and s.value &gt;= h.value and t.value &lt;= h.value ) or ( h.type_id = g_delta_type and abs(t.value - s.value) &gt;= h.value ))) where ( s.id is null or not h.id is null or ( l.type_id = g_uptime_policy and t.value &lt; s.value ) or ( l.type_id = g_default_policy and t.value &lt;&gt; s.value ) ) and t.param_id &lt;&gt; g_ifName_parameter ); --  ae_state merge into ae_state d using ( select t.param_id, t.value, r.id res_id from ( select device_id, profile_id, param_id, num , max(id) keep (dense_rank last order by datetime) id , max(value) keep (dense_rank last order by datetime) value , max(datetime) datetime from ae_state_tmp group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) where t.param_id &lt;&gt; g_ifName_parameter ) s on (d.res_id = s.res_id and d.param_id = s.param_id) when matched then update set d.value = s.value , d.datetime = current_timestamp when not matched then insert (id, param_id, res_id, value) values (ae_state_seq.nextval, s.param_id, s.res_id, s.value); --   commit write nowait; end; end ae_monitoring; /</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Javaコード</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> BULK_SIZE = <span class="hljs-number"><span class="hljs-number">200</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String INS_VAL_SQL = <span class="hljs-string"><span class="hljs-string">"insert into ae_state_tmp(id, device_id, profile_id, param_id, num, value) values (?,?,?,?,?,?)"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String SAVE_VALUES_DISTINCT_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.saveValuesDistinct; end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_temporary_distinct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_temporary:"</span></span>); CallableStatement st = c.prepareCall(INS_VAL_SQL); Long timestamp = System.currentTimeMillis(); Long uptime = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long inoct = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long ix = <span class="hljs-number"><span class="hljs-number">1L</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> bulk = BULK_SIZE; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= ALL_SIZE; i++) { <span class="hljs-comment"><span class="hljs-comment">//  uptime st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, UPTIME_PARAM_ID); st.setString(5, FAKE_NUM_VALUE); st.setString(6, uptime.toString()); st.addBatch(); //    st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, IFNAME_PARAM_ID); st.setString(5, Integer.toString((i % 100) + 1)); st.setString(6, Integer.toString((i % 100) + 1)); st.addBatch(); //    st.setLong(1, ix++); st.setLong(2, DEVICE_ID); st.setLong(3, PROFILE_ID); st.setLong(4, INOCT_PARAM_ID); st.setString(5, Integer.toString((i % 100) + 1)); st.setString(6, inoct.toString()); st.addBatch(); if (--bulk &lt;= 0) { st.executeBatch(); bulk = BULK_SIZE; } //   uptime += 100L; if (uptime &gt;= 1000) { uptime = 0L; } inoct += 10L; } if (bulk &lt; BULK_SIZE) { st.executeBatch(); } } finally { st.close(); } Long delta_1 = System.currentTimeMillis() - timestamp; System.out.println((ALL_SIZE * 1000L) / delta_1); timestamp = System.currentTimeMillis(); st = c.prepareCall(SAVE_VALUES_DISTINCT_SQL); timestamp = System.currentTimeMillis(); try { st.execute(); } finally { st.close(); } Long delta_2 = System.currentTimeMillis() - timestamp; System.out.println(delta_2); System.out.println((ALL_SIZE * 1000L) / (delta_1 - delta_2)); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 起動して結果を確認します。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NON-RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 2 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 1001 0<span class="hljs-selector-class"><span class="hljs-selector-class">.36</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.33</span></span> 0 96 6616 3001 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 0 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 1003 0<span class="hljs-selector-class"><span class="hljs-selector-class">.36</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.33</span></span> 0 96 6616 3001 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 1002 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 1002 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.41</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">log</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sync</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 30 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.01</span></span> 0 3 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 30 0<span class="hljs-selector-class"><span class="hljs-selector-class">.41</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.40</span></span> 3 48932 1104 218 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 8 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 176 0 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 68 0<span class="hljs-selector-class"><span class="hljs-selector-class">.44</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span> 3 49111 1104 226 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 7 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sequential</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 3 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 予想どおり、データを挿入するコストは減少しましたが、その後の処理はより複雑になりました。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> コレクションを使用します（コレクション） </font></font></h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"></font><a href="https://habrahabr.ru/users/denkrep/" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DenKrepが</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正しく述べたように</font><font style="vertical-align: inherit;">、データを挿入するコストを</font><a href="https://habrahabr.ru/users/denkrep/" class="user_link"><font style="vertical-align: inherit;">可能な限り</font></a><font style="vertical-align: inherit;">低くしても、GTTアプローチは空から空へ注ぐプロセスに非常に似ています。</font><font style="vertical-align: inherit;">他にどのようにネットワーキングのコストを削減できますか？</font><font style="vertical-align: inherit;">JDBCバッチを使用してPL / SQLコードを呼び出すことはできません（または、できますが、メリットはありません）が、配列を渡すことはできます！</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaコード自体から配列を渡すプロセスについては、</font></font><a href="http://www.sql.ru/forum/153108/faq-java-oracle-peredacha-priem-massivov"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイドで詳しく</font><font style="vertical-align: inherit;">説明し</font><a href="http://www.sql.ru/forum/153108/faq-java-oracle-peredacha-priem-massivov"><font style="vertical-align: inherit;">てい</font></a><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">データを転送するには、次のタイプを決定する必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ae_state_rec <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> ( device_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, profile_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, param_id <span class="hljs-built_in"><span class="hljs-built_in">number</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">num</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> varchar2(<span class="hljs-number"><span class="hljs-number">300</span></span>) ) / <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">replace</span></span> <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> ae_state_tab <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> ae_state_rec; /</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oracle Client 11gがインストールされているため、[ORACLE_HOME] /jdbc/lib/classes12.zipを[ORACLE_HOME] /jdbc/lib/ojdbc5.jarに置き換える必要がありました。</font><font style="vertical-align: inherit;">また、アプリケーションの起動時に[ORACLE_HOME] /jdbc/lib/nls_charset12.zipが使用可能でなければならないことを強調したいと思います。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーでアレイをどのように処理しますか？</font><font style="vertical-align: inherit;">開始するには、前にループで作成されたaddValueを呼び出してみてください。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="sql hljs"> ... procedure addValues( p_tab in ae_state_tab ) as <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> .. p_tab.count <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> addValue( p_device =&gt; p_tab(i).device_id , p_profile =&gt; p_tab(i).profile_id , p_param =&gt; p_tab(i).param_id , p_num =&gt; p_tab(i).num , p_val =&gt; p_tab(i).value ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">commit</span></span> write <span class="hljs-keyword"><span class="hljs-keyword">nowait</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>; ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Javaコードは著しく複雑です。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaコード</font></font></b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String ADD_VALUES_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.addValues(?); end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_collection</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_collection:"</span></span>); OracleCallableStatement st = (OracleCallableStatement)c.prepareCall(ADD_VALUES_SQL); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> oracleId = CharacterSet.CL8MSWIN1251_CHARSET; CharacterSet charSet = CharacterSet.make(oracleId); Long timestamp = System.currentTimeMillis(); Long uptime = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long inoct = <span class="hljs-number"><span class="hljs-number">0L</span></span>; RecType r[] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecType[ALL_SIZE * <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ix = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= ALL_SIZE; i++) { <span class="hljs-comment"><span class="hljs-comment">//  uptime r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(UPTIME_PARAM_ID), new CHAR(FAKE_NUM_VALUE, charSet), new CHAR(uptime.toString(), charSet)); //    r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(IFNAME_PARAM_ID), new CHAR(Integer.toString((i % 100) + 1), charSet), new CHAR(Integer.toString((i % 100) + 1), charSet)); //    r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(INOCT_PARAM_ID), new CHAR(Integer.toString((i % 100) + 1), charSet), new CHAR(inoct.toString(), charSet)); //   uptime += 100L; if (uptime &gt;= 1000) { uptime = 0L; } inoct += 10L; } RecTab t = new RecTab(r); try { st.setORAData(1, t); st.execute(); } finally { st.close(); } System.out.println((ALL_SIZE * 1000L) / (System.currentTimeMillis() - timestamp)); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> クライアントからの配列の転送に関連するトレースには、さまざまな面白い演算子が表示されます。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> INSTANTIABLE, supertype_owner, supertype_name, LOCAL_ATTRIBUTES <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> all_types <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> type_name = :<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> owner = :<span class="hljs-number"><span class="hljs-number">2</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 結果は論理的です： </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NON-RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 4 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 4 4<span class="hljs-selector-class"><span class="hljs-selector-class">.35</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.31</span></span> 5 136053 6610 3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 9 0 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 9 4<span class="hljs-selector-class"><span class="hljs-selector-class">.35</span></span> 4<span class="hljs-selector-class"><span class="hljs-selector-class">.31</span></span> 5 136062 6610 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 2 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 6 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 6 0<span class="hljs-selector-class"><span class="hljs-selector-class">.23</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.34</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">more</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 41 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 77 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 17270 2<span class="hljs-selector-class"><span class="hljs-selector-class">.97</span></span> 2<span class="hljs-selector-class"><span class="hljs-selector-class">.92</span></span> 5 6046 6610 3160 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 14013 0<span class="hljs-selector-class"><span class="hljs-selector-class">.49</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.49</span></span> 1 129930 0 13909 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 31360 3<span class="hljs-selector-class"><span class="hljs-selector-class">.48</span></span> 3<span class="hljs-selector-class"><span class="hljs-selector-class">.43</span></span> 6 135976 6610 17069 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 8 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 11 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sequential</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 6 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> クライアントからのデータ転送に関連するインジケータは改善されましたが、データ処理はplsqlオプションに比べてやや複雑になりました。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 賢いコレクションを使用します（バルク） </font></font></h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明らかに、クライアントから送信された配列の可能性を完全に利用しているわけではありません。</font><font style="vertical-align: inherit;">配列をSQLクエリに直接渡して一括処理を有効にすると便利ですが、その方法は？</font><font style="vertical-align: inherit;">クエリが複雑すぎるため、</font></font><a href="http://www.oracle.com/technetwork/issue-archive/2008/08-mar/o28plsql-095155.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BULK COLLECTを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用できません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">幸いなことに、コレクションを</font></font><a href="http://stackoverflow.com/questions/5165580/how-to-use-a-table-type-in-a-select-from-statement"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TABLEで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラップできます</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL / SQLコード</font></font></b> <div class="spoiler_text"><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">procedure</span></span> saveValues( p_tab <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ae_state_tab ); <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> ae_monitoring; / <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-keyword"><span class="hljs-keyword">REPLACE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">package</span></span> <span class="hljs-keyword"><span class="hljs-keyword">body</span></span> AIS.ae_monitoring <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> g_ifName_parameter <span class="hljs-keyword"><span class="hljs-keyword">constant</span></span> <span class="hljs-built_in"><span class="hljs-built_in">number</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-number"><span class="hljs-number">103</span></span>; g_default_policy constant number default 1; g_uptime_policy constant number default 2; g_threshold_policy constant number default 3; g_increase_type constant number default 1; g_decrease_type constant number default 2; g_delta_type constant number default 3; procedure saveValues( p_tab in ae_state_tab ) as <span class="hljs-keyword"><span class="hljs-keyword">begin</span></span> <span class="hljs-comment"><span class="hljs-comment">--  ,    merge into ae_resource d using ( select t.device_id, t.num, t.value name, p.type_id, o.id owner_id from ( select device_id, profile_id, param_id, num , max(value) value from table( p_tab ) group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource_type r on (r.id = p.type_id) left join ae_resource o on (o.device_id = t.device_id and o.type_id = r.owner_id) where t.param_id = g_ifName_parameter ) s on ( d.device_id = s.device_id and d.res_num = s.num and d.type_id = s.type_id and d.start_date &lt;= sysdate and sysdate &lt;= nvl(d.end_date, sysdate + 1) ) when not matched then insert (id, device_id, owner_id, type_id, res_num, name) values (ae_resource_seq.nextval, s.device_id, s.owner_id, s.type_id, s.num, s.name); --    ae_state_log insert into ae_state_log(id, res_id, param_id, value) select ae_state_log_seq.nextval, id, param_id, value from ( select distinct r.id, t.param_id, decode(l.type_id, g_uptime_policy, nvl(s.value, t.value), t.value) value from ( select device_id, profile_id, param_id, num , max(value) value from table( p_tab ) group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) left join ae_state s on (s.res_id = r.id and s.param_id = t.param_id) inner join ae_parameter a on (a.id = p.param_id) inner join ae_domain d on (d.id = a.domain_id) inner join ae_state_policy l on (l.id = d.policy_id) left join ae_threshold h on ( h.policy_id = l.id and (( h.type_id = g_increase_type and s.value &lt;= h.value and t.value &gt;= h.value ) or ( h.type_id = g_decrease_type and s.value &gt;= h.value and t.value &lt;= h.value ) or ( h.type_id = g_delta_type and abs(t.value - s.value) &gt;= h.value ))) where ( s.id is null or not h.id is null or ( l.type_id = g_uptime_policy and t.value &lt; s.value ) or ( l.type_id = g_default_policy and t.value &lt;&gt; s.value ) ) and t.param_id &lt;&gt; g_ifName_parameter ); --  ae_state merge into ae_state d using ( select t.param_id, t.value, r.id res_id from ( select device_id, profile_id, param_id, num , max(value) value from table( p_tab ) group by device_id, profile_id, param_id, num ) t inner join ae_profile_detail p on (p.profile_id = t.profile_id and p.param_id = t.param_id) inner join ae_resource r on ( r.device_id = t.device_id and r.res_num = t.num and r.type_id = p.type_id and r.start_date &lt;= sysdate and sysdate &lt;= nvl(r.end_date, sysdate + 1)) where t.param_id &lt;&gt; g_ifName_parameter ) s on (d.res_id = s.res_id and d.param_id = s.param_id) when matched then update set d.value = s.value , d.datetime = current_timestamp when not matched then insert (id, param_id, res_id, value) values (ae_state_seq.nextval, s.param_id, s.res_id, s.value); --   commit write nowait; end; end ae_monitoring; /</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javaコード</font></font></b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> String BULK_VALUES_SQL = <span class="hljs-string"><span class="hljs-string">"begin ae_monitoring.saveValues(?); end;"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_bulk</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> SQLException </span></span>{ System.out.println(<span class="hljs-string"><span class="hljs-string">"test_bulk:"</span></span>); OracleCallableStatement st = (OracleCallableStatement)c.prepareCall(BULK_VALUES_SQL); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> oracleId = CharacterSet.CL8MSWIN1251_CHARSET; CharacterSet charSet = CharacterSet.make(oracleId); Long timestamp = System.currentTimeMillis(); Long uptime = <span class="hljs-number"><span class="hljs-number">0L</span></span>; Long inoct = <span class="hljs-number"><span class="hljs-number">0L</span></span>; RecType r[] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RecType[ALL_SIZE * <span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ix = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= ALL_SIZE; i++) { <span class="hljs-comment"><span class="hljs-comment">//  uptime r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(UPTIME_PARAM_ID), new CHAR(FAKE_NUM_VALUE, charSet), new CHAR(uptime.toString(), charSet)); //    r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(IFNAME_PARAM_ID), new CHAR(Integer.toString((i % 100) + 1), charSet), new CHAR(Integer.toString((i % 100) + 1), charSet)); //    r[ix++] = new RecType( new NUMBER(DEVICE_ID), new NUMBER(PROFILE_ID), new NUMBER(INOCT_PARAM_ID), new CHAR(Integer.toString((i % 100) + 1), charSet), new CHAR(inoct.toString(), charSet)); //   uptime += 100L; if (uptime &gt;= 1000) { uptime = 0L; } inoct += 10L; } RecTab t = new RecTab(r); try { st.setORAData(1, t); st.execute(); } finally { st.close(); } System.out.println((ALL_SIZE * 1000L) / (System.currentTimeMillis() - timestamp)); }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 結果はそれ自身を物語っています： </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></b> <div class="spoiler_text"><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">NON-RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 4 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 4 0<span class="hljs-selector-class"><span class="hljs-selector-class">.20</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.20</span></span> 4 696 1095 3 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 1 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 9 0 1 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 9 0<span class="hljs-selector-class"><span class="hljs-selector-class">.20</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.20</span></span> 4 705 1095 4 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 6 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">message</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 6 0<span class="hljs-selector-class"><span class="hljs-selector-class">.10</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.19</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">SQL</span></span>*<span class="hljs-selector-tag"><span class="hljs-selector-tag">Net</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">more</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">from</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">client</span></span> 41 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">OVERALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">TOTALS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">FOR</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ALL</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">RECURSIVE</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">STATEMENTS</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">call</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">count</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cpu</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">disk</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">query</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">current</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">rows</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Parse</span></span> 30 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 0 0 0 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Execute</span></span> 38 0<span class="hljs-selector-class"><span class="hljs-selector-class">.18</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.17</span></span> 4 591 1095 217 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Fetch</span></span> 46 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0 96 0 30 <span class="hljs-selector-tag"><span class="hljs-selector-tag">-------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">--------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">total</span></span> 114 0<span class="hljs-selector-class"><span class="hljs-selector-class">.18</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.18</span></span> 4 687 1095 247 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">parse</span></span>: 7 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Misses</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">library</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cache</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">during</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">execute</span></span>: 7 <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elapsed</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">include</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waiting</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">following</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">Event</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">on</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Times</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Max</span></span>. <span class="hljs-selector-tag"><span class="hljs-selector-tag">Wait</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Total</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------------------------------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Waited</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">----------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">------------</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">db</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">file</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sequential</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">read</span></span> 4 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span> 0<span class="hljs-selector-class"><span class="hljs-selector-class">.00</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 結論 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト結果が示すように、クライアントコード（バルク）からOracleへの配列の直接転送により、最高のパフォーマンスを実現できます。</font><font style="vertical-align: inherit;">GTT（一時的、個別）を使用したバリアントは、パフォーマンスの点ではそれほど劣りませんが、Javaコードの観点からははるかに単純です。</font><font style="vertical-align: inherit;">さらに、一時オプションを使用すると、バッチと星の配置が不適切な場合にORA-600を観察できます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ処理に使用するアプローチはユーザー次第です。</font><font style="vertical-align: inherit;">テスト結果は</font></font><a href="https://github.com/GlukKazan/traces"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投稿され</font><a href="https://github.com/GlukKazan/traces"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J199508/index.html">最小のパート1のIEEE 802.11s Wi-Fiメッシュ</a></li>
<li><a href="../J19951/index.html">TheBat 4がリリースされました！</a></li>
<li><a href="../J199512/index.html">ベンダー：CSS / Javascriptミニマリティのイデオロギーチャンピオン</a></li>
<li><a href="../J199514/index.html">IconBIT NetTAB Mercury Q7レビュー：ロシアで唯一の6.5インチスマートフォン</a></li>
<li><a href="../J199516/index.html">AppJSプロジェクトの開発は中止されました。将来はnode-webkitを使用してください</a></li>
<li><a href="../J199520/index.html">constなしで生きる方法は？</a></li>
<li><a href="../J199526/index.html">iON Air Pro 2 Wi-Fi：フラッグシップ「水中」カメラ-ニュアンスと機能</a></li>
<li><a href="../J199528/index.html">すぐに、ラップトップは充電にUSBポートを使用できるようになります</a></li>
<li><a href="../J199530/index.html">ZTEはモジュラースマートフォンECO-MOBIUSを発表しました</a></li>
<li><a href="../J199534/index.html">PACT Conference（Parallel Architectures and Compilation Techniques）2013. Visit Report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>