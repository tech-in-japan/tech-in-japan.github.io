<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍦 💅🏿 🤚🏻 busyboxのみを使用して、OpenWrtを使用するルーターでDPIプロバイダーをバイパスする ✋🏻 🤶 🛀🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="皆さん、こんにちは。RosKomNadzorからの最新ニュースに照らして、私はプロバイダーがどのようにロックを操作するかを調べることにしました。 GoogleのDNSは保存されず、ブロックされたサイトはHTTPリクエストを禁止されたサイトに割り当て、見つかったTCPセッションからパケットをドロップす...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>busyboxのみを使用して、OpenWrtを使用するルーターでDPIプロバイダーをバイパスする</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/276915/"><img src="https://habrastorage.org/getpro/habr/post_images/3f1/52b/2aa/3f152b2aa66cefe21b2808703c6e3d73.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     皆さん、こんにちは。RosKomNadzorからの最新ニュースに照らして、私はプロバイダーがどのようにロックを操作するかを調べることにしました。  GoogleのDNSは保存されず、ブロックされたサイトはHTTPリクエストを禁止されたサイトに割り当て、見つかったTCPセッションからパケットをドロップすることで機能することが判明しました。 しかし、少し選んだ後、1​​つのbusyboxで十分であることがわかりました。 誰も気にしない-猫の下でウェルカム。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すぐにブロックの実装がプロバイダーに依存することを予約してください。私の方法はうまくいかないかもしれません。 そこで、よく知られているサイトrutracker.ogrの例を考えます（投稿のドメインとIPアドレスは回避するために変更されました）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     プロバイダーが一般的にどのように応答するかを確認するための簡単な要求から始めました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">ホームページリクエスト</b> <div class="spoiler_text"><pre> wget -O / dev / null "rutracker.ogr"
 --2016-02-10 01:21:18-http：//rutracker.ogr/
認識されたrutracker.ogr（rutracker.ogr）... 195.82.147.214
 rutracker.ogr（rutracker.ogr）への接続| 195.82.147.214 |：80 ...接続が確立されました。
 HTTPリクエストが送信されました。 回答を待っています...
</pre></div></div><div class="spoiler">  <b class="spoiler_title">ダンプパッケージ</b> <div class="spoiler_text"><pre> 01：25：10.736021 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[S]、seq 778021515、win 29200、オプション[mss 1460、sackOK、TS val 40091571 ecr 0、nop、wscale 7]、長さ0
 01：25：10.771529 IP 195.82.147.214.80&gt; 192.168.5.2.53724：フラグ[S。]、seq 866160985、ack 778021516、win 14600、オプション[mss 1400]、長さ0
 01：25：10.771562 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[。]、Ack 1、29200を獲得、長さ0
 01：25：10.771701 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[P。]、seq 1：141、ack 1、win 29200、長さ140：HTTP：GET / HTTP / 1.1
 01：25：11.129078 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[P。]、seq 1：141、ack 1、win 29200、長さ140：HTTP：GET / HTTP / 1.1
 01：25：11.849176 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[P。]、seq 1：141、ack 1、2929を獲得、長さ140：HTTP：GET / HTTP / 1.1
 01：25：13.292495 IP 192.168.5.2.53724&gt; 195.82.147.214.80：フラグ[P。]、seq 1：141、ack 1、2929を獲得、長さ140：HTTP：GET / HTTP / 1.1
</pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     クライアントは正常に接続し、リクエストを送信するだけです。 タイムアウト前のTCPフォワーダーの束。  DPIはセッションを認識し、禁止されたものとしてドロップしました。 そして、何らかの理由で、私は同じことを試してみましたが、Telnetを使用しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">telnet経由のページ要求</b> <div class="spoiler_text"><pre> telnet rutracker.ogr 80
 195.82.147.214を試す...
 rutracker.ogrに接続しました。
エスケープ文字は「^]」です。
 GET / HTTP / 1.1
ユーザーエージェント：Wget / 1.16.3（linux-gnu）
受け入れる：* / *
 Accept-Encoding：identity
ホスト：rutracker.ogr
接続：キープアライブ

 HTTP / 1.1 301が永続的に移動しました
サーバー：nginx
日付：2016年2月9日火曜日22:29:50 GMT
コンテンツタイプ：テキスト/ html
コンテンツの長さ：178
場所：http：//rutracker.ogr/forum/index.php
接続：キープアライブ

 &lt;html&gt;
 &lt;head&gt; &lt;title&gt; 301恒久的に移動&lt;/ title&gt; &lt;/ head&gt;
 &lt;body bgcolor = "white"&gt;
 &lt;center&gt; &lt;h1&gt; 301を恒久的に移動&lt;/ h1&gt; &lt;/ center&gt;
 &lt;hr&gt; &lt;center&gt; nginx &lt;/ center&gt;
 &lt;/ body&gt;
 &lt;/ html&gt;
</pre></div></div><div class="spoiler">  <b class="spoiler_title">telnetを介した要求に応じてパケットをダンプする</b> <div class="spoiler_text"><pre> 01：33：15.354300 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[S]、seq 4112340002、win 29200、オプション[mss 1460、sackOK、TS val 40236956 ecr 0、nop、wscale 7]、長さ0
 01：33：15.389921 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[S。]、seq 3472440534、ack 4112340003、win 14600、オプション[mss 1400]、長さ0
 01：33：15.389967 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[。]、Ack 1、29200を獲得、長さ0
 01：33：16.226472 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[P。]、seq 1：17、ack 1、win 29200、長さ16：HTTP：GET / HTTP / 1.1
 01：33：16.263181 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[。]、Ack 17、14600を獲得、長さ0
 01：33：16.263214 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[P。]、seq 17：139、ack 1、win 29200、長さ122：HTTP
 01：33：16.298317 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[。]、Ack 139、win 14600、長さ0                                                                                                    
 01：33：16.789180 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[P。]、seq 139：141、ack 1、win 29200、length 2：HTTP                                                                                  
 01：33：16.827756 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[。]、Ack 141、勝利14600、長さ0                                                                                                    
 01：33：16.828043 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[P。]、seq 1：383、ack 141、win 14600、長さ382：HTTP：HTTP / 1.1 301が永久に移動しました                                                
 01：33：16.828067 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[。]、Ack 383、win 30016、長さ0                                                                                                    
 01：33：20.376119 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[F。]、seq 141、ack 383、win 30016、長さ0                                                                                          
 01：33：20.412142 IP 195.82.147.214.80&gt; 192.168.5.2.53782：フラグ[F。]、seq 383、ack 142、win 14600、長さ0                                                                                          
 01：33：20.412177 IP 192.168.5.2.53782&gt; 195.82.147.214.80：フラグ[。]、Ack 384、win 30016、長さ0                                                                                                    
 01：33：30.299143 IP 192.168.5.2.53780&gt; 195.82.147.214.80：フラグ[FP。]、Seq 1515330593：1515330733、ack 3791059975、win 29200、長さ140：HTTP：GET / HTTP / 1.1                                        
</pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     実際、この時点で、DPIはペイントほどひどくないことが明らかになりました。 ダンプをよく見ると、telnetが別のパケットで要求の最初の行を送信していることがわかります。 つまり、DPIはTCPストリームを分析しませんが、クライアントからサーバーへのデータを含む最初のパケットは、データベースを突破するためにホストのパスとフィールドからUrlを収集しようとします。 パスを含む最初のクエリ行とホストフィールドを含む行が異なるパケットで引き離された場合、DPIはそのようなセッションを正しく処理できず、スキップします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ケースは小さいままでした。  TCPセッションの最初のHTTPリクエストのヘッダー（Connection：Keep-Aliveを思い出してください）を2つのパケットに分割し、残りを単に送信するプロキシを作成する必要がありました。 また、ホームネットワーク全体を提供するために、このプロキシをOpenWrtの下のルーターで動作させたいと考えました。 そのようなプロキシを作成するには多くの方法がありますが、私は、ボックス化されたソリューションではなく、概念実証を作成することを目標としていたため、最も怠zyで、最も速く、最もぎくしゃくしたものを選びました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     プロキシとして、tcpsvdの下から実行するシェルスクリプトがあります（デフォルトでは、tcpsvdアプレットはOpenWrtのbusyboxでは利用できないため、標準のbuildrootを使用して再構築する必要があります）。 念のために、tcpsvdはポートをリッスンし、クライアントが接続するときに子プロセスを開始し、その入出力をソケットにリダイレクトするようなものであることを思い出させてください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このスクリプトのようになりました（足で叩かないでください、これは単なる概念の証明です） 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh #         appendLine() { if [[ ! -z "$1" ]] then echo -ne "$1\r\n$2" else echo -ne "$2" fi } header1="" header2="" host="" while [[ true ]] do #   read -r line #     0x0D line=`echo "$line" | tr -d "\r"` #   if [[ -z "$line" ]] then break fi # ,   Host:   header1,  -  header2 if [[ -z "$host" ]] then if [[ `echo "$line" | grep -c "Host:"` -eq "1" ]] then host=`echo "$line" | sed -re 's/^Host: (.*)\r?$/\1/'` header2=`appendLine "$header2" "$line"` else header1=`appendLine "$header1" "$line"` fi else header2=`appendLine "$header2" "$line"` fi done { #    echo -ne "$header1\r\n" #  ,  netcat  ,   ,     -   sleep 1 #    echo -ne "$header2\r\n\r\n" #  , DPI  ,  -   cat 2&gt;/dev/null } | nc "$host" 80</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     念のため、TCPセッションの開始時にのみ1秒間待機することを明確にします。通常、ブラウザはセッションを切断せず、リクエストを送信し続けるため、明らかなブレーキはありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この松葉杖プロキシは次のように始まります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>tcpsvd 0.0.0.0 3128 ./proxy.sh 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     何らかの方法でブラウザからプロキシにトラフィックをリダイレクトするだけです。 たとえば、次のようにこれを行うことができ<a href="https://habrahabr.ru/post/270657/">ます</a> 。または、禁止サイトのリストからプロキシ自動検出ファイルを生成できます。  2番目のオプションはより単純で、怠lazが再び勝ち、次のようになりました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="bash hljs">{ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -e <span class="hljs-string"><span class="hljs-string">"function FindProxyForURL(url, host)\n{\n\tif ("</span></span> wget <span class="hljs-string"><span class="hljs-string">"http://api.antizapret.info/group.php?data=domain"</span></span> -O- | sed -re <span class="hljs-string"><span class="hljs-string">'s/^(.*)$/localHostOrDomainIs(host,"\1") || /'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -e <span class="hljs-string"><span class="hljs-string">"false)\n{ return \"PROXY 192.168.5.1:3128\"; }\nreturn \"DIRECT\";\n}"</span></span>; } &gt; ~/antidpi.pac</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このファイルをプロキシ設定にスリップした後、禁止サイトが疑いなく開かれ始めました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     怠け者でない人がプロキシを正常にしたり、自転車を発明した場合は、既成の標準ソリューションを示してくれたら嬉しいです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     それだけです、ご清聴ありがとうございました。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J276893/index.html">Rocker Gesturesおよびその他の新しいアイテム、ウィークリービルドVivaldi 1.0.390.3</a></li>
<li><a href="../J276899/index.html">Ryo CDR：別のアスタリスクCDRビューアー</a></li>
<li><a href="../J27690/index.html">RIAAは再試行します</a></li>
<li><a href="../J276905/index.html">Goおよびプロトコルバッファー、アクセラレーション</a></li>
<li><a href="../J276913/index.html">ES6 Promiseのフォールバックアクション</a></li>
<li><a href="../J27692/index.html">Microsoft Expression Media 2</a></li>
<li><a href="../J276925/index.html">EDI標準。 技術レビュー</a></li>
<li><a href="../J276927/index.html">Android向けレシピ：GradleスタイルのIoC</a></li>
<li><a href="../J276931/index.html">TP 2016のサーバー管理ツールのWebバージョン</a></li>
<li><a href="../J276933/index.html">Inoventica Servicesクラウドデータセンターへの記念日ツアーに登録する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>