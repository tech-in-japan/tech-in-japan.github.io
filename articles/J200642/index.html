<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚖 🐖 🧒🏼 Webマップサービスを疑いのないオープンソースDBMSに固定します 👩🏿‍🤝‍👩🏽 📼 🔫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前回は空間インデックスを構築しましたが、今ではこのスキルを使用して、完全に通常のハードウェアで1日に100万クエリなど、Webインターフェイスとパフォーマンスを備えたライブ（静的ではない）マップサービスを作成します。 
  
  
  
  データ  
  
 

- ソースはOSMになります。 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>Webマップサービスを疑いのないオープンソースDBMSに固定します</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"><img src="https://habrastorage.org/getpro/habr/post_images/c4b/654/2eb/c4b6542eb74b8ab895f522eec5acf692.png" alt="画像">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     前回は空間インデックスを構築しましたが、今ではこのスキルを使用して、完全に通常のハードウェアで1日に100万クエリなど、Webインターフェイスとパフォーマンスを備えたライブ（静的ではない）マップサービスを作成します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>データ</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ソースは<a href="http://www.openstreetmap.org/">OSMになります。</a> </li><li>  DBMSに保存するデータ形式は、 <a href="http://ru.wikipedia.org/wiki/Shapefile">shpfile</a>からの<a href="http://ru.wikipedia.org/wiki/Shapefile">シリアル化です</a> </li><li> テストデータとして<a href="http://gis-lab.info/qa/osmshp.html">、</a>ロシアの<a href="http://gis-lab.info/qa/osmshp.html">データセットを</a>使用します </li><li> すべてのレイヤーのうち、水域、森林、建物（水ポリゴン、植生ポリゴン、建物ポリゴン）の3つだけを取ります。 これは、テクノロジーの操作性を確認し、そのパフォーマンスを評価するのに十分です。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>データ入力</b> 。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  DBMSとして、既製の<a href="http://virtuoso.openlinksw.com/dataspace/doc/dav/wiki/Main/VOSDownload">Virtuoso V7.0.0</a>を引き続き使用します。 </li><li> 興味のあるレイヤーごとに同じ名前のテーブルを作成します。 </li><li> ジオメトリを持つlong varbinary型のフィールドは「Shape」と呼ばれます </li><li> 既存のすべてのフィールドが保存されます。 </li><li> 新しいものが追加されます 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  _OBJECTID_-レコード番号 </li><li>  minx_、miny_、maxx_、maxy_-レコード範囲 </li></ul></li><li> 以前と同じ方法で空間インデックスを作成します。 </li><li> 違いは、ポイントオブジェクトではなく、エリアオブジェクトがあるため、1つのオブジェクトに複数回インデックスを作成できることです。 </li><li> 最も基本的なラスター化を行います-ジオメトリに関係なく、オブジェクトの範囲全体がインデックスに入ります。 しかし、現時点では、実際のラスタライズは時期尚早な最適化であると考えています。 </li><li> 別の違いは、マップの不均一な人口です：Chukotkaのおかげで、経度は-180から+180度まで、緯度は〜40から80まで変化します。したがって、平均して1つのオブジェクトが1つのインデックスブロックになるようにブロックインデックスステップを作成します。 なぜこれが正確に説明されるのか。 </li><li> ソースデータを操作するには、開いている<a href="http://shapelib.maptools.org/">Shapefile Cライブラリ</a>を使用します </li><li>  <i>BLOB</i>を<i>操作</i>するには、 <i>SHPSerializeObject</i>および<i>SHPDeserializeObject</i>関数を追加する必要があります。これは、ネイティブの<i>SHPWriteObject</i>および<i>SHPReadObject</i>と<i>同様</i>ですが、メモリを操作するためのものです </li><li> サーバーと通信するには、ネイティブのODBCインターフェイスを使用しますが、システムドライバーマネージャーをバイパスして、組み込みドライバーを使用します。 </li><li> 速度を上げるには、接続の自動コミットをオフにし、1000オブジェクトごとにコミットします </li><li> このモードでは <ul><li> 森林の充填（〜66万オブジェクト）には1分56秒かかります </li><li> 貯水池の満水（〜38万オブジェクト）-1分9秒 </li><li> 建物の満杯（〜530万オブジェクト）-16分18秒 </li></ul></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Webインターフェイスのパフォーマンスの評価</b> 。 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> はい、virtuosoにはphpに似たWebインターフェースもあります。  PL / SQLに挿入されたファイルvsp（仮想サーバーページ）は、html出力を形成するストアドプロシージャに変わります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     単純なページ（test.vsp）を作成します。このページでは、カウンターを増やし、それを使用してサーバーの速度を確認します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="php hljs">&lt;html&gt;&lt;body&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> cnt integer; cnt := sequence_next (<span class="hljs-string"><span class="hljs-string">'xxx.YYY.__cnt'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;table width=<span class="hljs-string"><span class="hljs-string">"100%"</span></span> border=<span class="hljs-string"><span class="hljs-string">"1"</span></span>&gt; &lt;tr&gt;&lt;td align=<span class="hljs-string"><span class="hljs-string">"center"</span></span>&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp= cnt <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;/body&gt;&lt;/html&gt;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 組み込み関数<i>sequence_next</i>は、カウンターをアトミックにインクリメントし、その値を返します。 </li><li> このページを実行するには、ルートのテストフォルダー（ <i>virtuoso.ini</i>ファイルの<i>[HTTPServer]</i>セクションの<i>ServerRoot</i>パラメーター）に配置し、isql（isql localhost：1111 dba dba）を介してこのフォルダーからファイルを実行できるようにします。 <pre> <code class="sql hljs">VHOST_DEFINE(lpath=&gt;'/test/',ppath=&gt;'/test/',vsp_user=&gt;'DBA');</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></li><li> ページが機能することを確認します 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code><a href="http://localhost/"></a> localhost:8890/test/test.vsp</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     </li><li> そして、 <a href="http://ru.wikipedia.org/wiki/Wget">wget</a>を使用して大規模に要求します </li><li>  Windows（i7、8コア）の下のデスクトップ上で、それぞれ10,000回が上記のページを要求した20の並列wget-sの作業には28秒かかりました。 そのため、1秒あたり〜7000リクエストという望ましいパフォーマンスが得られ、私たちにとっては（1日あたり100万リクエストを目指していたとしても）ボトルネックになることはありません。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>地図を描く</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> まず、どのようにしてデータを取得しますか？ このようなもの： <pre> <code class="sql hljs"> for <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> blob_to_string(Shape) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xxx.YYY.<span class="hljs-string"><span class="hljs-string">"water-polygon"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x, xxx.YYY.<span class="hljs-string"><span class="hljs-string">"v_water-polygon_spx_enum_items_in_box"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a.minx = cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.miny = cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxx = cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxy = cmaxy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.<span class="hljs-string"><span class="hljs-string">"_OBJECTID_"</span></span> = a.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxx_ &gt;= cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.minx_ &lt;= cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxy_ &gt;= cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.miny_ &lt;= cmaxy <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { ... }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> このリクエストについて詳しく説明します。 <ul><li>  <code>xxx.YYY."water-polygon"</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    は、作成してデータを入力した貯水池のテーブルです。 </li><li>  <code>xxx.YYY."v_water-polygon_spx_enum_items_in_box"</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     -ブロック空間インデックスとして機能する補助テーブルの上のプロシージャビュー。 実際、これは空間インデックスブロックのサイズまで機能する粗い空間フィルターです。 </li><li>  <code>a.minx = cminx and...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    呼び出しパラメータービューを設定し、 <i>cminx ...-描画</i>するマップフラグメントの境界線 </li><li>  <code>x."_OBJECTID_" = a.oid</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    プロシージャビューから取得したデータテーブルと合成結果セットの間の結合 </li><li>  <code>x.maxx_ &gt;= cminx and x.minx_ &lt;= cmaxx ...</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    明らかに空間的ではない場合、ジオメトリのある塊を登らないようにする中間の空間フィルター </li><li> 一緒に、これにより、サイクルの本体で、たとえば、効率よく描画する機会が与えられます。 同時に、図面自体は薄い空間フィルターと見なすことができます。 </li></ul></li><li>  3つのデータレイヤーがあるため、各クライアント要求に対して3つのサブクエリを実行する必要があります </li><li> スケジュールについて。 カーソルの間に直接描画するには、 <a href="http://docs.openlinksw.com/virtuoso/cinterface.html">C-プラグイン</a>を作成する必要があり<a href="http://docs.openlinksw.com/virtuoso/cinterface.html">ます</a> 。 サーバーが起動時にロードする動的ライブラリであり、新しいPL / SQL組み込み関数を登録できます。 </li><li> 実際に描画するには、 <a href="http://en.wikipedia.org/wiki/GD_Graphics_Library">GD</a>ライブラリを使用します </li><li> 次の関数を追加します。 <ul><li>  img_create-指定されたサイズを描画するためのコンテキストを作成します </li><li>  img_tostr-現在のコンテキストからgifを作成します </li><li>  img_fromptr-ポインタータグを変更するための名手 </li><li>  img_destroy-コンテキストを破壊する </li><li>  img_alloc_color-RGB値から色識別子を作成する </li><li>  img_draw_polyline-形状オブジェクトが保存されているブロブからポリラインを描く </li><li>  img_draw_polygone-ポリゴンでも同じ </li></ul></li><li><div class="spoiler">  <b class="spoiler_title">スポイラーの下のプラグインのコンテンツ</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> _USRDLL #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"plugin.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"import_gate_virtuoso.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> wi_inst (wi_instance_get()[0]) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;libutil.h&gt; #include "sqlnode.h" #include "sqlbif.h" #include "wi.h" #include "Dk.h" #endif #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;string.h&gt; #include &lt;math.h&gt; #include "gd_utils.h" #include "gd/gd_lib.h" #include "shplib/shapefil.h" typedef struct img_ctx_s { int dx_; int dy_; double minx_; double miny_; double maxx_; double maxy_; double mulx_; double muly_; int black_; int red_; int green_; int blue_; int attr_; gdImagePtr img_; } img_ctx_t; caddr_t img_create_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)dk_alloc_box (sizeof (img_ctx_t), DV_STRING); ptr-&gt;dx_ = bif_long_arg (qst, args, 0, "img_create_proc"); ptr-&gt;dy_ = bif_long_arg (qst, args, 1, "img_create_proc"); ptr-&gt;minx_ = bif_double_arg (qst, args, 2, "img_create_proc"); ptr-&gt;miny_ = bif_double_arg (qst, args, 3, "img_create_proc"); ptr-&gt;maxx_ = bif_double_arg (qst, args, 4, "img_create_proc"); ptr-&gt;maxy_ = bif_double_arg (qst, args, 5, "img_create_proc"); ptr-&gt;attr_ = bif_long_arg (qst, args, 6, "img_create_proc"); ptr-&gt;img_ = gdImageCreateTrueColor (ptr-&gt;dx_, ptr-&gt;dy_); ptr-&gt;mulx_ = ptr-&gt;dx_/fabs(ptr-&gt;maxx_ - ptr-&gt;minx_); ptr-&gt;muly_ = ptr-&gt;dy_/fabs(ptr-&gt;maxy_ - ptr-&gt;miny_); ptr-&gt;black_ = gdImageColorAllocate (ptr-&gt;img_, 0, 0, 0); ptr-&gt;blue_ = gdImageColorAllocate (ptr-&gt;img_, 0, 0, 255); ptr-&gt;red_ = gdImageColorAllocate (ptr-&gt;img_, 255, 0, 0); ptr-&gt;green_ = gdImageColorAllocate (ptr-&gt;img_, 0, 255, 0); return (caddr_t)ptr; } caddr_t img_saveas_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_saveas_proc"); gdImagePtr im = ptr-&gt;img_; caddr_t fname = bif_string_arg (qst, args, 1, "img_saveas_proc"); FILE *out = fopen (fname, "wb"); if (NULL != out) { gdImageGif (im, out); fclose (out); return (caddr_t)0; } return (caddr_t)-1; } static unsigned char clip(int value) { if (value &lt; 0) value = 0; else if (value &gt; 255) value = 255; return value; } caddr_t img_fromptr_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { ptrlong addr = unbox(bif_long_arg (qst, args, 0, "img_fromptr_proc")); return addr; } caddr_t img_tostr_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_tostr_proc"); gdImagePtr im = ptr-&gt;img_; void *rv = NULL; caddr_t ret = NULL; int size = 0; gdIOCtx *out = gdNewDynamicCtx (2048, NULL); gdImageGifCtx (im, out); rv = gdDPExtractData (out, &amp;size); if (NULL == rv || size &lt;= 0) return 0; out-&gt;gd_free (out); ret = dk_alloc_box (size, DV_STRING); memcpy (ret, rv, size); gdFree(rv); return (caddr_t)box_num (ret); } caddr_t img_destroy_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_destroy_proc"); gdImagePtr im = ptr-&gt;img_; gdImageDestroy(im); /*dk_free_box (ptr);*/ return 0; } caddr_t img_draw_polyline_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_draw_polyline_proc"); gdImagePtr im = ptr-&gt;img_; caddr_t data = bif_string_arg (qst, args, 1, "img_draw_polyline_proc"); SHPObject *shp = SHPDeserialize (data); int nparts = shp-&gt;nParts; int npoints = shp-&gt;nVertices; double *px = shp-&gt;padfX; double *py = shp-&gt;padfY; int i, j; int color = bif_long_arg (qst, args, 2, "img_draw_polyline_proc"); gdImageSetAntiAliased (im, color); for (i = 0; i &lt; nparts; i++) { long ps = shp-&gt;panPartStart[i]; long psz = (i==(nparts-1))? npoints-ps : shp-&gt;panPartStart[i+1]-ps; gdPointPtr points = (gdPointPtr)malloc(sizeof (gdPoint) * psz); for (j = 0; j &lt; psz; j++) { points[j].x = (px[ps+j] - ptr-&gt;minx_) * ptr-&gt;mulx_; points[j].y = (ptr-&gt;attr_ &amp; 1) ? ptr-&gt;dy_ - (py[ps+j] - ptr-&gt;miny_) * ptr-&gt;muly_: (py[ps+j] - ptr-&gt;miny_) * ptr-&gt;muly_; } for (j = 1; j &lt; psz; j++) { /*if (points[j].x == points[j-1].x &amp;&amp; points[j].y == points[j-1].y) gdImageSetPixel (im, points[j].x, points[j].y, ptr-&gt;blue_); else*/ gdImageLine (im, points[j].x, points[j].y, points[j-1].x, points[j-1].y, gdAntiAliased); } free (points); } SHPDestroyObject (shp); return 0; } caddr_t img_draw_polygone_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_draw_polygone_proc"); gdImagePtr im = ptr-&gt;img_; caddr_t data = bif_string_arg (qst, args, 1, "img_draw_polygone_proc"); SHPObject *shp = SHPDeserialize (data); int nparts = shp-&gt;nParts; int npoints = shp-&gt;nVertices; double *px = shp-&gt;padfX; double *py = shp-&gt;padfY; int i,j; int color = bif_long_arg (qst, args, 2, "img_draw_polygone_proc"); int bcolor = bif_long_arg (qst, args, 3, "img_draw_polygone_proc"); for (i = 0; i &lt; nparts; i++) { long ps = shp-&gt;panPartStart[i]; long psz = (i==(nparts-1))? npoints-ps : shp-&gt;panPartStart[i+1]-ps; gdPointPtr points = (gdPointPtr)malloc (sizeof (gdPoint) * psz); for (j = 0; j &lt; psz; j++) { points[j].x = (px[ps+j] - ptr-&gt;minx_) * ptr-&gt;mulx_; points[j].y = (ptr-&gt;attr_ &amp; 1) ? ptr-&gt;dy_ - (py[ps+j] - ptr-&gt;miny_) * ptr-&gt;muly_: (py[ps+j] - ptr-&gt;miny_) * ptr-&gt;muly_; } gdImageSetAntiAliased (im, color); gdImageFilledPolygon (im, points, psz, gdAntiAliased); if (bcolor &gt;= 0) { gdImageSetAntiAliased (im, bcolor); gdImagePolygon (im, points, psz, gdAntiAliased); } free (points); } SHPDestroyObject(shp); return 0; } caddr_t img_alloc_color_proc (caddr_t * qst, caddr_t * err, state_slot_t ** args) { img_ctx_t *ptr = (img_ctx_t *)bif_arg (qst, args, 0, "img_alloc_color_proc"); gdImagePtr im = ptr-&gt;img_; int r = bif_long_arg (qst, args, 1, "img_alloc_color_proc"); int g = bif_long_arg (qst, args, 2, "img_alloc_color_proc"); int b = bif_long_arg (qst, args, 3, "img_alloc_color_proc"); return box_num(gdImageColorAllocateAlpha (ptr-&gt;img_, r, g, b, 0)); } void init_shcall_gd_utils () { bif_define ("img_create", img_create_proc); bif_define ("img_saveas", img_saveas_proc); bif_define ("img_tostr", img_tostr_proc); bif_define ("img_fromptr", img_fromptr_proc); bif_define ("img_destroy", img_destroy_proc); bif_define ("img_alloc_color", img_alloc_color_proc); bif_define ("img_draw_polyline", img_draw_polyline_proc); bif_define ("img_draw_polygone", img_draw_polygone_proc); }</span></span></span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div></li><li> これで、水域の描画は次のようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="sql hljs"> <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> img <span class="hljs-keyword"><span class="hljs-keyword">any</span></span>; img := img_create (512, 512, cminx, cminy, cmaxx, cmaxy, 1); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> cl <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> bg <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>; cl := img_alloc_color (img, 0, 0, 255); bg := img_alloc_color (img, 0, 0, 200); whenever not found goto nf; for <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> blob_to_string(Shape) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> xxx.YYY.<span class="hljs-string"><span class="hljs-string">"water-polygon"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x, xxx.YYY.<span class="hljs-string"><span class="hljs-string">"v_water-polygon_spx_enum_items_in_box"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> a.minx = cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.miny = cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxx = cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxy = cmaxy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.<span class="hljs-string"><span class="hljs-string">"_OBJECTID_"</span></span> = a.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxx_ &gt;= cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.minx_ &lt;= cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxy_ &gt;= cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.miny_ &lt;= cmaxy <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { img_draw_polygone (img, <span class="hljs-keyword"><span class="hljs-keyword">data</span></span>, cl, bg); } nf:; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> ptr <span class="hljs-built_in"><span class="hljs-built_in">integer</span></span>; ptr := img_tostr (img); <span class="hljs-comment"><span class="hljs-comment">--  gif img_destroy (img); --   declare image any; image := img_fromptr(ptr); --   http_header ('Content-type: image/gif\t\n'); --   http(image); --     </span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></li><li> ページはURLパラメータを介して座標を自分自身に渡しますが、 <div class="spoiler">  <b class="spoiler_title">ネタバレの下のページの本文</b> <div class="spoiler_text">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ({?<span class="hljs-string"><span class="hljs-string">'getfile'</span></span>} &lt;&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>) { http_header (<span class="hljs-string"><span class="hljs-string">'Content-type: image/gif\t\n'</span></span>); -- set the header to jpg <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> s_params any; s_params := deserialize (decode_base64 (get_keyword (<span class="hljs-string"><span class="hljs-string">'params'</span></span>, params, <span class="hljs-string"><span class="hljs-string">''</span></span>))); -- dbg_obj_print(s_params); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"min_x"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"min_y"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"max_x"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"max_y"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cminx"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cminy"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cmaxx"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cmaxy"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"s"</span></span> varchar; s := get_keyword (<span class="hljs-string"><span class="hljs-string">'minx'</span></span>, s_params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cminx := min_x; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cminx := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'miny'</span></span>, s_params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cminy := min_y; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cminy := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'maxx'</span></span>, s_params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cmaxx := max_x; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cmaxx := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'maxy'</span></span>, s_params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cmaxy := max_y; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cmaxy := atof(s); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> img any; img := img_create (<span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">512</span></span>, cminx, cminy, cmaxx, cmaxy, <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> cl integer; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> bg integer; { cl := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>); bg := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>); whenever not found <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> nf; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> select blob_to_string(Shape) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> data from xxx.YYY.<span class="hljs-string"><span class="hljs-string">"water-polygon"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x, xxx.YYY.<span class="hljs-string"><span class="hljs-string">"v_water-polygon_spx_enum_items_in_box"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a where a.minx = cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.miny = cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxx = cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxy = cmaxy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.<span class="hljs-string"><span class="hljs-string">"_OBJECTID_"</span></span> = a.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxx_ &gt;= cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.minx_ &lt;= cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxy_ &gt;= cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.miny_ &lt;= cmaxy <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { img_draw_polygone (img, data, cl, bg); } nf:; cl := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); bg := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); whenever not found <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> nf2; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> select blob_to_string(Shape) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> data from xxx.YYY.<span class="hljs-string"><span class="hljs-string">"vegetation-polygon"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x, xxx.YYY.<span class="hljs-string"><span class="hljs-string">"v_vegetation-polygon_spx_enum_items_in_box"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a where a.minx = cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.miny = cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxx = cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxy = cmaxy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.<span class="hljs-string"><span class="hljs-string">"_OBJECTID_"</span></span> = a.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxx_ &gt;= cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.minx_ &lt;= cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxy_ &gt;= cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.miny_ &lt;= cmaxy <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { img_draw_polygone (img, data, cl, bg); } nf2:; cl := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); bg := img_alloc_color (img, <span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); whenever not found <span class="hljs-keyword"><span class="hljs-keyword">goto</span></span> nf3; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> select blob_to_string(Shape) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> data from xxx.YYY.<span class="hljs-string"><span class="hljs-string">"building-polygon"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> x, xxx.YYY.<span class="hljs-string"><span class="hljs-string">"v_building-polygon_spx_enum_items_in_box"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> a where a.minx = cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.miny = cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxx = cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.maxy = cmaxy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.<span class="hljs-string"><span class="hljs-string">"_OBJECTID_"</span></span> = a.oid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxx_ &gt;= cminx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.minx_ &lt;= cmaxx <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.maxy_ &gt;= cminy <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> x.miny_ &lt;= cmaxy <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { img_draw_polygone (img, data, cl, bg); } nf3:; } <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> ptr integer; ptr := img_tostr (img); img_destroy (img); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> image any; image := img_fromptr(ptr); http(image); -- table <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> display --dbg_obj_print(<span class="hljs-string"><span class="hljs-string">'boom'</span></span>,{?<span class="hljs-string"><span class="hljs-string">'id'</span></span>}); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;!DOCTYPE HTML <span class="hljs-keyword"><span class="hljs-keyword">PUBLIC</span></span> <span class="hljs-string"><span class="hljs-string">"-//W3C//DTD HTML 4.0 Transitional//EN"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"min_x"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"min_y"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"max_x"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"max_y"</span></span> double precision; min_x := <span class="hljs-number"><span class="hljs-number">82.</span></span>; max_x := <span class="hljs-number"><span class="hljs-number">84.</span></span>; min_y := <span class="hljs-number"><span class="hljs-number">54.</span></span>; max_y := <span class="hljs-number"><span class="hljs-number">56.</span></span>; params := vector_concat (params, vector (<span class="hljs-string"><span class="hljs-string">'minx'</span></span>, sprintf(<span class="hljs-string"><span class="hljs-string">'%g'</span></span>, min_x), <span class="hljs-string"><span class="hljs-string">'maxx'</span></span>, sprintf(<span class="hljs-string"><span class="hljs-string">'%g'</span></span>, max_x), <span class="hljs-string"><span class="hljs-string">'miny'</span></span>, sprintf(<span class="hljs-string"><span class="hljs-string">'%g'</span></span>, min_y), <span class="hljs-string"><span class="hljs-string">'maxy'</span></span>, sprintf(<span class="hljs-string"><span class="hljs-string">'%g'</span></span>, max_y))); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;html&gt; &lt;body zonload=<span class="hljs-string"><span class="hljs-string">"window.location.reload();"</span></span>&gt; &lt;script language=<span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">full_extent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value=<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=min_x <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value=<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=min_y <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value=<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=max_x <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value=<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=max_y <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>; } &lt;/script&gt; &lt;script language=<span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zoom_in</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value); dx = dx/<span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value; tmp -= dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value = tmp; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value; tmp -= -dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value = tmp; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value); dy = dy/<span class="hljs-number"><span class="hljs-number">8</span></span>; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value; tmp -= dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value = tmp; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value; tmp -= -dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value = tmp; } &lt;/script&gt; &lt;script language=<span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zoom_out</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = -Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value); dx = dx/<span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value; tmp -= dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value = tmp; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value; tmp -= -dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value = tmp; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = -Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value); dy = dy/<span class="hljs-number"><span class="hljs-number">8</span></span>; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value; tmp -= dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value = tmp; tmp = document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value; tmp -= -dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value = tmp; } &lt;/script&gt; &lt;script language=<span class="hljs-string"><span class="hljs-string">"JavaScript"</span></span> type=<span class="hljs-string"><span class="hljs-string">"text/javascript"</span></span>&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pan_left</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value); dx = dx/<span class="hljs-number"><span class="hljs-number">8</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value -= dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value -= dx; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pan_right</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dx = -Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value); dx = dx/<span class="hljs-number"><span class="hljs-number">8</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxx.value -= dx; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].minx.value -= dx; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pan_up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = -Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value); dy = dy/<span class="hljs-number"><span class="hljs-number">8</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value -= dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value -= dy; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pan_down</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dy = Math.abs(document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value - document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value); dy = dy/<span class="hljs-number"><span class="hljs-number">8</span></span>; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].maxy.value -= dy; document.forms[<span class="hljs-string"><span class="hljs-string">'form1'</span></span>].miny.value -= dy; } &lt;/script&gt; &lt;form method=<span class="hljs-string"><span class="hljs-string">"GET"</span></span> id=<span class="hljs-string"><span class="hljs-string">"form1"</span></span> name=<span class="hljs-string"><span class="hljs-string">"form1"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cminx"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cminy"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cmaxx"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"cmaxy"</span></span> double precision; <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> <span class="hljs-string"><span class="hljs-string">"s"</span></span> varchar; s := get_keyword (<span class="hljs-string"><span class="hljs-string">'minx'</span></span>, params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cminx := min_x; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cminx := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'miny'</span></span>, params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cminy := min_y; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cminy := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'maxx'</span></span>, params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cmaxx := max_x; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cmaxx := atof(s); s := get_keyword (<span class="hljs-string"><span class="hljs-string">'maxy'</span></span>, params, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s = <span class="hljs-string"><span class="hljs-string">''</span></span>) cmaxy := max_y; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> cmaxy := atof(s); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> mashtab double precision; mashtab := floor((cmaxx-cminx)*<span class="hljs-number"><span class="hljs-number">96.</span></span>/(<span class="hljs-number"><span class="hljs-number">512.</span></span>*<span class="hljs-number"><span class="hljs-number">2.54</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">declare</span></span> cnt integer; cnt := sequence_next (<span class="hljs-string"><span class="hljs-string">'xxx.YYY.__cnt'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;input type=<span class="hljs-string"><span class="hljs-string">"hidden"</span></span> name=<span class="hljs-string"><span class="hljs-string">"minx"</span></span> value=<span class="hljs-string"><span class="hljs-string">'&lt;?vsp=cminx ?&gt;'</span></span>/&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"hidden"</span></span> name=<span class="hljs-string"><span class="hljs-string">"miny"</span></span> value=<span class="hljs-string"><span class="hljs-string">'&lt;?vsp=cminy ?&gt;'</span></span>/&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"hidden"</span></span> name=<span class="hljs-string"><span class="hljs-string">"maxx"</span></span> value=<span class="hljs-string"><span class="hljs-string">'&lt;?vsp=cmaxx ?&gt;'</span></span>/&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"hidden"</span></span> name=<span class="hljs-string"><span class="hljs-string">"maxy"</span></span> value=<span class="hljs-string"><span class="hljs-string">'&lt;?vsp=cmaxy ?&gt;'</span></span>/&gt; &lt;table width=<span class="hljs-string"><span class="hljs-string">"100%"</span></span> border=<span class="hljs-string"><span class="hljs-string">"1"</span></span> cellpadding=<span class="hljs-string"><span class="hljs-string">"0"</span></span> cellspacing=<span class="hljs-string"><span class="hljs-string">"0"</span></span> summary=<span class="hljs-string"><span class="hljs-string">""</span></span>&gt; &lt;tr&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;Min X&lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;Min Y&lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;Max X&lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;Max Y&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;<span class="hljs-keyword"><span class="hljs-keyword">Default</span></span> extent&lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=min_x <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=min_y <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=max_x <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=max_y <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt;Current extent&lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=sprintf(<span class="hljs-string"><span class="hljs-string">'%10.3f'</span></span>, cminx) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=sprintf(<span class="hljs-string"><span class="hljs-string">'%10.3f'</span></span>, cminy) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=sprintf(<span class="hljs-string"><span class="hljs-string">'%10.3f'</span></span>, cmaxx) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>vsp=sprintf(<span class="hljs-string"><span class="hljs-string">'%10.3f'</span></span>, cmaxy) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: full_extent(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"[*]"</span></span>/&gt; &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: zoom_in(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"+"</span></span> /&gt; &lt;br&gt;&lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: zoom_out(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"-"</span></span> /&gt; &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: pan_up(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"^"</span></span> /&gt; &lt;br&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: pan_down(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"V"</span></span> /&gt; &lt;/td&gt; &lt;td width=<span class="hljs-string"><span class="hljs-string">"20%"</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span> &gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: pan_left(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"&lt;"</span></span> /&gt; &lt;input type=<span class="hljs-string"><span class="hljs-string">"button"</span></span> onclick=<span class="hljs-string"><span class="hljs-string">"javascript: pan_right(); document.forms['form1'].submit ();"</span></span> value=<span class="hljs-string"><span class="hljs-string">"&gt;"</span></span> /&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt;&lt;td colspan=<span class="hljs-number"><span class="hljs-number">5</span></span> align=<span class="hljs-string"><span class="hljs-string">"center"</span></span>&gt; &lt;p&gt;&lt;img src=<span class="hljs-string"><span class="hljs-string">""</span></span>&gt;&lt;/p&gt; &lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div></li><li> 結果は次のとおりです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/a02/ecc/b0e/a02eccb0e43a3586fddae887a92a456b.png" alt="画像"></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>パフォーマンス評価。</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> これは、Webインターフェイス自体を調べたときとほぼ同じ方法で行います。 </li><li>  4つのwgetを並行して開始します。各wgetは、ページと画像に対して10,000ペアのリクエストを作成します。  1つのwget内では、リクエストは同じですが、リクエストは異なります。 これは多くのデータが存在しないという事実のために行われ、何らかの方法でデータがメモリに保存されますが、リクエストをランダムにすると、評価が困難なウォームアップ時間が発生します。 そして、すべてのリクエストが同じように行われた場合、肘でプッシュされ始めます 誰もトランザクション要件をキャンセルしませんでした。 </li><li> なぜなら バックグラウンドでプロセスを開始した後、バリア（bashで待機）があり、最も遅い要求で測定が実行されます。 </li><li> リクエストはそれほど大きくはありません〜3X3 km、 </li><li> 注意深い読者は、これらのテストはインデックス設定に合わせて調整されており、普遍性がないと言うでしょう。 はい、そうです。 ブロックインデックスの性質は、セルサイズに見合ったクエリでのみ効果的に機能するようなものです。 これは一方でです。 そしてもう一方には、 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     異なるマップ縮尺に対して複数のブロックインデックスを同時に使用することを禁止する人はいません。 さらに、ブロックウェッジはブロックインデックスに収束しませんでした。 範囲を4次元のポイントと見なす場合、たとえば、 <a href="http://habrahabr.ru/post/186564/">ポイントインデックスを</a>使用でき<a href="http://habrahabr.ru/post/186564/">ます</a> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </li><li> したがって、合計稼働時間は8分12秒です。 または1秒あたり81リクエスト。 </li><li>  100万件のリクエストには3時間32分かかります。 重大な劣化はありません。 </li><li> ネットワークを通るデータフロー-52 Mbpsは半分に分割する必要があります。 同じホストにクライアントとサーバーの両方があります </li><li>  CPU使用率-68％、サーバーは66を占有 </li><li> サーバーは1.1〜1.6 GBのRAMを使用し、明らかにリークはありません。いずれの場合でも、100万のリクエストの後、1.3 GBが使用されました </li><li> データベースファイルサイズ-〜3 GB </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>結論</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> パフォーマンスの目標は達成され、経験によれば、1日あたり100万件のリクエストが簡単に処理され、ピーク負荷に対して十分なマージンがあることが示されています。 </li><li> デスクトップウィンドウはサーバーOSではないという事実にもかかわらず </li><li> そして、ハードウェアはサーバーではありませんでした </li><li> プロトタイプさえ提示されているのではなく、技術実証者が提示されていることに注意すべきです。 かなりの数ではありますが、3つのレイヤーのみが使用されました。 もちろん、実際には何十もの層がありますが、すべてが同時に必要なわけではありません。 生活を楽にするために、一般化されたレイヤーが小規模で使用されます。 等 など しかし、繰り返しになりますが、タスクはOSMを繰り返すことではなく、テクノロジーの操作性を確認することだけでした。 </li><li> インターフェイスが...禁欲的であると思われる場合は、前の段落を参照してください。 </li><li> 実装されていないラベル... </li><li> 実装されていない投影... </li><li> このテクノロジーの重要な機能は、PL / SQLテキスト形式のマッププロジェクトの必須記述です。 これには欠点もありますが、明確なプラスもあります-柔軟性と完全な行動の自由。 したがって、完全なGISのパワーとタイルの静的ピラミッドのパフォーマンスを備えたシステムを実装できます。 たとえば、交通標識の上に道路の署名を開始します。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>PS</b> ： </h4>  <i>記事のヘッダーにある地図の断片にある番号40のパスに最初に正しく名前を付けたのは誰で、著者に感謝の意を表します。</i> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J200614/index.html">Twigのシンプルなプラグインまたは定数をデプロイする</a></li>
<li><a href="../J200632/index.html">NancyFXで最初のアプリケーションを作成します。 パート4 モジュールを引き続き使用します</a></li>
<li><a href="../J200634/index.html">2クリックで安全性を向上</a></li>
<li><a href="../J20064/index.html">Zonbu-OS Gentoo Linuxを搭載した珍しいミニコンピューター</a></li>
<li><a href="../J200640/index.html">すべての家庭の天体写真</a></li>
<li><a href="../J200644/index.html">ハーモニーコレクションNOW</a></li>
<li><a href="../J200646/index.html">Travis CIでのAndroidアプリケーションの構築</a></li>
<li><a href="../J20065/index.html">インフレータブルマウス</a></li>
<li><a href="../J200652/index.html">先週の第81号（2013年10月27日-11月2日）のWeb開発とITの世界からの興味深い資料のダイジェスト</a></li>
<li><a href="../J200654/index.html">Turnigy 9x機器の変更</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>