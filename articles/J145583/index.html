<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“ ğŸ’ªğŸ» ğŸ–ğŸ¼ Windows Phone + Caliburn.Micro + Autofac ğŸ§¥ ğŸ‘¸ğŸ¾ ğŸ¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æœ€è¿‘ã€Windows Phoneã®é–‹ç™ºã®å®Ÿé¨“ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚ MVVMãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨IoCã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä½¿ç”¨ã—ã¦WPFã¨Silverlightã‚’é–‹ç™ºã—ãŸçµŒé¨“ãŒã™ã§ã«ã‚ã‚‹ãŸã‚ã€ã“ã®ã‚¿ã‚¹ã‚¯ã¯ãã‚Œã»ã©é›£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚ çµå±€ã®ã¨ã“ã‚ ã€ç§ã®ãŠæ°—ã«å…¥ã‚Šã®Caliburn.Micro MVVMãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>Windows Phone + Caliburn.Micro + Autofac</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"> æœ€è¿‘ã€Windows Phoneã®é–‹ç™ºã®å®Ÿé¨“ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚  <a href="http://ru.wikipedia.org/wiki/Model-View-ViewModel">MVVM</a>ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¨IoCã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä½¿ç”¨ã—ã¦WPFã¨Silverlightã‚’é–‹ç™ºã—ãŸçµŒé¨“ãŒã™ã§ã«ã‚ã‚‹ãŸã‚ã€ã“ã®ã‚¿ã‚¹ã‚¯ã¯ãã‚Œã»ã©é›£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚  <a href="http://code.google.com/p/autofac/">çµå±€ã®ã¨ã“ã‚</a> ã€ç§ã®ãŠæ°—ã«å…¥ã‚Šã®<a href="http://caliburnmicro.codeplex.com/">Caliburn.Micro</a> MVVMãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼ˆCMï¼‰ã¨ç§ã®ãŠæ°—ã«å…¥ã‚Šã®<a href="http://code.google.com/p/autofac/">Autofac</a> IoCã‚³ãƒ³ãƒ†ãƒŠãƒ¼ãŒã“ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ ç§ã¯è¢–ã‚’ã¾ãã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®éª¨æ ¼ã‚’ä½œã‚Šå§‹ã‚ã¾ã—ãŸã€‚  CMã¯ã€ä½œæ¥­ã«IoCã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ç©æ¥µçš„ã«ä½¿ç”¨ã—ã¾ã™ã€‚ çµ„ã¿è¾¼ã¿ã®ã‚³ãƒ³ãƒ†ãƒŠï¼ˆSimpleContainerï¼‰ã€ã¾ãŸã¯CMç”¨ã®ã‚¢ãƒ€ãƒ—ã‚¿ãŒã‚ã‚‹ä»–ã®å¤šãã®ã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚  Autofacç”¨ã®ã“ã®ã‚ˆã†ãªã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒã‚ã‚Šã¾ã™-Caliburn.Micro.Autofacã§ã€ã“ã‚Œã¯æ—¢ã«WPFã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã—ã¾ã—ãŸã€‚ ã“ã‚Œã¯ç´ æ™´ã‚‰ã—ã„ã“ã¨ã§ã™ãŒã€é€šå¸¸ã©ãŠã‚Šã€ã‚¿ãƒ¼ãƒ«ãƒãƒ¬ãƒ«ã¯è»Ÿè†ã®ãƒã‚¨ã«ã‚ˆã£ã¦å°ç„¡ã—ã«ã•ã‚Œã¾ã—ãŸ-CM 1.3.1ï¼ˆç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã®Autofacã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã¯Windows Phoneã§ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚ æœ€è¿‘ã¾ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ãˆã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸãŒã€ãã®ä½œè€…ã§ã‚ã‚‹<a href="http://buksbaum.us/">David Buksbaumã¯</a>ç´„3é€±é–“å‰ã«ã“ã®æ¬ é™¥ã‚’ä¿®æ­£ã—ã¾ã—ãŸã€‚ ãŸã ã—ã€ä½•ã‚‰ã‹ã®æ–¹æ³•ã§ã€ãã‚Œã‚’ä½¿ç”¨ã™ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ©Ÿèƒ½ã—ã¾ã›ã‚“ã€‚ ã©ã†ã‚„ã‚‰Davidã¯è‡ªåˆ†ã§Windows Phoneç”¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã—ã¦ãŠã‚‰ãšã€ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æœªå®Œæˆã®ã¾ã¾ã§ã™ã€‚ ãŠæ°—ã«å…¥ã‚Šã®ãƒãƒ³ãƒ‰ãƒ«ã‚’æ‹’å¦ã—ãŸããªã‹ã£ãŸã®ã§ã€ã“ã®ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ã‚’è‡ªåˆ†ã§ä½œæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ ä»Šæ—¥ã€ç§ã¯ã“ã®å®Ÿè£…ã«ã¤ã„ã¦ã‚ãªãŸã®æ³¨æ„ã‚’å–šèµ·ã—ã¾ã™ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     æ¬¡ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  IPhoneServiceã¨INavigationServiceã‚’å®Ÿè£…ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ã‚³ãƒ³ãƒ†ãƒŠã«ç™»éŒ²ã™ã‚‹å‰ã«AutofacBootstrapperã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ </li><li>  IPhoneContainerã®å®Ÿè£…ã¯ãªã‹ã£ãŸãŸã‚ã€å¤§ããªå•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      AutofacBootstrapperã¨AutofacPhoneContainerã®æœ€çµ‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚ã—ã°ã‚‰ãå‰ã«ä½œæˆè€…ã«é€ä¿¡ã—ã¾ã—ãŸãŒã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãã‚Œã‚‰ã‚’çµ±åˆã—ã¾ã›ã‚“ã§ã—ãŸã€‚  <a href="">ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã“ã¡ã‚‰ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™</a> ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ã¡ãªã¿ã«ã€CMã®ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ä¸å¿«ãªãƒã‚°ã‚’ç™ºè¦‹ã—ãŸã“ã¨ã¯æ³¨ç›®ã«å€¤ã—ã¾ã™ã€‚ã™ã¹ã¦ã®ã‚·ãƒŠãƒªã‚ªã§éš”é›¢ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜ã•ã‚Œã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ãŒä¿å­˜ã•ã‚Œã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ç§ã®ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®CMã®æ§‹ç¯‰ã¯ã€ã™ã§ã«ã“ã®æ¬ ç‚¹ã‚’å…ã‚Œã¦ã„ã¾ã™ã€‚  CM Webã‚µã‚¤ãƒˆã§ã“ã®å•é¡Œã‚’èª¬æ˜ã™ã‚‹<a href="http://caliburnmicro.codeplex.com/workitem/232">ãƒã‚°ãƒ¬ãƒãƒ¼ãƒˆ</a>ã‚’ä½œæˆã—ã¾ã—ãŸã€‚ ãã‚ŒãŒã™ãã«ä¿®æ­£ã•ã‚Œã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¾ã—ã‚‡ã†ã€‚ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Autofacãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// Project: Caliburn.Micro.Autofac // File name: AutofacBootstrapper.cs // File GUID: C5C743E2-7AD1-496C-824A-9AEFBF5F8979 // Authors: David Buksbaum (david@buksbaum.us), Mike Eshva (mike@eshva.ru) // Date of creation: 20.05.2012 using System; using System.Collections.Generic; using System.ComponentModel; using System.Linq; using System.Reflection; using System.Windows.Controls; using Autofac; using Microsoft.Phone.Controls; using IContainer = Autofac.IContainer; namespace Caliburn.Micro.Autofac { /// &lt;summary&gt; /// Autofac specific &lt;see cref="PhoneBootstrapper"/&gt; realization. /// &lt;/summary&gt; public class AutofacBootstrapper : PhoneBootstrapper { #region Public properties /// &lt;summary&gt; /// Gets or sets flag should the namespace convention be enforced for type registration. The /// default is true. For views, this would require a views namespace to end with Views For /// view-models, this would require a view models namespace to end with ViewModels. /// &lt;/summary&gt; /// &lt;remarks&gt; /// Case is important as views would not match. /// &lt;/remarks&gt; public bool EnforceNamespaceConvention { get; set; } /// &lt;summary&gt; /// Gets or sets flag should the view be treated as loaded when registering the /// &lt;see cref="INavigationService"/&gt;. /// &lt;/summary&gt; public bool TreatViewAsLoaded { get; set; } /// &lt;summary&gt; /// Gets or sets the base type required for a view model. /// &lt;/summary&gt; public Type ViewModelBaseType { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the window manager. /// &lt;/summary&gt; public Func&lt;IWindowManager&gt; CreateWindowManager { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the event aggregator. /// &lt;/summary&gt; public Func&lt;IEventAggregator&gt; CreateEventAggregator { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the frame adapter. /// &lt;/summary&gt; public Func&lt;FrameAdapter&gt; CreateFrameAdapter { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the phone application service adapter. /// &lt;/summary&gt; public Func&lt;PhoneApplicationServiceAdapter&gt; CreatePhoneApplicationServiceAdapter { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the vibrate controller. /// &lt;/summary&gt; public Func&lt;IVibrateController&gt; CreateVibrateController { get; set; } /// &lt;summary&gt; /// Gets or sets method for creating the sound effect player. /// &lt;/summary&gt; public Func&lt;ISoundEffectPlayer&gt; CreateSoundEffectPlayer { get; set; } #endregion #region Protected interface /// &lt;summary&gt; /// Gets Autofac container instance. /// &lt;/summary&gt; protected IContainer Container { get; private set; } /// &lt;summary&gt; /// Do not override this method. This is where the IoC container is configured. /// &lt;/summary&gt; /// &lt;exception cref="NullReferenceException"&gt; /// Either CreateFrameAdapter or CreateWindowManager or CreateEventAggregator or /// CreatePhoneApplicationServiceAdapter or CreateVibrateController or /// CreateSoundEffectPlayer is null. /// &lt;/exception&gt; protected override void Configure() { // allow base classes to change bootstrapper settings ConfigureBootstrapper(); // validate settings if (CreateFrameAdapter == null) { throw new NullReferenceException("CreateFrameAdapter is not specified."); } if (CreateWindowManager == null) { throw new NullReferenceException("CreateWindowManager is not specified."); } if (CreateEventAggregator == null) { throw new NullReferenceException("CreateEventAggregator is not specified."); } if (CreatePhoneApplicationServiceAdapter == null) { throw new NullReferenceException( "CreatePhoneApplicationServiceAdapter is not specified."); } if (CreateVibrateController == null) { throw new NullReferenceException("CreateVibrateController is not specified."); } if (CreateSoundEffectPlayer == null) { throw new NullReferenceException("CreateSoundEffectPlayer is not specified."); } // Configure container. ContainerBuilder lBuilder = new ContainerBuilder(); // Register phone services. Assembly lCaliburnAssembly = typeof (IStorageMechanism).Assembly; // Register IStorageMechanism implementors. lBuilder.RegisterAssemblyTypes(lCaliburnAssembly) .Where( aType =&gt; typeof (IStorageMechanism).IsAssignableFrom(aType) &amp;&amp; !aType.IsAbstract &amp;&amp; !aType.IsInterface) .As&lt;IStorageMechanism&gt;() .InstancePerLifetimeScope(); // Register IStorageHandler implementors. lBuilder.RegisterAssemblyTypes(AssemblySource.Instance.ToArray()) .Where( aType =&gt; typeof (IStorageHandler).IsAssignableFrom(aType) &amp;&amp; !aType.IsAbstract &amp;&amp; !aType.IsInterface) .As&lt;IStorageHandler&gt;() .InstancePerLifetimeScope(); // Register view models. lBuilder.RegisterAssemblyTypes(AssemblySource.Instance.ToArray()) // Must be a type with a name that ends with ViewModel. .Where(aType =&gt; aType.Name.EndsWith("ViewModel")) // Mmust be in a namespace ending with ViewModels. .Where( aType =&gt; !EnforceNamespaceConvention || (!string.IsNullOrEmpty(aType.Namespace) &amp;&amp; aType.Namespace.EndsWith("ViewModels"))) // Must implement INotifyPropertyChanged (deriving from PropertyChangedBase will statisfy this). .Where(aType =&gt; aType.GetInterface(ViewModelBaseType.Name, false) != null) // Registered as self. .AsSelf() // Subscribe on Activated event for viewmodels to make storage mechanism work. .OnActivated(aArgs =&gt; ActivateInstance(aArgs.Instance)) // Always create a new one. .InstancePerDependency(); // Register views. lBuilder.RegisterAssemblyTypes(AssemblySource.Instance.ToArray()) // Must be a type with a name that ends with View. .Where(aType =&gt; aType.Name.EndsWith("View")) // Must be in a namespace that ends in Views. .Where( aType =&gt; !EnforceNamespaceConvention || (!string.IsNullOrEmpty(aType.Namespace) &amp;&amp; aType.Namespace.EndsWith("Views"))) // Registered as self. .AsSelf() // Always create a new one. .InstancePerDependency(); // Register the singletons. lBuilder.Register&lt;IPhoneContainer&gt;( aContext =&gt; new AutofacPhoneContainer(aContext.Resolve&lt;IComponentContext&gt;())) .SingleInstance(); lBuilder.RegisterInstance&lt;INavigationService&gt;(CreateFrameAdapter()) .SingleInstance(); PhoneApplicationServiceAdapter lPhoneService = CreatePhoneApplicationServiceAdapter(); lBuilder.RegisterInstance&lt;IPhoneService&gt;(lPhoneService) .SingleInstance(); lBuilder.Register(aContext =&gt; CreateEventAggregator()) .SingleInstance(); lBuilder.Register(aContext =&gt; CreateWindowManager()) .SingleInstance(); lBuilder.Register(aContext =&gt; CreateVibrateController()) .SingleInstance(); lBuilder.Register(aContext =&gt; CreateSoundEffectPlayer()) .SingleInstance(); lBuilder.RegisterType&lt;StorageCoordinator&gt;().AsSelf() .SingleInstance(); lBuilder.RegisterType&lt;TaskController&gt;().AsSelf() .SingleInstance(); // Allow derived classes to add to the container. ConfigureContainer(lBuilder); // Build the container Container = lBuilder.Build(); // Get the phone container instance. PhoneContainer = (AutofacPhoneContainer) Container.Resolve&lt;IPhoneContainer&gt;(); // Start the storage coordinator. StorageCoordinator lStorageCoordinator = Container.Resolve&lt;StorageCoordinator&gt;(); lStorageCoordinator.Start(); // Start the task controller. TaskController lTaskController = Container.Resolve&lt;TaskController&gt;(); lTaskController.Start(); // Add custom conventions for the phone. AddCustomConventions(); } /// &lt;summary&gt; /// Do not override unless you plan to full replace the logic. This is how the framework /// retrieves services from the Autofac container. /// &lt;/summary&gt; /// &lt;param name="aService"&gt; /// The service to locate. /// &lt;/param&gt; /// &lt;param name="aKey"&gt; /// The key to locate. /// &lt;/param&gt; /// &lt;returns&gt; /// The located service. /// &lt;/returns&gt; /// &lt;exception cref="Exception"&gt; /// Could not locate any instances of service. /// &lt;/exception&gt; protected override object GetInstance(Type aService, string aKey) { object lInstance; if (string.IsNullOrEmpty(aKey)) { if (Container.TryResolve(aService, out lInstance)) { return lInstance; } } else { if (Container.TryResolveNamed(aKey, aService, out lInstance)) { return lInstance; } } throw new Exception( string.Format( "Could not locate any instances of service {0}.", aKey ?? aService.Name)); } /// &lt;summary&gt; /// Do not override unless you plan to full replace the logic. This is how the framework /// retrieves services from the Autofac container. /// &lt;/summary&gt; /// &lt;param name="aService"&gt; /// The service to locate. /// &lt;/param&gt; /// &lt;returns&gt; /// The located services. /// &lt;/returns&gt; protected override IEnumerable&lt;object&gt; GetAllInstances(Type aService) { IEnumerable&lt;object&gt; lResult = Container.Resolve(typeof (IEnumerable&lt;&gt;).MakeGenericType(aService)) as IEnumerable&lt;object&gt;; return lResult; } /// &lt;summary&gt; /// Do not override unless you plan to full replace the logic. This is how the framework /// retrieves services from the Autofac container. /// &lt;/summary&gt; /// &lt;param name="aInstance"&gt; /// The instance to perform injection on. /// &lt;/param&gt; protected override void BuildUp(object aInstance) { Container.InjectProperties(aInstance); } /// &lt;summary&gt; /// Override to provide configuration prior to the Autofac configuration. You must call the base version BEFORE any /// other statement or the behaviour is undefined. /// Current Defaults: /// EnforceNamespaceConvention = true /// TreatViewAsLoaded = false /// ViewModelBaseType = &lt;see cref="System.ComponentModel.INotifyPropertyChanged"/&gt; /// CreateWindowManager = &lt;see cref="Caliburn.Micro.WindowManager"/&gt; /// CreateEventAggregator = &lt;see cref="Caliburn.Micro.EventAggregator"/&gt; /// CreateFrameAdapter = &lt;see cref="Caliburn.Micro.FrameAdapter"/&gt; /// CreatePhoneApplicationServiceAdapter = &lt;see cref="Caliburn.Micro.PhoneApplicationServiceAdapter"/&gt; /// CreateVibrateController = &lt;see cref="Caliburn.Micro.SystemVibrateController"/&gt; /// CreateSoundEffectPlayer = &lt;see cref="Caliburn.Micro.XnaSoundEffectPlayer"/&gt; /// &lt;/summary&gt; protected virtual void ConfigureBootstrapper() { // By default, enforce the namespace convention. EnforceNamespaceConvention = true; // By default, do not treat the view as loaded. TreatViewAsLoaded = false; // The default view model base type. ViewModelBaseType = typeof (INotifyPropertyChanged); // Default window manager. CreateWindowManager = () =&gt; new WindowManager(); // Default event aggregator. CreateEventAggregator = () =&gt; new EventAggregator(); // Default frame adapter. CreateFrameAdapter = () =&gt; new FrameAdapter(RootFrame, TreatViewAsLoaded); // Default phone application service adapter. CreatePhoneApplicationServiceAdapter = () =&gt; new PhoneApplicationServiceAdapter(RootFrame); // Default vibrate controller. CreateVibrateController = () =&gt; new SystemVibrateController(); // Default sound effect player. CreateSoundEffectPlayer = () =&gt; new XnaSoundEffectPlayer(); } /// &lt;summary&gt; /// Override to include your own Autofac configuration after the framework has finished its /// configuration, but before the container is created. /// &lt;/summary&gt; /// &lt;param name="aBuilder"&gt; /// The Autofac configuration builder. /// &lt;/param&gt; protected virtual void ConfigureContainer(ContainerBuilder aBuilder) { } /// &lt;summary&gt; /// Activates an instance in phone container. Derived types should call this method for /// registering types that should support storage mechanism. /// &lt;/summary&gt; /// &lt;param name="aInstance"&gt; /// Instance to activate. /// &lt;/param&gt; /// &lt;remarks&gt; /// Use this method as event handler on service registation in /// &lt;see cref="ConfigureContainer"/&gt; method. ViewModels already registering with using it. /// &lt;/remarks&gt; protected void ActivateInstance(object aInstance) { if (PhoneContainer == null) { return; } PhoneContainer.ActivateInstance(aInstance); } #endregion #region Private properties private AutofacPhoneContainer PhoneContainer { get; set; } #endregion #region Private methods private static void AddCustomConventions() { ConventionManager.AddElementConvention&lt;Pivot&gt;( ItemsControl.ItemsSourceProperty, "SelectedItem", "SelectionChanged").ApplyBinding = (aViewModelType, aPath, aProperty, aElement, aConvention) =&gt; { if (ConventionManager .GetElementConvention(typeof (ItemsControl)) .ApplyBinding(aViewModelType, aPath, aProperty, aElement, aConvention)) { ConventionManager .ConfigureSelectedItem( aElement, Pivot.SelectedItemProperty, aViewModelType, aPath); ConventionManager .ApplyHeaderTemplate( aElement, Pivot.HeaderTemplateProperty, null, aViewModelType); return true; } return false; }; ConventionManager.AddElementConvention&lt;Panorama&gt;( ItemsControl.ItemsSourceProperty, "SelectedItem", "SelectionChanged").ApplyBinding = (aViewModelType, aPath, aProperty, aElement, aConvention) =&gt; { if (ConventionManager .GetElementConvention(typeof (ItemsControl)) .ApplyBinding(aViewModelType, aPath, aProperty, aElement, aConvention)) { ConventionManager .ConfigureSelectedItem( aElement, Panorama.SelectedItemProperty, aViewModelType, aPath); ConventionManager .ApplyHeaderTemplate( aElement, Panorama.HeaderTemplateProperty, null, aViewModelType); return true; } return false; }; } #endregion } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Autofacãƒ–ãƒ¼ãƒˆã‚¹ãƒˆãƒ©ãƒƒãƒ—</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// Project: Caliburn.Micro.Autofac // File name: AutofacBootstrapper.cs // File GUID: CB807DF7-2D69-4B05-AC17-C3E191D7C182 // Authors: Mike Eshva (mike@eshva.ru) // Date of creation: 20.05.2012 using System; using System.IO.IsolatedStorage; using Autofac; namespace Caliburn.Micro.Autofac { /// &lt;summary&gt; /// Component that allows storage system to communicate with Autofac IoC container. /// &lt;/summary&gt; public class AutofacPhoneContainer : IPhoneContainer { #region Constructors /// &lt;summary&gt; /// Initialize new instance of component that allows storage system to communicate with /// Autofac IoC container. /// &lt;/summary&gt; /// &lt;param name="aContext"&gt; /// Autofac IoC context. /// &lt;/param&gt; /// &lt;exception cref="ArgumentNullException"&gt; /// Autofac IoC context not specified. /// &lt;/exception&gt; public AutofacPhoneContainer(IComponentContext aContext) { if (aContext == null) { throw new ArgumentNullException("aContext", "Autofac IoC context is not specified."); } Context = aContext; } #endregion #region IPhoneContainer Members /// &lt;summary&gt; /// Registers the service as a singleton stored in the phone state. /// &lt;/summary&gt; /// &lt;param name="aService"&gt; /// The service. /// &lt;/param&gt; /// &lt;param name="aPhoneStateKey"&gt; /// The phone state key. /// &lt;/param&gt; /// &lt;param name="aImplementation"&gt; /// The implementation. /// &lt;/param&gt; public void RegisterWithPhoneService (Type aService, string aPhoneStateKey, Type aImplementation) { string lObjectKey = aPhoneStateKey ?? aService.FullName; IPhoneService lPhoneService = Context.Resolve&lt;IPhoneService&gt;(); if (!lPhoneService.State.ContainsKey(lObjectKey)) { // There is no object with such a key in the phone state. // Create a plain new object and store it the phone state. object lEntireGraphObject = Context.Resolve(aService); lPhoneService.State[lObjectKey] = lEntireGraphObject; // Effectively replace service registration in // Autofac-container (the last registration wins). ContainerBuilder lBuilder = new ContainerBuilder(); lBuilder.RegisterType(aImplementation) .As(aService) .OnActivating( // Replace an object build by the container with one // from the phone state using OnActivating event. aArgs =&gt; { IPhoneService lInnerPhoneService = aArgs.Context.Resolve&lt;IPhoneService&gt;(); if (lInnerPhoneService.State.ContainsKey(lObjectKey)) { object lInstance = lInnerPhoneService.State[lObjectKey]; aArgs.ReplaceInstance(lInstance); } }); lBuilder.Update(Context.ComponentRegistry); } } /// &lt;summary&gt; /// Registers the service as a singleton stored in the app settings. /// &lt;/summary&gt; /// &lt;param name="aService"&gt; /// The service. /// &lt;/param&gt; /// &lt;param name="aPhoneSettingsKey"&gt; /// The app settings key. /// &lt;/param&gt; /// &lt;param name="aImplementation"&gt; /// The implementation. /// &lt;/param&gt; /// &lt;exception cref="ArgumentNullException"&gt; /// Service or implementation not specified. /// &lt;/exception&gt; public void RegisterWithAppSettings (Type aService, string aPhoneSettingsKey, Type aImplementation) { string lObjectKey = aPhoneSettingsKey ?? aService.FullName; if (!IsolatedStorageSettings.ApplicationSettings.Contains(lObjectKey)) { // There is no object with such a key in the application isolated storage. // Probably it is the first time application executed. // Create a plain new object and store it the application isolated storage. object lEntireGraphObject = Context.Resolve(aImplementation); IsolatedStorageSettings.ApplicationSettings[lObjectKey] = lEntireGraphObject; } // Effectively replace service registration in // Autofac-container (the last registration wins). ContainerBuilder lBuilder = new ContainerBuilder(); lBuilder.RegisterType(aImplementation) .As(aService) .OnActivating( // Replace an object build by the container with one // from the application isolated storage using OnActivating event. aArgs =&gt; { if (IsolatedStorageSettings.ApplicationSettings.Contains(lObjectKey)) { object lInstance = IsolatedStorageSettings.ApplicationSettings[lObjectKey]; aArgs.ReplaceInstance(lInstance); } }); lBuilder.Update(Context.ComponentRegistry); } /// &lt;summary&gt; /// Occurs when a new instance is created. /// &lt;/summary&gt; public event Action&lt;object&gt; Activated = delegate { }; #endregion #region Assembly interface /// &lt;summary&gt; /// Activates &lt;paramref name="aInstance"/&gt;. /// &lt;/summary&gt; /// &lt;param name="aInstance"&gt; /// Instance to activate. /// &lt;/param&gt; internal void ActivateInstance(object aInstance) { Activated(aInstance); } #endregion #region Private properties private IComponentContext Context { get; set; } #endregion } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PSç§ã¯ã“ã‚ŒãŒç§ã®ãƒ–ãƒ­ã‚°ã‹ã‚‰ã®æŠ•ç¨¿ã§ã‚ã‚‹ã“ã¨ã‚’ã™ãã«è¨€ã„ã¾ã™ã€ãã—ã¦ã€ç§ã¯å†ç‰ˆã—ãªã„è¦å‰‡ã«ã¤ã„ã¦çŸ¥ã£ã¦ã„ã¾ã™ã€‚ ã—ã‹ã—ã€å®Ÿéš›ã«ã¯ç§ã®ãƒ–ãƒ­ã‚°ã¯å®£ä¼ã•ã‚Œã¦ãŠã‚‰ãšã€ç§ãŒå…±æœ‰ã™ã‚‹æƒ…å ±ã¯å¤šãã®äººã«ã¨ã£ã¦æœ‰ç”¨ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ è¨€ã„è¨³ã¨ã—ã¦ã€ç§ã®ãƒ–ãƒ­ã‚°ã¸ã®ãƒªãƒ³ã‚¯ã‚’æä¾›ã—ãªã„ã“ã¨ãŒã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚ </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J145579/index.html">DataGeneticsã‹ã‚‰ã®èˆˆå‘³æ·±ã„ãƒ‰ãƒ¡ã‚¤ãƒ³ã®äº‹å®Ÿ</a></li>
<li><a href="../J14558/index.html">ãƒ¢ã‚¹ã‚¯ãƒ¯ã®ãƒãƒªã‚¢ã‚¹ãƒˆãƒ¼ãƒ³ï¼šã€ŒGoogleãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ï¼šé‡å¿ƒçš„ãªç›®æ¨™ã€é”æˆæ–¹æ³•ã€</a></li>
<li><a href="../J145580/index.html">ãƒªãƒãƒ£ãƒ¼ãƒ‰ãƒ»ãƒ•ã‚¡ã‚¤ãƒ³ãƒãƒ³ã«é–¢ã™ã‚‹FBIé–¢ä¿‚æ›¸é¡ã‚’å…¬é–‹</a></li>
<li><a href="../J145581/index.html">Stuxnetã€Flameã€Duquã¯GPLã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¾ã—ãŸ</a></li>
<li><a href="../J145582/index.html">æ–°ã—ã„å¤‰æ›ï¼šTAICHI UltrabooksãŠã‚ˆã³Transformer Book</a></li>
<li><a href="../J145584/index.html">Beeline Wi-Fiã¯ã€é–‹ã„ã¦ã„ã‚‹ã‚¿ãƒ–ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã«å‹ã¡ã¾ã™</a></li>
<li><a href="../J145585/index.html">Ubuntu Server 12.04 LTSãƒ›ãƒ¼ãƒ ãƒ¡ãƒ‡ã‚£ã‚¢ã‚µãƒ¼ãƒãƒ¼</a></li>
<li><a href="../J145586/index.html">æ‰‹é¦–ã‚’è»½ãæŠ¼ã™ã ã‘ã§ã€Hotmailã¯... Newmailã«å¤‰ã‚ã‚Šã¾ã™</a></li>
<li><a href="../J145587/index.html">ãƒ‡ãƒ–ãƒªãƒ¼ãƒ•ã‚£ãƒ³ã‚°-ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰20-Optimist Programmers</a></li>
<li><a href="../J145588/index.html">AMDã¯ç‹¬è‡ªã®ãƒŸãƒ‹PCã‚’å°å…¥ã—ã¾ã—ãŸ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>