<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯдЮЁЯП┐ тЭМ тЫЕя╕П рдзреВрдордХреЗрддреБ - 1,000,000 рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рднрд╛рд░ рдХреЗ рд╕рд╛рде рдореЛрдЪреАрд╡реЗрдм рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрдиред рднрд╛рдЧ 3/3 ЁЯШК ЁЯЩЗЁЯП╝ ЁЯПм</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓реЗрдЦреЛрдВ рдХреА рдЗрд╕ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ рднрд╛рдЧ 1 рдФрд░ рднрд╛рдЧ 2 рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдореЛрдЪреАрд╡реЗрдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдФрд░ рдХрдиреЗрдХреНрдЯреЗрдб рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрджреЗрд╢ рдХреИрд╕реЗ рднреЗ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>рдзреВрдордХреЗрддреБ - 1,000,000 рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рднрд╛рд░ рдХреЗ рд╕рд╛рде рдореЛрдЪреАрд╡реЗрдм рдХреЗ рд▓рд┐рдП рдЖрд╡реЗрджрдиред рднрд╛рдЧ 3/3</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/111600/"> рд▓реЗрдЦреЛрдВ рдХреА рдЗрд╕ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдореЗрдВ <a href="http://habrahabr.ru/blogs/erlang/111252/">рднрд╛рдЧ 1</a> рдФрд░ <a href="http://habrahabr.ru/blogs/erlang/111350/">рднрд╛рдЧ 2</a> рдореЗрдВ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ рдХрд┐ рдореЛрдЪреАрд╡реЗрдм рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдФрд░ рдХрдиреЗрдХреНрдЯреЗрдб рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрджреЗрд╢ рдХреИрд╕реЗ рднреЗрдЬреЗрдВред  рд╣рдордиреЗ рдкреНрд░рддреНрдпреЗрдХ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдХреА рдЦрдкрдд рдХреЛ 8 KB рддрдХ рдШрдЯрд╛ рджрд┐рдпрд╛ред  рд╣рдордиреЗ c10k рдкрд░реАрдХреНрд╖рдг рджреЛрд╣рд░рд╛рдпрд╛ред  рд╣рдордиреЗ рд╢реЗрдбреНрдпреВрд▓ рдмрдирд╛рдпрд╛ред  рдпрд╣ рдордЬреЗрджрд╛рд░ рдерд╛, рд▓реЗрдХрд┐рди рдЕрдм 1 рдорд┐рд▓рд┐рдпрди рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд╕рдм рдХреБрдЫ рджреЛрд╣рд░рд╛рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╢рд╛рдорд┐рд▓ рд╣реИрдВ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдорд╛рдиреЗрд╕рд┐рдпрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдПрдХ рдорд┐рд▓рд┐рдпрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдлрд╝реЙрд░реНрдо "рдорд┐рддреНрд░реЛрдВ" рдХреЗ рдПрдХ рдкреНрд░рд╢рдВрд╕рдиреАрдп рдбреЗрдЯрд╛ рд╕реЗрдЯ рдХреА рдкреАрдврд╝реА; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв Mnesia рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рдФрд░ рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛ рдХреЛ рджрд░реНрдЬ рдХрд░реЗрдВ; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдПрдХ рдорд╢реАрди рд╕реЗ рдПрдХ рд▓рд╛рдЦ рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреА рдЦреЛрдЬ; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв 1 рдорд┐рд▓рд┐рдпрди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛рддреНрдордХ рдкрд░реАрдХреНрд╖рдг; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд▓рд┐рдмрд╡реЗрдВрдЯ + рд╕реА; 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдЕрдВрддрд┐рдо рдирд┐рд╖реНрдХрд░реНрд╖ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рдПрдХрд▓ рдкрд░реАрдХреНрд╖рдг рдорд╢реАрди рд╕реЗ 1,000,000 рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред  рдПрдХ рд╕рд░реНрд╡рд░ рд▓рд┐рдЦрдирд╛ рдЬреЛ 1,000,000 рдХрдиреЗрдХреНрд╢рди рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИ, рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ 1,000,000 рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдирд╛ рдЖрд╕рд╛рди рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЗрд╕ рд▓реЗрдЦ рдХреА рдПрдХ рдЙрдЪрд┐рдд рд░рд╛рд╢рд┐ рдПрдХрд▓ рдорд╢реАрди рд╕реЗ 1,000,000 рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рддрд░реАрдХреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рд╣рдорд╛рд░реЗ Pubsub рдХрд╛ рд╢реБрднрд╛рд░рдВрднред </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рднрд╛рдЧ 2 рдореЗрдВ, рд╣рдордиреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд╛рдЙрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред  рдпрд╣ рдЪреИрдЯ / рдЖрдИрдПрдо рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдмрдЬрд╛рдп рдФрд░ рднреА рдЙрдкрдпреЛрдЧреА рдЪреАрдЬреЗрдВ рд╣реИрдВ рдЬреЛ рд╣рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рдмрдбрд╝реЗ рдкреИрдорд╛рдиреЗ рдкрд░ рдкрд░реАрдХреНрд╖рдг рд╢реБрд░реВ рдХрд░реЗрдВ, рдЪрд▓реЛ рдПрдХ рдФрд░ рдореЙрдбреНрдпреВрд▓ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ - рдЧреНрд░рд╛рд╣рдХ рдбреЗрдЯрд╛рдмреЗрд╕ред  рд╣рдо рдЖрдкрдХреЗ рджреЛрд╕реНрддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдмрдирд╛рдПрдВрдЧреЗ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдЖрдкрдХреЛ рдЖрдкрдХреЗ рджреЛрд╕реНрддреЛрдВ рдХреА рд╕реВрдЪреА рдХреЗ рд▓реЛрдЧреЛрдВ рджреНрд╡рд╛рд░рд╛ рдЙрддреНрдкрдиреНрди рд╕рднреА рдШрдЯрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдореЗрд░рд╛ рдЗрд░рд╛рджрд╛ Last.fm рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕ рддрд░рд╣, рдореИрдВ рдЙрди рдЧреАрддреЛрдВ рдХрд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдЪреИрдирд▓ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ рдЬреЛ рдореЗрд░реЗ рдорд┐рддреНрд░ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕реБрди рд░рд╣реЗ рд╣реИрдВред  рдпрд╣ рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдЙрддреНрдкрдиреНрди рдЕрдиреНрдп рдШрдЯрдирд╛рдУрдВ рдкрд░ рд╕рдорд╛рди рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдлрд╝реНрд▓рд┐рдХрд░, рдлреЗрд╕рдмреБрдХ, рдЯреНрд╡рд┐рдЯрд░, рдЖрджрд┐ рдХреЗ рддрддреНрд╡реЛрдВ рдХреЛ рдЕрдкрд▓реЛрдб рдХреА рдЧрдИ рддрд╕реНрд╡реАрд░реЗрдВ рд╕рдорд╛рдЪрд╛рд░ рдлрд╝реАрдб  FriendFeed рдореЗрдВ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдмреАрдЯрд╛ API рднреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рдПрдХ рд╕рджрд╕реНрдпрддрд╛ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╣рдо рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╕рджрд╕реНрдпрддрд╛ рдкреНрд░рдмрдВрдзрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╣рдо рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЕрдкрдиреЗ рд╕рднреА рджреЛрд╕реНрддреЛрдВ рдХреЛ рд▓реЛрдЧреЛрдВ рдХреА рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдВрдЧреЗред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдПрдкреАрдЖрдИ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв add_subsults ([{рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░, рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░}, ...]) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв remove_subsults ([{рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░, рд╕рдмреНрд╕рдХреНрд░рд╛рдЗрдмрд░}, ...]) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв get_subscribers (рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql">-module(subsmanager). -behaviour(gen_server). -<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>("/usr/local/lib/erlang/lib/stdlib-1.15.4/include/qlc.hrl"). -export([init/<span class="hljs-number"><span class="hljs-number">1</span></span>, handle_call/<span class="hljs-number"><span class="hljs-number">3</span></span>, handle_cast/<span class="hljs-number"><span class="hljs-number">2</span></span>, handle_info/<span class="hljs-number"><span class="hljs-number">2</span></span>, terminate/<span class="hljs-number"><span class="hljs-number">2</span></span>, code_change/<span class="hljs-number"><span class="hljs-number">3</span></span>]). -export([add_subscriptions/<span class="hljs-number"><span class="hljs-number">1</span></span>, remove_subscriptions/<span class="hljs-number"><span class="hljs-number">1</span></span>, get_subscribers/<span class="hljs-number"><span class="hljs-number">1</span></span>, first_run/<span class="hljs-number"><span class="hljs-number">0</span></span>, stop/<span class="hljs-number"><span class="hljs-number">0</span></span>, start_link/<span class="hljs-number"><span class="hljs-number">0</span></span>]). -<span class="hljs-type"><span class="hljs-type">record</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, {subscriber, subscribee}). -<span class="hljs-type"><span class="hljs-type">record</span></span>(state, {}). % state <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mnesia -define(<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">global</span></span>:whereis_name(?MODULE)). start_link() -&gt; gen_server:start_link({<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>, ?MODULE}, ?MODULE, [], []). stop() -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {stop}). add_subscriptions(SubsList) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {add_subscriptions, SubsList}, <span class="hljs-keyword"><span class="hljs-keyword">infinity</span></span>). remove_subscriptions(SubsList) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {remove_subscriptions, SubsList}, <span class="hljs-keyword"><span class="hljs-keyword">infinity</span></span>). get_subscribers(<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {get_subscribers, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}). %% init([]) -&gt; ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(), io:format("Waiting on mnesia tables..\n",[]), mnesia:wait_for_tables([<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>], <span class="hljs-number"><span class="hljs-number">30000</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">Info</span></span> = mnesia:table_info(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">all</span></span>), io:format("OK. Subscription table info: \n~w\n\n",[<span class="hljs-keyword"><span class="hljs-keyword">Info</span></span>]), {ok, #state{}}. handle_call({stop}, _From, State) -&gt; {stop, stop, State}; handle_call({add_subscriptions, SubsList}, _From, State) -&gt; % Transactionally <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> slower: % F = fun() -&gt; % [ ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">write</span></span>(S) || S &lt;- SubsList ] % <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, % mnesia:<span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>(F), [ mnesia:dirty_write(S) || S &lt;- SubsList ], {reply, ok, State}; handle_call({remove_subscriptions, SubsList}, _From, State) -&gt; F = fun() -&gt; [ ok = mnesia:delete_object(S) || S &lt;- SubsList ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, mnesia:<span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>(F), {reply, ok, State}; handle_call({get_subscribers, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}, <span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, State) -&gt; F = fun() -&gt; Subs = mnesia:dirty_match_object(#<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=<span class="hljs-string"><span class="hljs-string">'_'</span></span>, subscribee=<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>}), Users = [Dude || #<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=Dude, subscribee=_} &lt;- Subs], gen_server:reply(<span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, Users) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, spawn(F), {noreply, State}. handle_cast(_Msg, State) -&gt; {noreply, State}. handle_info(_Msg, State) -&gt; {noreply, State}. terminate(_Reason, _State) -&gt; mnesia:stop(), ok. code_change(_OldVersion, State, _Extra) -&gt; io:format("Reloading code for ?MODULE\n",[]), {ok, State}. %% first_run() -&gt; mnesia:create_schema([node()]), ok = mnesia:<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(), Ret = mnesia:create_table(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, [ {disc_copies, [node()]}, {attributes, record_info(fields, <span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>)}, {<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>, [subscribee]}, %<span class="hljs-keyword"><span class="hljs-keyword">index</span></span> subscribee too {<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>, bag} ]), Ret.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЙрд▓реНрд▓реЗрдЦрдиреАрдп: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдореИрдВрдиреЗ рдкреВрд░реНрдг рдкрде рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП Mnesia рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ qlc.hrl рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд┐рдпрд╛ред  рдпрд╣ рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╕реЗ рдореИрдВ рд╕рдлрд▓ рдирд╣реАрдВ рд╣реБрдЖред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв get_subscribers рдПрдХ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдЬрдиреНрдо рджреЗрддрд╛ рд╣реИ рдФрд░ gen_server рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрд╕реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ: рдЙрддреНрддрд░ред  рдЗрд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ рдЕрдЧрд░ рд╣рдо рдЕрдХреНрд╕рд░ рд▓реБрдХрдЕрдк рдХрд╣рддреЗ рд╣реИрдВ рддреЛ gen_server рд▓реВрдк рдЗрд╕ рдХреЙрд▓ рдкрд░ рдмреНрд▓реЙрдХ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдЖрд░рдЖрд░ ("рд╕рдмрдордирдЧрд░.рдПрд▓рдЖрд░")ред  рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдЙрджрд╛рд╣рд░рдг рдЖрдкрдХреЛ erl рд╢реЗрд▓ рдореЗрдВ рд░рд┐рдХреЙрд░реНрдб рдкрд░рд┐рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  Record.hrl рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЕрдкрдиреА рдкрд░рд┐рднрд╛рд╖рд╛рдПрдБ рд░рдЦрдирд╛ рдФрд░ рдЗрд╕реЗ рдЕрдкрдиреЗ рдореЙрдбреНрдпреВрд▓ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреА рд╢реИрд▓реА рд╣реИред  рдореИрдВрдиреЗ рд╢реЙрд░реНрдЯ рдХреЗ рд▓рд┐рдП рдРрд╕рд╛ рдХрд┐рдпрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрдм рдЬрд╛рдВрдЪ рдХрд░реЗрдВред  first_run () Mnesia рд╕реНрдХреАрдорд╛ рдмрдирд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдкрд╣рд▓реЗ рдХреЙрд▓ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред  рдордиреЗрд╕рд┐рдпрд╛ рдХреЗ рд╕рд╛рде рдПрдХ рдФрд░ рд╕рдВрднрд╛рд╡рд┐рдд рдЧрдбрд╝рдмрдбрд╝ рдпрд╣ рд╣реИ рдХрд┐ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ) рдХреЗрд╡рд▓ рдиреЛрдб рдЬреЛ рдЗрд╕реЗ рдмрдирд╛рддрд╛ рд╣реИ рд╡рд╣ рдбреЗрдЯрд╛рдмреЗрд╕ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЦреЛрд▓ рдХреЛ рдПрдХ рдирд╛рдо рджреЗрдВред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ mkdir /var/mnesia $ erl -boot start_sasl -mnesia dir <span class="hljs-string"><span class="hljs-string">'"/var/mnesia_data"'</span></span> -sname subsman (subsman@localhost)<span class="hljs-number"><span class="hljs-number">1</span></span>&gt; c(subsmanager). {ok,subsmanager} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">2</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>first_run(). ... {atomic,ok} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">3</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>start_link(). Waiting on mnesia tables.. OK. Subscription table <span class="hljs-symbol"><span class="hljs-symbol">info:</span></span> [{access_mode,read_write},{active_replicas,[subsman@localhost]},{arity,<span class="hljs-number"><span class="hljs-number">3</span></span>},{attributes,[subscriber,subscribee]},{checkpoints,[]},{commit_work,[{index,bag,[{<span class="hljs-number"><span class="hljs-number">3</span></span>,{ram,<span class="hljs-number"><span class="hljs-number">57378</span></span>}}]}]},{cookie,{{<span class="hljs-number"><span class="hljs-number">1224</span></span>,<span class="hljs-number"><span class="hljs-number">800064</span></span>,<span class="hljs-number"><span class="hljs-number">900003</span></span>},subsman@localhost}},{cstruct,{cstruct,subscription,bag,[],[subsman@localhost],[],<span class="hljs-number"><span class="hljs-number">0</span></span>,read_write,[<span class="hljs-number"><span class="hljs-number">3</span></span>],[],<span class="hljs-literal"><span class="hljs-literal">false</span></span>,subscription,[subscriber,subscribee],[],[],{{<span class="hljs-number"><span class="hljs-number">1224</span></span>,<span class="hljs-number"><span class="hljs-number">863164</span></span>,<span class="hljs-number"><span class="hljs-number">904753</span></span>},subsman@localhost},{{<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},[]}}},{disc_copies,[subsman@localhost]},{disc_only_copies,[]},{frag_properties,[]},{index,[<span class="hljs-number"><span class="hljs-number">3</span></span>]},{load_by_force,<span class="hljs-literal"><span class="hljs-literal">false</span></span>},{load_node,subsman@localhost},{load_order,<span class="hljs-number"><span class="hljs-number">0</span></span>},{load_reason,{dumper,create_table}},{local_content,<span class="hljs-literal"><span class="hljs-literal">false</span></span>},{master_nodes,[]},{memory,<span class="hljs-number"><span class="hljs-number">288</span></span>},{ram_copies,[]},{record_name,subscription},{record_validation,{subscription,<span class="hljs-number"><span class="hljs-number">3</span></span>,bag}},{type,bag},{size,<span class="hljs-number"><span class="hljs-number">0</span></span>},{snmp,[]},{storage_type,disc_copies},{subscribers,[]},{user_properties,[]},{version,{{<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>},[]}},{where_to_commit,[{subsman@localhost,disc_copies}]},{where_to_read,subsman@localhost},{where_to_write,[subsman@localhost]},{wild_pattern,{subscription,<span class="hljs-string"><span class="hljs-string">'_'</span></span>,<span class="hljs-string"><span class="hljs-string">'_'</span></span>}},{{index,<span class="hljs-number"><span class="hljs-number">3</span></span>},<span class="hljs-number"><span class="hljs-number">57378</span></span>}] {ok,&lt;<span class="hljs-number"><span class="hljs-number">0</span></span>.<span class="hljs-number"><span class="hljs-number">105.0</span></span>&gt;} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">4</span></span>&gt; rr(<span class="hljs-string"><span class="hljs-string">"subsmanager.erl"</span></span>). [state,subscription] (subsman@localhost)<span class="hljs-number"><span class="hljs-number">5</span></span>&gt; <span class="hljs-symbol"><span class="hljs-symbol">subsmanager:</span></span>add_subscriptions([ <span class="hljs-comment"><span class="hljs-comment">#subscription{subscriber=alice, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)6&gt; subsmanager:add_subscriptions([ #subscription{subscriber=bob, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)7&gt; subsmanager:get_subscribers(rj). [bob,alice] (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)8&gt; subsmanager:remove_subscriptions([ #subscription{subscriber=bob, subscribee=rj} ]). ok (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)8&gt; subsmanager:get_subscribers(rj). [alice] (subsman</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@localhost</span></span></span><span class="hljs-comment">)10&gt; subsmanager:get_subscribers(charlie). []</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╣рдо рдкреВрд░реНрдгрд╛рдВрдХ Ids рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рдмреАрдЪ рдЕрдВрддрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗ - рд▓реЗрдХрд┐рди рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдореИрдВрдиреЗ рдкрд░рдорд╛рдгреБрдУрдВ (rj, alice, bob) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдФрд░ рдпрд╣ рдорд╛рди рд▓рд┐рдпрд╛ рдХрд┐ alice рдФрд░ bob rj рдХреЗ рдорд┐рддреНрд░ рд╣реИрдВред  рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИ рдХрд┐ рдорд╛рдиреЗрд╕рд┐рдпрд╛ (рдФрд░ ets / dets) рдкрд░рд╡рд╛рд╣ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдЖрдкрдиреЗ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИ - рдХреЛрдИ рднреА рдЗрд░рд▓рдВрдЧ рд╢рдмреНрдж рдорд╛рдиреНрдп рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░реЛрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрджреНрдпрддрди рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рд░рд╛рдЙрдЯрд░ рдмрджрд▓реЗрдВ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рдмрдЬрд╛рдп, рд╡рд╣ рд╣реИ: рд░рд╛рдЙрдЯрд░: рднреЗрдЬреЗрдВ (123, "рд╣реИрд▓реЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 123"), рд╣рдо рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ "рдЪрд┐рд╣реНрдирд┐рдд" рдХрд░рддреЗ рд╣реИрдВ - рд╕рдВрджреЗрд╢ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рд╡реНрдпрдХреНрддрд┐ - рдФрд░ рдПрдХ рд░рд╛рдЙрдЯрд░ рд╣реИ рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрддрд╛ рд╣реИред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдПрдкреАрдЖрдИ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдХрд╛рдо рдХрд░реЗрдЧрд╛: рд░рд╛рдЙрдЯрд░: рд╕реЗрдВрдб (123, "рд╣реЗрд▓реЛ рд╣рд░ рдпреВрдЬрд░ рд╕рдмреНрд╕реНрдХреНрд░рд╛рдЗрдм рдЯреВ 123")ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">-module(router). -behaviour(gen_server). -export([start_link/<span class="hljs-number"><span class="hljs-number">0</span></span>]). -export([init/<span class="hljs-number"><span class="hljs-number">1</span></span>, handle_call/<span class="hljs-number"><span class="hljs-number">3</span></span>, handle_cast/<span class="hljs-number"><span class="hljs-number">2</span></span>, handle_info/<span class="hljs-number"><span class="hljs-number">2</span></span>, terminate/<span class="hljs-number"><span class="hljs-number">2</span></span>, code_change/<span class="hljs-number"><span class="hljs-number">3</span></span>]). -export([send/<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">login</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span>, logout/<span class="hljs-number"><span class="hljs-number">1</span></span>]). -define(<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">global</span></span>:whereis_name(?MODULE)). % will hold bidirectional <span class="hljs-keyword"><span class="hljs-keyword">mapping</span></span> <span class="hljs-keyword"><span class="hljs-keyword">between</span></span> id &lt;тАУ&gt; pid -<span class="hljs-type"><span class="hljs-type">record</span></span>(state, {pid2id, id2pid}). start_link() -&gt; gen_server:start_link({<span class="hljs-keyword"><span class="hljs-keyword">global</span></span>, ?MODULE}, ?MODULE, [], []). % sends Msg <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> anyone subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Id send(Id, Msg) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {send, Id, Msg}). <span class="hljs-keyword"><span class="hljs-keyword">login</span></span>(Id, Pid) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {<span class="hljs-keyword"><span class="hljs-keyword">login</span></span>, Id, Pid}). logout(Pid) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; gen_server:<span class="hljs-keyword"><span class="hljs-keyword">call</span></span>(?<span class="hljs-keyword"><span class="hljs-keyword">SERVER</span></span>, {logout, Pid}). %% init([]) -&gt; % <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> this so we can catch death <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pids: process_flag(trap_exit, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>), % use ets <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> routing <span class="hljs-keyword"><span class="hljs-keyword">tables</span></span> {ok, #state{ pid2id = ets:<span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(?MODULE, [bag]), id2pid = ets:<span class="hljs-built_in"><span class="hljs-built_in">new</span></span>(?MODULE, [bag]) } }. handle_call({<span class="hljs-keyword"><span class="hljs-keyword">login</span></span>, Id, Pid}, _From, State) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; ets:<span class="hljs-keyword"><span class="hljs-keyword">insert</span></span>(State#state.pid2id, {Pid, Id}), ets:<span class="hljs-keyword"><span class="hljs-keyword">insert</span></span>(State#state.id2pid, {Id, Pid}), link(Pid), % tell us <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> they <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>, so we can <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> them <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> %io:format("~w logged in as ~w\n",[Pid, Id]), {reply, ok, State}; handle_call({logout, Pid}, _From, State) <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> is_pid(Pid) -&gt; unlink(Pid), PidRows = ets:lookup(State#state.pid2id, Pid), <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> PidRows <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> [] -&gt; ok; _ -&gt; IdRows = [ {I,P} || {P,I} &lt;- PidRows ], % invert tuples ets:<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span>(State#state.pid2id, Pid), % <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> pid-&gt;id entries [ ets:delete_object(State#state.id2pid, Obj) || Obj &lt;- IdRows ] % <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> id-&gt;pid <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, %io:format("pid ~w logged out\n",[Pid]), {reply, ok, State}; handle_call({send, Id, Msg}, <span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, State) -&gt; F = fun() -&gt; % <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> users who are subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> Id: Users = subsmanager:get_subscribers(Id), io:format("Subscribers of ~w = ~w\n",[Id, Users]), % <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> pids <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> anyone <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Users list: Pids0 = lists:map( fun(U)-&gt; [ P || { _I, P } &lt;- ets:lookup(State#state.id2pid, U) ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, [ Id | Users ] % we are <span class="hljs-keyword"><span class="hljs-keyword">always</span></span> subscribed <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> ourselves ), Pids = lists:flatten(Pids0), io:format("Pids: ~w\n", [Pids]), % send Msg <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> them <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> M = {router_msg, Msg}, [ Pid ! M || Pid &lt;- Pids ], % respond <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> how many users saw the message gen_server:reply(<span class="hljs-keyword"><span class="hljs-keyword">From</span></span>, {ok, length(Pids)}) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, spawn(F), {noreply, State}. % handle death <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> cleanup <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">logged</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> processes handle_info(<span class="hljs-keyword"><span class="hljs-keyword">Info</span></span>, State) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Info</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> {<span class="hljs-string"><span class="hljs-string">'EXIT'</span></span>, Pid, _Why} -&gt; handle_call({logout, Pid}, blah, State); Wtf -&gt; io:format("Caught unhandled message: ~w\n", [Wtf]) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, {noreply, State}. handle_cast(_Msg, State) -&gt; {noreply, State}. terminate(_Reason, _State) -&gt; ok. code_change(_OldVsn, State, _Extra) -&gt; {ok, State}.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдереЛрдбрд╝рд╛ рдкрд░реАрдХреНрд╖рдг - рдореИрдВрдиреЗ рдЖрдИрдбреА рдХреЗ рдмрдЬрд╛рдп рдкрд░рдорд╛рдгреБрдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs mel">(subsman@localhost)<span class="hljs-number"><span class="hljs-number">1</span></span>&gt; c(subsmanager), c(router), rr(<span class="hljs-string"><span class="hljs-string">"subsmanager.erl"</span></span>). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">2</span></span>&gt; subsmanager:start_link(). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">3</span></span>&gt; router:start_link(). (subsman@localhost)<span class="hljs-number"><span class="hljs-number">4</span></span>&gt; Subs = [#subscription{subscriber=alice, subscribee=rj}, #subscription{subscriber=bob, subscribee=rj}]. [#subscription{subscriber = alice,subscribee = rj}, #subscription{subscriber = bob,subscribee = rj}] (subsman@localhost)<span class="hljs-number"><span class="hljs-number">5</span></span>&gt; subsmanager:add_subscriptions(Subs). ok (subsman@localhost)<span class="hljs-number"><span class="hljs-number">6</span></span>&gt; router:send(rj, <span class="hljs-string"><span class="hljs-string">"RJ did something"</span></span>). Subscribers of rj = [bob,alice] Pids: [] {ok,<span class="hljs-number"><span class="hljs-number">0</span></span>} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">7</span></span>&gt; router:login(alice, self()). ok (subsman@localhost)<span class="hljs-number"><span class="hljs-number">8</span></span>&gt; router:send(rj, <span class="hljs-string"><span class="hljs-string">"RJ did something"</span></span>). Subscribers of rj = [bob,alice] Pids: [&lt;<span class="hljs-number"><span class="hljs-number">0.46</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>&gt;] {ok,<span class="hljs-number"><span class="hljs-number">1</span></span>} (subsman@localhost)<span class="hljs-number"><span class="hljs-number">9</span></span>&gt; receive {router_msg, M} -&gt; io:<span class="hljs-keyword"><span class="hljs-keyword">format</span></span>(<span class="hljs-string"><span class="hljs-string">"~s\n"</span></span>,[M]) end. RJ did something ok</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдПрд▓рд┐рд╕ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдХреЛрдИ рд╡реНрдпрдХреНрддрд┐ рдЬрд┐рд╕реЗ рд╡рд╣ рд╕рджрд╕реНрдпрддрд╛ рджреЗ рд░рд╣рд╛ рд╣реИ рд╡рд╣ рдПрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рд╕рдВрджреЗрд╢ рд╕реАрдзреЗ рдПрд▓рд┐рд╕ рдХреЛ рдирд╣реАрдВ рднреЗрдЬрд╛ рдЧрдпрд╛ рд╣реЛред  рдирд┐рд╖реНрдХрд░реНрд╖ рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рд░рд╛рдЙрдЯрд░ рдиреЗ рд╕рдВрднрд╛рд╡рд┐рдд рд▓рдХреНрд╖реНрдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди [alice, bob] рдХреЗ рд░реВрдк рдореЗрдВ рдХреА, рд▓реЗрдХрд┐рди рдПрдХ рд╡реНрдпрдХреНрддрд┐ рдХреЛ, alice, рдХреНрдпреЛрдВрдХрд┐ bob рдХреЛ рдЕрдзрд┐рдХреГрдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬ рджрд┐рдпрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдбреЗрдЯрд╛рд╕реЗрдЯ рдмрдирд╛рдирд╛ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╣рдо рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд░ рдмрд╣реБрдд рд╕рд╛рд░реЗ рд╕рдВрдмрдВрдз рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдпрдерд╛рд░реНрдерд╡рд╛рджреА рдирд╣реАрдВ рд╣реИред  рд╕рд╛рдорд╛рдЬрд┐рдХ рдиреЗрдЯрд╡рд░реНрдХ рдореЗрдВ рдЖрдорддреМрд░ рдкрд░ рдХреБрдЫ рд╕реБрдкрд░ рд▓реЛрдХрдкреНрд░рд┐рдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╣реЛрддреЗ рд╣реИрдВ (рдХреБрдЫ рдЯреНрд╡рд┐рдЯрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ 100,000 рд╕реЗ рдЕрдзрд┐рдХ рдЕрдиреБрдпрд╛рдпреА рд╣реИрдВ), рдФрд░ рдмрд╣реБрдд рд╕реЗ рд▓реЛрдЧ рдХреЗрд╡рд▓ рдХреБрдЫ рдореБрдЯреНрдареА рднрд░ рджреЛрд╕реНрдд рд╣реИрдВред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдбреЗрдЯрд╛рд╕реЗрдЯ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЙрддреНрдХреГрд╖реНрдЯ igraph рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╕реЗ рдкрд╛рдпрдерди рдореЙрдбреНрдпреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> igraph g = igraph.Graph.Barabasi(<span class="hljs-number"><span class="hljs-number">1000000</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>, directed=<span class="hljs-keyword"><span class="hljs-keyword">False</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"Edges: "</span></span> + str(g.ecount()) + <span class="hljs-string"><span class="hljs-string">" Verticies: "</span></span> + str(g.vcount()) g.write_edgelist(<span class="hljs-string"><span class="hljs-string">"fakefriends.txt"</span></span>)</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Mnesia рдореЗрдВ рдбреЗрдЯрд╛ рдЕрдкрд▓реЛрдб рдХрд░рдирд╛ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣ рдЫреЛрдЯрд╛ рдореЙрдбреНрдпреВрд▓ рдирдХрд▓реА рдЧрд░реНрд▓рдлреНрд░реЗрдВрдб.рдЯреИрдХреНрд╕ рдлрд╛рдЗрд▓ рдХреЛ рдкрдврд╝рддрд╛ рд╣реИ рдФрд░ рд╕рджрд╕реНрдпрддрд╛ рдХреА рд╕реВрдЪреА рдмрдирд╛рддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">-module(readfriends). -export([<span class="hljs-keyword"><span class="hljs-keyword">load</span></span>/<span class="hljs-number"><span class="hljs-number">1</span></span>]). -<span class="hljs-type"><span class="hljs-type">record</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>, {subscriber, subscribee}). <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>(Filename) -&gt; for_each_line_in_file(Filename, fun(<span class="hljs-type"><span class="hljs-type">Line</span></span>, Acc) -&gt; [<span class="hljs-keyword"><span class="hljs-keyword">As</span></span>, Bs] = string:tokens(string:strip(<span class="hljs-type"><span class="hljs-type">Line</span></span>, right, $\n), " "), {A, _} = string:to_integer(<span class="hljs-keyword"><span class="hljs-keyword">As</span></span>), {B, _} = string:to_integer(Bs), [ #<span class="hljs-keyword"><span class="hljs-keyword">subscription</span></span>{subscriber=A, subscribee=B} | Acc ] <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">read</span></span>], []). % via: http://www.trapexit.org/Reading_Lines_from_a_File for_each_line_in_file(<span class="hljs-type"><span class="hljs-type">Name</span></span>, Proc, Mode, Accum0) -&gt; {ok, Device} = file:<span class="hljs-keyword"><span class="hljs-keyword">open</span></span>(<span class="hljs-type"><span class="hljs-type">Name</span></span>, Mode), for_each_line(Device, Proc, Accum0). for_each_line(Device, Proc, Accum) -&gt; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> io:get_line(Device, "") <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> eof -&gt; file:<span class="hljs-keyword"><span class="hljs-keyword">close</span></span>(Device), Accum; <span class="hljs-type"><span class="hljs-type">Line</span></span> -&gt; NewAccum = Proc(<span class="hljs-type"><span class="hljs-type">Line</span></span>, Accum), for_each_line(Device, Proc, NewAccum) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрдм рд╕рдмрд╕рдореИрди рд╢реЗрд▓ рдореЗрдВ рдЖрдк рдПрдХ рдЯреЗрдХреНрд╕реНрдЯ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рджрд╕реНрдпрддрд╛рдПрдБ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift">$ erl -name router@minifeeds4.gs2 +<span class="hljs-type"><span class="hljs-type">K</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> +<span class="hljs-type"><span class="hljs-type">A</span></span> <span class="hljs-number"><span class="hljs-number">128</span></span> -setcookie secretcookie -mnesia dump_log_write_threshold <span class="hljs-number"><span class="hljs-number">50000</span></span> -mnesia dc_dump_limit <span class="hljs-number"><span class="hljs-number">40</span></span> erl&gt; <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(readfriends), <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(subsmanager). erl&gt; subsmanager:first_run(). erl&gt; subsmanager:start_link(). erl&gt; subsmanager:add_subscriptions( readfriends:load(<span class="hljs-string"><span class="hljs-string">"fakefriends.txt"</span></span>) ).</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрддрд┐рд░рд┐рдХреНрдд рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВ - рд╡реЗ "** рдЪреЗрддрд╛рд╡рдиреА ** рдорд╛рдиреЗрд╕рд┐рдпрд╛ рдЕрддрд┐рднрд╛рд░рд┐рдд рд╣реИрдВ" рд╕рдВрджреЗрд╢реЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдВрдЧреЗред  рдореЗрдиреНрд╕рд┐рдпрд╛ рдкреНрд░рд▓реЗрдЦрди рдореЗрдВ рдХрдИ рдЕрдиреНрдп рдЙрд▓реНрд▓реЗрдЦрдиреАрдп рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  1000000 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдПрдХ рдореЗрдЬрдмрд╛рди рд╕реЗ рдПрдХ рдорд┐рд▓рд┐рдпрди рдЯреАрд╕реАрдкреА рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдирд╛ рддреБрдЪреНрдЫ рдирд╣реАрдВ рд╣реИред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЬреЛ рд▓реЛрдЧ рдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдпреМрдЧрд┐рдХреЛрдВ рдХреЗ рдореЙрдбрд▓ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдкрд┐рдд рдЫреЛрдЯреЗ рд╕рдореВрд╣реЛрдВ рдкрд░ рдРрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ, рд╡реЗ рд╢рд╛рдпрдж рддреНрд╕реБрдВрдЧ рдЬреИрд╕реЗ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрдкрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рднрд╛рдЧ 1 рд╕реЗ рд╡рд┐рдиреНрдпрд╛рд╕ рдХреЗ рд╕рд╛рде, рд╣рдо рдЕрднреА рднреА рдПрдХ рдХрдард┐рди рдмрдВрджрд░рдЧрд╛рд╣ рд╕реАрдорд╛ рдореЗрдВ рдЪрд▓рддреЗ рд╣реИрдВред  Tcp рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рддреЗ рд╕рдордп, рдХреНрд▓рд╛рдЗрдВрдЯ рдкреЛрд░реНрдЯ рдХреЛ / proc / sys / net / ipv4 / ip_local_port_range рдореЗрдВ рд░реЗрдВрдЬ рд╕реЗ рдЖрд╡рдВрдЯрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдпрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкреЛрд░реНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХреЛрдИ рдмрд╛рдд рдирд╣реАрдВ рд╣реИред  рднрд╛рдЧ 1 рдореЗрдВ, рд╣рдордиреЗ "1024 65535" рдкрд░ рд╕реАрдорд╛ рддрдп рдХреА, рдЕрд░реНрдерд╛рдд  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ 65535-1024 = 64511 рдЕрдирдкреЗрдХреНрд╖рд┐рдд рдЙрдкрд▓рдмреНрдз рдкреЛрд░реНрдЯ рд╣реИрдВред  рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рд╣рдо рдХрднреА рднреА 64511 рд╕реЗ рдЕрдзрд┐рдХ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЛ рдкрд╛рд╕ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рд╕реЗ рдмрд╛рд╣рд░ рднрд╛рдЧ рдЬрд╛рдПрдВрдЧреЗред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯ рд░реЗрдВрдЬ рдЖрдИрдкреА рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рд╣рдо рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд╛рдиреАрдп рдЖрдИрдкреА рдкрддреЗ рд╕реЗ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо 64511 рд╕реЗ рдЕрдзрд┐рдХ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓ рдкрд╛рдПрдВрдЧреЗред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рддреЛ рдЖрдЗрдП рдкреНрд░рддреНрдпреЗрдХ рд╕реЗ 62,000 рдХрдиреЗрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП 17 рдирдП рдЖрдИрдкреА рдкрддреЗ рдмрдирд╛рдПрдВ - рдпрд╣ рд╣рдореЗрдВ рдХреБрд▓ 1,054,000 рдХрдиреЗрдХреНрд╢рди рджреЗрдЧрд╛: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs bash">$ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `seq 1 17`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> sudo ifconfig eth0:<span class="hljs-variable"><span class="hljs-variable">$i</span></span> 10.0.0.<span class="hljs-variable"><span class="hljs-variable">$i</span></span> up ; <span class="hljs-keyword"><span class="hljs-keyword">done</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрджрд┐ рдЖрдк ifconfig рдХреЛ рдЕрднреА рдЪреЗрдХ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЕрдкрдирд╛ рд╡рд░реНрдЪреБрдЕрд▓ рдЗрдВрдЯрд░рдлреЗрд╕ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП: eth0: 1, eth0: 2 ... eth0: 17, рдкреНрд░рддреНрдпреЗрдХ рдПрдХ рдЕрд▓рдЧ IP рдкрддреЗ рдХреЗ рд╕рд╛рдеред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕реНрдерд╛рдиреАрдп рдЖрдИрдкреА рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдм рдЬреЛ рдХреБрдЫ рдмрдЪрддрд╛ рд╣реИ рд╡рд╣ рднрд╛рдЧ 1 рд╕реЗ рдмрд╛рдврд╝ рдХреЛ рдмрджрд▓рдирд╛ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, erlang http рдХреНрд▓рд╛рдЗрдВрдЯ рдЖрдкрдХреЛ рд╕реНрд░реЛрдд IP рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдореИрдВ рдПрдХ рдФрд░ рд╕рдВрднрд╛рд╡рдирд╛ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░ рд░рд╣рд╛ рдерд╛: 17 рдЖрдИрдкреА рдЬреЛрдбрд╝реЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП - рдПрдХ рд╕рд░реНрд╡рд░ рдкрд░ рдФрд░ рдПрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдкрд░ - рдкреНрд░рддреНрдпреЗрдХ рдЬреЛрдбрд╝реА рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдкреГрдердХ / 30 рд╕рдмрдиреЗрдЯ рдореЗрдВред</i>  <i>рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЕрдЧрд░ рдореИрдВрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдХрд┐рд╕реА рднреА рдЖрдИрдкреА рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд┐рдпрд╛, рддреЛ рдпрд╣ рд╕реНрдерд╛рдиреАрдп рдкрддреЗ рдХреЛ рдЬреЛрдбрд╝реА рдХреЗ рджреВрд╕рд░реЗ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд░реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рд╕реНрдерд╛рдиреАрдп рдЖрдИрдкреА рдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ рдПрдХ рд╣реА рдЗрд╕ рд╕рдмрдиреЗрдЯ рдкрд░ рдЖрдИрдкреА рд╕рд░реНрд╡рд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдЧрд╛ред</i>  <i>рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реЛрдЧрд╛ рдХрд┐ рдЧреНрд░рд╛рд╣рдХ рдорд╢реАрди рдкрд░ рдПрдХ рд╕реНрдерд╛рдиреАрдп рд╕реНрд░реЛрдд рдЖрдИрдкреА рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ рд╣реЛрдЧрд╛ (рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╕рд░реНрд╡рд░ рдХреЗ рдЖрдИрдкреА рдкрддреЗ рдХреА рд╕реАрдорд╛ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛)ред</i>  <i>рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдпрд╣ рдХрд╛рдо рдХрд░реЗрдЧрд╛ рдпрд╛ рдирд╣реАрдВ - рдЗрд╕ рд╕рдордп рдЗрд╕рдХреА рд╕рдВрднрд╛рд╡рдирд╛ рдереАред</i>  <i>рдЕрдВрдд рдореЗрдВ, рдореИрдВрдиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдпрд╣ рдмрд╣реБрдд рд╡рд┐рдХреГрдд рд╣реЛрдЧрд╛ред</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      gen_tcp рдЖрдкрдХреЛ рд╕реНрд░реЛрдд рдкрддрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ рдПрдХ рдХрдЪреНрдЪреЗ рдЧреНрд░рд╛рд╣рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рдорд╛рдкреНрдд рдХрд┐рдпрд╛: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs kotlin">-module(floodtest2). -compile(export_all). -define(SERVERADDR, <span class="hljs-string"><span class="hljs-string">"10.1.2.3"</span></span>). % <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> mochiweb <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> running -define(SERVERPORT, <span class="hljs-number"><span class="hljs-number">8000</span></span>). % Generate the config <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> bash like so (chose some available address space): % EACH=<span class="hljs-number"><span class="hljs-number">62000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> `seq <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">17</span></span>`; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> echo <span class="hljs-string"><span class="hljs-string">"{{10,0,0,</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">}, $(((</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">-1)*</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$EACH</span></span></span><span class="hljs-string">+1)), $((</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$i</span></span></span><span class="hljs-string">*</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$EACH</span></span></span><span class="hljs-string">))}, "</span></span>; done run(Interval) -&gt; Config = [ {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">62000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}, <span class="hljs-number"><span class="hljs-number">62001</span></span>, <span class="hljs-number"><span class="hljs-number">124000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>}, <span class="hljs-number"><span class="hljs-number">124001</span></span>, <span class="hljs-number"><span class="hljs-number">186000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>}, <span class="hljs-number"><span class="hljs-number">186001</span></span>, <span class="hljs-number"><span class="hljs-number">248000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>}, <span class="hljs-number"><span class="hljs-number">248001</span></span>, <span class="hljs-number"><span class="hljs-number">310000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>}, <span class="hljs-number"><span class="hljs-number">310001</span></span>, <span class="hljs-number"><span class="hljs-number">372000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>}, <span class="hljs-number"><span class="hljs-number">372001</span></span>, <span class="hljs-number"><span class="hljs-number">434000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>}, <span class="hljs-number"><span class="hljs-number">434001</span></span>, <span class="hljs-number"><span class="hljs-number">496000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>}, <span class="hljs-number"><span class="hljs-number">496001</span></span>, <span class="hljs-number"><span class="hljs-number">558000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>}, <span class="hljs-number"><span class="hljs-number">558001</span></span>, <span class="hljs-number"><span class="hljs-number">620000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>}, <span class="hljs-number"><span class="hljs-number">620001</span></span>, <span class="hljs-number"><span class="hljs-number">682000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>}, <span class="hljs-number"><span class="hljs-number">682001</span></span>, <span class="hljs-number"><span class="hljs-number">744000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>}, <span class="hljs-number"><span class="hljs-number">744001</span></span>, <span class="hljs-number"><span class="hljs-number">806000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>}, <span class="hljs-number"><span class="hljs-number">806001</span></span>, <span class="hljs-number"><span class="hljs-number">868000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>}, <span class="hljs-number"><span class="hljs-number">868001</span></span>, <span class="hljs-number"><span class="hljs-number">930000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>}, <span class="hljs-number"><span class="hljs-number">930001</span></span>, <span class="hljs-number"><span class="hljs-number">992000</span></span>}, {{<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>}, <span class="hljs-number"><span class="hljs-number">992001</span></span>, <span class="hljs-number"><span class="hljs-number">1054000</span></span>}], start(Config, Interval). start(Config, Interval) -&gt; Monitor = monitor(), AdjustedInterval = Interval / length(Config), [ spawn(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> start/5, [Lower, Upper, Ip, AdjustedInterval, Monitor]) || {Ip, Lower, Upper} </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;- Config ], ok. start(LowerID, UpperID, _, _, _) when LowerID == UpperID -&gt;</span></span></span><span class="hljs-function"> done; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LowerID, UpperID, LocalIP, Interval, Monitor)</span></span></span></span> -&gt; spawn(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> connect/5, [?SERVERADDR, ?SERVERPORT, LocalIP, "/test/"++LowerID, Monitor]), receive after Interval -&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(LowerID + </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1</span></span></span></span><span class="hljs-function"><span class="hljs-params">, UpperID, LocalIP, Interval, Monitor)</span></span></span></span> end. connect(ServerAddr, ServerPort, ClientIP, Path, Monitor) -&gt; Opts = [binary, {packet, <span class="hljs-number"><span class="hljs-number">0</span></span>}, {ip, ClientIP}, {reuseaddr, <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, {active, <span class="hljs-literal"><span class="hljs-literal">false</span></span>}], {ok, Sock} = gen_tcp:connect(ServerAddr, ServerPort, Opts), Monitor ! <span class="hljs-keyword"><span class="hljs-keyword">open</span></span>, ReqL = io_lib:format(<span class="hljs-string"><span class="hljs-string">"GET ~s\r\nHost: ~s\r\n\r\n"</span></span>, [Path, ServerAddr]), Req = list_to_binary(ReqL), ok = gen_tcp:send(Sock, [Req]), do_recv(Sock, Monitor), (<span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> gen_tcp:close(Sock)), ok. do_recv(Sock, Monitor)-&gt; case gen_tcp:recv(Sock, <span class="hljs-number"><span class="hljs-number">0</span></span>) of {ok, B} -&gt; Monitor ! {bytes, size(B)}, io:format(<span class="hljs-string"><span class="hljs-string">"Recvd ~s\n"</span></span>, [ binary_to_list(B)]), io:format(<span class="hljs-string"><span class="hljs-string">"Recvd ~w bytes\n"</span></span>, [size(B)]), do_recv(Sock, Monitor); {error, closed} -&gt; Monitor ! closed, closed; Other -&gt; Monitor ! closed, io:format(<span class="hljs-string"><span class="hljs-string">"Other:~w\n"</span></span>,[Other]) end. % Monitor process receives stats and reports how much <span class="hljs-keyword"><span class="hljs-keyword">data</span></span> we received etc: monitor() -&gt; Pid = spawn(?MODULE, monitor0, [{<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>}]), timer:send_interval(<span class="hljs-number"><span class="hljs-number">10000</span></span>, Pid, report), Pid. monitor0({Open, Closed, Chunks, Bytes}=S) -&gt; receive report -&gt; io:format(<span class="hljs-string"><span class="hljs-string">"{Open, Closed, Chunks, Bytes} = ~w\n"</span></span>,[S]); <span class="hljs-keyword"><span class="hljs-keyword">open</span></span> -&gt; monitor0({Open + <span class="hljs-number"><span class="hljs-number">1</span></span>, Closed, Chunks, Bytes}); closed -&gt; monitor0({Open, Closed + <span class="hljs-number"><span class="hljs-number">1</span></span>, Chunks, Bytes}); chunk -&gt; monitor0({Open, Closed, Chunks + <span class="hljs-number"><span class="hljs-number">1</span></span>, Bytes}); {bytes, B} -&gt; monitor0({Open, Closed, Chunks, Bytes + B}) end.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рднрд╛рдЧ 1 рд╕реЗ рдореЛрдЪреАрд╡реЗрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рдЬреБрдбрд╝рд╛ - рдпрд╣ рд╕рд┐рд░реНрдл рдкреНрд░рддреНрдпреЗрдХ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ 10 рд╕реЗрдХрдВрдб рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift">erl&gt; <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>(floodtest2), floodtest2:run(<span class="hljs-number"><span class="hljs-number">20</span></span>).</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рдпрд╣ рдЬрд▓реНрджреА рд╕реЗ рдореЗрд░реА рд╕рд╛рд░реА рдореЗрдореЛрд░реА рдЦрд╛ рдЧрдпрд╛ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ gen_tcp рдХреЗ рд╕рд╛рде рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рд╕реЗ рдмрд╣реБрдд рд╕рд╛рд░реА рдореЗрдореЛрд░реА рдЦрддреНрдо рд╣реЛ рдЬрд╛рддреА рд╣реИред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП ~ 36 рдЬреАрдмреА рд▓реЗ рдЬрд╛рдПрдЧрд╛ред  рдореБрдЭреЗ рдЕрдкрдиреЗ erlang http рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдореЗрдВ рдХреЛрдИ рджрд┐рд▓рдЪрд╕реНрдкреА рдирд╣реАрдВ рдереА, рдФрд░ 32GB рд╕реЗ рдЕрдзрд┐рдХ рдореЗрдореЛрд░реА рд╡рд╛рд▓реА рдПрдХрдорд╛рддреНрд░ рдорд╢реАрди рдЬреЛ рдореБрдЭреЗ рдорд┐рд▓ рд╕рдХрддреА рдереА, рд╡рд╣ рд╣рдорд╛рд░реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд╕реЗ рдПрдХ рдереА, рдФрд░ рдореБрдЭреЗ Last.fm рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рдмрд╣рд╛рдирд╛ рдирд╣реАрдВ рдорд┐рд▓рд╛, рдЬрдмрдХрд┐ рдореИрдВ рдЖрд╕рдкрд╛рд╕ рдЧрдбрд╝рдмрдбрд╝ рдХрд░ рд░рд╣рд╛ рдерд╛ :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░, рдореИрдВрдиреЗ рдХреЛрд╢рд┐рд╢ рдХреА рдФрд░ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдП рдЧрдП рдкрд░рд┐рд╡рд╛рдж рдХреЛ рдпрд╛рдж рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рдПрдХ HTTP рдПрдкреАрдЖрдИ рд╣реИред  рдирдП рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ http рдПрдкреАрдЖрдИ рдореЗрдВ evhttp_connection_set_local_address рдлрд╝рдВрдХреНрд╢рди рднреА рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣рд╛рдБ рд╕реА http рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ libevent: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lua">#include &lt;sys/types.h&gt; #include &lt;sys/<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;sys/queue.h&gt; #include &lt;stdlib.h&gt; #include &lt;err.h&gt; #include &lt;event.h&gt; #include &lt;evhttp.h&gt; #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; #include &lt;sys/socket.h&gt; #include &lt;netinet/<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.h&gt; #include &lt;<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;pthread.h&gt; #define BUFSIZE <span class="hljs-number"><span class="hljs-number">4096</span></span> #define NUMCONNS <span class="hljs-number"><span class="hljs-number">62000</span></span> #define SERVERADDR <span class="hljs-string"><span class="hljs-string">"10.103.1.43"</span></span> #define SERVERPORT <span class="hljs-number"><span class="hljs-number">8000</span></span> #define SLEEP_MS <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> buf[BUFSIZE]; int bytes_recvd = <span class="hljs-number"><span class="hljs-number">0</span></span>; int chunks_recvd = <span class="hljs-number"><span class="hljs-number">0</span></span>; int closed = <span class="hljs-number"><span class="hljs-number">0</span></span>; int connected = <span class="hljs-number"><span class="hljs-number">0</span></span>; // called per chunk received void chunkcb(struct evhttp_request * req, void * <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { int s = evbuffer_remove( req-&gt;input_buffer, &amp;buf, BUFSIZE ); //printf(<span class="hljs-string"><span class="hljs-string">"Read %d bytes: %s\n"</span></span>, s, &amp;buf); bytes_recvd += s; chunks_recvd++; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(connected &gt;= NUMCONNS &amp;&amp; chunks_recvd%<span class="hljs-number"><span class="hljs-number">10000</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>) printf(<span class="hljs-string"><span class="hljs-string">"&gt;Chunks: %d\tBytes: %d\tClosed: %d\n"</span></span>, chunks_recvd, bytes_recvd, closed); } // gets called when request completes void reqcb(struct evhttp_request * req, void * <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { closed++; } int main(int argc, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> **argv) { event_init(); struct evhttp *evhttp_connection; struct evhttp_request *evhttp_request; <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> addr[<span class="hljs-number"><span class="hljs-number">16</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>[<span class="hljs-number"><span class="hljs-number">32</span></span>]; // eg: <span class="hljs-string"><span class="hljs-string">"/test/123"</span></span> int i,octet; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(octet=<span class="hljs-number"><span class="hljs-number">1</span></span>; octet&lt;=<span class="hljs-number"><span class="hljs-number">17</span></span>; octet++){ sprintf(&amp;addr, <span class="hljs-string"><span class="hljs-string">"10.224.0.%d"</span></span>, octet); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">1</span></span>;i&lt;=NUMCONNS;i++) { evhttp_connection = evhttp_connection_new(SERVERADDR, SERVERPORT); evhttp_connection_set_local_address(evhttp_connection, &amp;addr); evhttp_set_timeout(evhttp_connection, <span class="hljs-number"><span class="hljs-number">864000</span></span>); // <span class="hljs-number"><span class="hljs-number">10</span></span> day timeout evhttp_request = evhttp_request_new(reqcb, NULL); evhttp_request-&gt;chunk_cb = chunkcb; sprintf(&amp;<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>, <span class="hljs-string"><span class="hljs-string">"/test/%d"</span></span>, ++connected); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(i%<span class="hljs-number"><span class="hljs-number">100</span></span>==<span class="hljs-number"><span class="hljs-number">0</span></span>) printf(<span class="hljs-string"><span class="hljs-string">"Req: %s\t-&gt;\t%s\n"</span></span>, addr, &amp;<span class="hljs-built_in"><span class="hljs-built_in">path</span></span>); evhttp_make_request( evhttp_connection, evhttp_request, EVHTTP_REQ_GET, <span class="hljs-built_in"><span class="hljs-built_in">path</span></span> ); evhttp_connection_set_timeout(evhttp_request-&gt;evcon, <span class="hljs-number"><span class="hljs-number">864000</span></span>); event_loop( EVLOOP_NONBLOCK ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>( connected % <span class="hljs-number"><span class="hljs-number">200</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span> ) printf(<span class="hljs-string"><span class="hljs-string">"\nChunks: %d\tBytes: %d\tClosed: %d\n"</span></span>, chunks_recvd, bytes_recvd, closed); usleep(SLEEP_MS*<span class="hljs-number"><span class="hljs-number">1000</span></span>); } } event_dispatch(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрдзрд┐рдХрд╛рдВрд╢ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ #define рдХреЗ рд░реВрдк рдореЗрдВ рдХреЛрдбрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рдЗрд╕реЗ рд╕рдВрдкрд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдкреБрди: рдкреНрд░рд╕реНрддреБрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ gcc -o httpclient httpclient.c -levent $ ./httpclient</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рдпрд╣ рдЕрднреА рднреА 64,500 рд╕реЗ рдЕрдзрд┐рдХ рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЛ рдЦреЛрд▓рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрде рд╣реИред </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      64,500 рд╕реЗ рдЕрдзрд┐рдХ рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рд╕реНрдерд╛рдиреАрдп рдкрддрд╛ рдФрд░ рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯ рдХреЛ рд╕реНрд╡рдпрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдФрд░ рдЙрдирдХреЗ рдЕрдиреБрд╕рд╛рд░ рдкреНрд░рдмрдВрдзрди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, libevent HTTP API рдореЗрдВ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХрд╛ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВ рд╣реИред  рдореИрдВ рдЗрд╕ рддрд░рд╣ рдПрдХ рд╕рдорд╛рд░реЛрд╣ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП libevent рддрдп: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">evhttp_connection_set_local_port</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">struct</span></span></span></span><span class="hljs-function"><span class="hljs-params"> evhttp_connection *evcon, u_short port</span></span></span><span class="hljs-function">)</span></span>;.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣ рдПрдХ рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рд╕реБрдЦрдж рдЕрдиреБрднрд╡ рдерд╛: рдХрд╛рдордЪрд▓рд╛рдК рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд▓рд┐рдЦрд╛ рд╣реБрдЖ рд▓рдЧрддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рд▓реЗрдЦрди рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕ рд╕рдВрд╢реЛрдзрд┐рдд рдкрд░рд┐рд╡рд╛рдж рдХреЗ рд╕рд╛рде, рдореИрдВ рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдерд╛: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lisp">evhttp_connection_set_local_port(<span class="hljs-name"><span class="hljs-name">evhttp_connection</span></span>, <span class="hljs-number"><span class="hljs-number">1024</span></span>+i)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрдм рд╡рд┐рднрд┐рдиреНрди рдкрддреЛрдВ рд╕реЗ рдХрдИ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдиреАрдп рдкрддреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рднрд╛рд╖рд┐рдд рдПрдХ рд╣реА рд╕реНрдерд╛рдиреАрдп рдкреЛрд░реНрдЯ рдирдВрдмрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдереЗред  рдореИрдВрдиреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдкреБрди: рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛, рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝реА рджреЗрд░ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рдиреЗ рджрд┐рдпрд╛ рдХрд┐ рдпрд╣ рдмрд╛рдзрд╛ рдХреЛ рдкрд╛рд░ рдХрд░реЗрдЧрд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Netstat рдЗрд╕рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs swift"># netstat -n | awk '/^tcp/ {t[$<span class="hljs-type"><span class="hljs-type">NF</span></span>]++}<span class="hljs-type"><span class="hljs-type">END</span></span>{<span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(state <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> t){<span class="hljs-built_in"><span class="hljs-built_in">print</span></span> state, t[state]}}' <span class="hljs-type"><span class="hljs-type">TIME_WAIT</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-type"><span class="hljs-type">ESTABLISHED</span></span> <span class="hljs-number"><span class="hljs-number">118222</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рд╡рд┐рднрд┐рдиреНрди рд░рд╛рдЬреНрдпреЛрдВ рдореЗрдВ рдХрд┐рддрдиреЗ рдмрдВрджрд░рдЧрд╛рд╣ рдЦреБрд▓реЗ рд╣реИрдВред  рд╣рдо рдЖрдЦрд┐рд░рдХрд╛рд░ 2 ^ 16 рд╕реЗ рдЕрдзрд┐рдХ рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдореЗрдВ рдХрд╛рдордпрд╛рдм рд░рд╣реЗред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдЙрдкрдХрд░рдг рд╣реИ рдЬреЛ рдПрдХ рдПрдХрд▓ рдХрдВрдкреНрдпреВрдЯрд░ рд╕реЗ рдПрдХ рд▓рд╛рдЦ http рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рд▓рдЧрднрдЧ 2 KB рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рдХрд░реНрдиреЗрд▓ рдХреНрдпрд╛ рд░рдЦрддрд╛ рд╣реИред  рдпрд╣ рд╣рдорд╛рд░реЗ рдореЛрдЪреАрд╡реЗрдм рд╕рд░реНрд╡рд░ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  C1024K </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ 4 рд╡рд┐рднрд┐рдиреНрди рд╕рд░реНрд╡рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ред  рдЗрд╕ рдкрд░реАрдХреНрд╖рдг рдФрд░ рдкрд┐рдЫрд▓реЗ рд╡рд╛рд▓реЗ рдХреЗ рдмреАрдЪ рдореБрдЦреНрдп рдЕрдВрддрд░ рд╕реА рдореЗрдВ рд▓рд┐рдЦрд╛ рдЧрдпрд╛ рдПрдХ рд╕рдВрд╢реЛрдзрд┐рдд рдЧреНрд░рд╛рд╣рдХ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рд░реНрд╡рд░ 1 - рдХреНрд╡рд╛рдб-рдХреЛрд░ 2GHz CPU, 16GB RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдЙрдкрдкреНрд░рдмрдВрдзрдХ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдбреЗрдЯрд╛ рд▓реЛрдб рд╣реЛ рд░рд╣рд╛ рд╣реИ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рд░рд╛рдЙрдЯрд░ рд▓реЙрдиреНрдЪ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рд░реНрд╡рд░ 2 - рджреЛрд╣рд░реА рдХреНрд╡рд╛рдб-рдХреЛрд░ 2.8GHz рд╕реАрдкреАрдпреВ, 32 рдЬреАрдмреА рд░реИрдо 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рд▓реЙрдиреНрдЪ Mochiweb рдЖрд╡реЗрджрди 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рд░реНрд╡рд░ 3 - рдХреНрд╡рд╛рдб-рдХреЛрд░ 2GHz CPU, 16GB RAM 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв 17 рдЖрднрд╛рд╕реА рдЖрдИрдкреА рдкрддреЛрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдкрд░рд┐рд╡рд╛рдж рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк: ./httpclient (рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб 100 рдХрдиреЗрдХреНрд╢рди) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рд░реНрд╡рд░ 4 - рдбреБрдЕрд▓-рдХреЛрд░ 2GHz, 2GB рд░реИрдо 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      тАв рд╕рдВрджреЗрд╢ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП msggen рдЪрд▓ рд░рд╣рд╛ рд╣реИ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдХреЗ рджреМрд░рд╛рди рдФрд░ рдХреБрдЫ рд╕рдордп рдХреЗ рд▓рд┐рдП рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/99/0a/990adb2b0b14d2c533856b20c5076859.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      HttpClient рдореЗрдВ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд 10ms рджреЗрд░реА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рд▓рд╛рдЦ рдХрдиреЗрдХреНрд╢рди рдЦреЛрд▓рдиреЗ рдореЗрдВ рд▓рдЧрднрдЧ 3 рдШрдВрдЯреЗ рд▓рдЧрддреЗ рд╣реИрдВред  рдЗрд╕рдореЗрдВ рд▓рдЧрднрдЧ 25GB рдореЗрдореЛрд░реА рд▓рдЧреА рдереАред  рдпрд╣рд╛рдБ рдЧрдВрдЧрд╛рд▓рд┐рдпрд╛ рдХреА рдирдЬрд╝рд░ рд╕реЗ рдореЗрд░рд╛ рд╕рд░реНрд╡рд░ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage/habraeffect/18/9e/189ee7454e725aad11900dca00e9fa9a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рдореЗрдВ рд▓рдЧрднрдЧ 38GB рд▓рдЧрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рд╕реНрд╡реИрдкрд┐рдВрдЧ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИред  рдореБрдЭреЗ рд╕рдВрджреЗрд╣ рд╣реИ рдХрд┐ рдореБрдЦреНрдп рд░реВрдк рд╕реЗ рдореБрдЦреНрдп рдЦрдкрдд рдореЗрдВ рдЕрдВрддрд░ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдФрд╕рдд 1000 рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрддреНрдкрдиреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдкреНрд░рддрд┐ 60ms рдкреНрд░рддрд┐ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдмреАрдЪ рдФрд╕рдд рд╕рдордп, рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рд▓рдЧрднрдЧ 16666 рд╕рдВрджреЗрд╢ рджреЗрддрд╛ рд╣реИ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs perl">erl&gt; [ spawn( fun()-&gt;msggen:start(<span class="hljs-number"><span class="hljs-number">1000000</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>+random:uniform(<span class="hljs-number"><span class="hljs-number">100</span></span>), <span class="hljs-number"><span class="hljs-number">1000000</span></span>) end) || I &lt;- lists:se<span class="hljs-string"><span class="hljs-string">q(1,1000)</span></span> ].</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЧрдВрдЧрд╛рд▓рд┐рдпрд╛ рдореЗрдВ рд╕рд░реНрд╡рд░ 4: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/05/a6/05a6ca691576b310ff886ae946e7995b.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд▓рдЧрднрдЧ 10 рдПрдордмреА рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб - 16.666 рд╕рдВрджреЗрд╢ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдЬрдм рдореИрдВрдиреЗ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рд╢реБрд░реВ рдХрд┐рдП, рддреЛ рдкрд╣рд▓реЗ рд╕рд░реНрд╡рд░ рдкрд░ рд▓реЛрдб рдХрдо рд░рд╣рд╛ред  рджреВрд╕рд░реЗ рд╕рд░реНрд╡рд░ рдкрд░ рд╕реАрдкреАрдпреВ рдХреА рдЦрдкрдд рдмрдврд╝реА: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/9b/4e/9b4e632241b3342804a43e92156878af.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд╕реНрд╡рд╛рднрд╛рд╡рд┐рдХ рд░реВрдк рд╕реЗ, рдХреНрдпреЛрдВрдХрд┐  рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд╛рдЗрдмрд░рдиреЗрдЯ () рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛, рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдереЛрдбрд╝рд╛ рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИред  рдХрд┐рд╕реА рднреА рд╕рдВрджреЗрд╢ рдХреЗ рдмрд┐рдирд╛ рд╕рднреА рдЦреБрд▓реЗ рдХрдиреЗрдХреНрд╢рди рд╣реЛрдиреЗ рд╕реЗ рдореЗрдореЛрд░реА рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЗрд╖реНрдЯрддрдо рд╣реИред  рдЖрд╢реНрдЪрд░реНрдп рдирд╣реАрдВ рдХрд┐ рдХрд┐рд╕реА рднреА рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕реНрдореГрддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рддреЛ рд╕реНрдореГрддрд┐ рдХрд╣рд╛рдБ рдмрд╣рддреА рд╣реИ?  рдореЛрдЪреАрд╡реНрдм рдХреЛ 1,000,000 рд╕рдХреНрд░рд┐рдп рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ рдЦреБрд▓рд╛ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП 40 рдЬреАрдмреА рд░реИрдо рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рд▓реЛрдб рдХреЗ рддрд╣рдд, 30 рдЬреАрдмреА рддрдХ рдореЗрдореЛрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдореЛрдЪреАрд╡реЗрдм рдФрд░ рд╢реЗрд╖ 10 рдЬреАрдмреА рдХреЛрд░ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдкреНрд░рддрд┐ рдХрдиреЗрдХреНрд╢рди рд▓рдЧрднрдЧ 40Kb рдХреА рдЬрд░реВрд░рдд рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдмрд╣реБрдд рд╕рд╛рд░реЗ рдХрдиреЗрдХреНрд╢рди рдХреЗ рд╕рд╛рде рд╡рд┐рднрд┐рдиреНрди рдкрд░реАрдХреНрд╖рдгреЛрдВ рдореЗрдВ, рдореИрдВрдиреЗ sysctl.conf рдореЗрдВ рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдмрджрд▓рд╛рд╡ рдХрд┐рдПред  рдореИрдВ рдкрд░реАрдХреНрд╖рдг рдФрд░ рддреНрд░реБрдЯрд┐ рдХреЗ рд╕рд╛рде рдЖрдпрд╛ рдерд╛, рдФрд░ рдореБрдЭреЗ рдирд╣реАрдВ рдкрддрд╛ рдХрд┐ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдХреНрдпрд╛ рдмрджрд▓рдирд╛ рд╣реИред  рдореЗрд░реА рдиреАрддрд┐ рдпрд╣ рдереА рдХрд┐ рдореИрдВ /var/log/kern.log рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддреНрд░реБрдЯрд┐ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реВрдВ рдФрд░ рджреЗрдЦреВрдВ рдХрд┐ рд░рд╣рд╕реНрдпрдордп рддреНрд░реБрдЯрд┐ рдореБрдЭреЗ рдХреНрдпрд╛ рдмрддрд╛рддреА рд╣реИред  рдпрд╣рд╛рдБ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣реИрдВ: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.rmem_max = <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.wmem_max = <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_rmem = <span class="hljs-number"><span class="hljs-number">4096</span></span> <span class="hljs-number"><span class="hljs-number">16384</span></span> <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_wmem = <span class="hljs-number"><span class="hljs-number">4096</span></span> <span class="hljs-number"><span class="hljs-number">16384</span></span> <span class="hljs-number"><span class="hljs-number">33554432</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_mem = <span class="hljs-number"><span class="hljs-number">786432</span></span> <span class="hljs-number"><span class="hljs-number">1048576</span></span> <span class="hljs-number"><span class="hljs-number">26777216</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.tcp_max_tw_buckets = <span class="hljs-number"><span class="hljs-number">360000</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.core.netdev_max_backlog = <span class="hljs-number"><span class="hljs-number">2500</span></span> vm.min_free_kbytes = <span class="hljs-number"><span class="hljs-number">65536</span></span> vm.swappiness = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-built_in"><span class="hljs-built_in">net</span></span>.ipv4.ip_local_port_range = <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">65535</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдореИрдВ рдЕрдзрд┐рдХ рд╕реВрдЪрд┐рдд рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдирдХреНрд╕ рдЯреАрд╕реАрдкреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред  рд▓рдЧрднрдЧ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдпреЗ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдЗрд╖реНрдЯрддрдо рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдХрдо рд╕реЗ рдХрдо рдпрд╣ 1,000,000 рдХрдиреЗрдХреНрд╢рди рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдерд╛ред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  рд▓рд┐рдмрд╡реЗрдВрдЯ рдкрд░ рдПрд░рд▓рдВрдЧ рдиреЛрдб </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Libevent рдХреЗ рд▓рд┐рдП HTTP API рдХреЗ рд╕рд╛рде рдЫреЗрдбрд╝рдЫрд╛рдбрд╝ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЙрдкрд░реЛрдХреНрдд рдкрд░реАрдХреНрд╖рдг рдХреЛ libevent HTTPd рдХреЗ рд╕рд╛рде N рдореЗрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рдирд╛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЙрдЪрд┐рдд рд▓рдЧрддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдореИрдВ erlang рдкрд░ рдЕрдзрд┐рдХ рд╕реЗ рдЕрдзрд┐рдХ рдХреЛрдб рдЫреЛрдбрд╝рдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛, рддреЛ рдЖрдЗрдП C - C рдореЗрдВ рдПрдХ рдиреНрдпреВрдирддрдо рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ - рдХреЗрд╡рд▓ HTTP рдХрдиреЗрдХреНрд╢рди рдХреЛ рд╕рдВрднрд╛рд▓рддреЗ рд╣реБрдПред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рд▓рд┐рдмрд╡реЗрдВрдЯ рдореЗрдВ рдПрдХ рдПрд╕рд┐рдВрдХреНрд░реЛрдирд╕ HTTP рдПрдкреАрдЖрдИ рд╣реИ, рдЬреЛ HTTP рд╕рд░реНрд╡рд░ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рддреБрдЪреНрдЫ рдмрдирд╛рддрд╛ рд╣реИред  рдореИрдВрдиреЗ рдПрд░рд▓рдВрдЧ рдХреЗ рд▓рд┐рдП рд╕реА рдЗрдВрдЯрд░рдлреЗрд╕ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрд╛рд░рдг рднреА рджреЗрдЦрд╛ред  рдпрд╣ рдПрдХ HTTP рд╕рд░реНрд╡рд░ рд╣реИ рдЬреЛ рдХрд┐ libevent рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдкреВрд░реЗ Id (рдЬреИрд╕реЗ рд╣рдорд╛рд░реЗ mochiweb рдПрдкреНрд▓рд┐рдХреЗрд╢рди) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдПрдХ Erlang C-рдиреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      рдпрд╣ рдПрд░реНрд▓рд╛рдВрдЧ-рдирд╛рдорд┐рдд рд╣реЛрд╕реНрдЯ рд╕реЗ рдЬреБрдбрд╝рддрд╛ рд╣реИ, {123, &lt;&lt; "рд╣реИрд▓реЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 123" &gt;&gt;} рдЬреИрд╕реЗ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕реБрдирддрд╛ рд╣реИ, рдЕрдЧрд░ рдпрд╣ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ, рддреЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 123 рдХреЛ "рд╣реИрд▓реЛ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ 123" рднреЗрдЬрддрд╛ рд╣реИред  рдЕрд╕рдВрдмрджреНрдз рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕рдВрджреЗрд╢ рдкрд╣рд▓реЗ рдХреА рддрд░рд╣ рд╣реА рдЫреЛрдбрд╝ рджрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs lua">#include &lt;sys/types.h&gt; #include &lt;sys/<span class="hljs-built_in"><span class="hljs-built_in">time</span></span>.h&gt; #include &lt;sys/queue.h&gt; #include &lt;stdlib.h&gt; #include &lt;err.h&gt; #include &lt;event.h&gt; #include &lt;evhttp.h&gt; #include &lt;stdio.h&gt; #include &lt;sys/socket.h&gt; #include &lt;netinet/<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>.h&gt; #include <span class="hljs-string"><span class="hljs-string">"erl_interface.h"</span></span> #include <span class="hljs-string"><span class="hljs-string">"ei.h"</span></span> #include &lt;pthread.h&gt; #define BUFSIZE <span class="hljs-number"><span class="hljs-number">1024</span></span> #define MAXUSERS (<span class="hljs-number"><span class="hljs-number">17</span></span>*<span class="hljs-number"><span class="hljs-number">65536</span></span>) // C1024K // List of current http requests by uid: struct evhttp_request * clients[MAXUSERS+<span class="hljs-number"><span class="hljs-number">1</span></span>]; // Memory to store uids passed to the cleanup callback: int slots[MAXUSERS+<span class="hljs-number"><span class="hljs-number">1</span></span>]; // called when user disconnects void cleanup(struct evhttp_connection *evcon, void *<span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { int *uidp = (int *) <span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>; fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"disconnected uid %d\n"</span></span>, *uidp); clients[*uidp] = NULL; } // handles http connections, sets them up <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> chunked transfer, // extracts the user id <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> registers <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the global connection <span class="hljs-built_in"><span class="hljs-built_in">table</span></span>, // also sends a welcome chunk. void request_handler(struct evhttp_request *req, void *<span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>) { struct evbuffer *buf; buf = evbuffer_new(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (buf == NULL){ err(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"failed to create response buffer"</span></span>); } evhttp_add_header(req-&gt;output_headers, <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>, <span class="hljs-string"><span class="hljs-string">"text/html; charset=utf-8"</span></span>); int uid = <span class="hljs-number"><span class="hljs-number">-1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(strncmp(evhttp_request_uri(req), <span class="hljs-string"><span class="hljs-string">"/test/"</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>){ uid = atoi( <span class="hljs-number"><span class="hljs-number">6</span></span>+evhttp_request_uri(req) ); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(uid &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>){ evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"User id not found, try /test/123 instead"</span></span>); evhttp_send_reply(req, HTTP_NOTFOUND, <span class="hljs-string"><span class="hljs-string">"Not Found"</span></span>, buf); evbuffer_free(buf); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(uid &gt; MAXUSERS){ evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"Max uid allowed is %d"</span></span>, MAXUSERS); evhttp_send_reply(req, HTTP_SERVUNAVAIL, <span class="hljs-string"><span class="hljs-string">"We ran out of numbers"</span></span>, buf); evbuffer_free(buf); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } evhttp_send_reply_start(req, HTTP_OK, <span class="hljs-string"><span class="hljs-string">"OK"</span></span>); // Send welcome chunk: evbuffer_add_printf(buf, <span class="hljs-string"><span class="hljs-string">"Welcome, Url: '%s' Id: %d\n"</span></span>, evhttp_request_uri(req), uid); evhttp_send_reply_chunk(req, buf); evbuffer_free(buf); // put reference into global uid-&gt;connection <span class="hljs-built_in"><span class="hljs-built_in">table</span></span>: clients[uid] = req; // set <span class="hljs-built_in"><span class="hljs-built_in">close</span></span> callback evhttp_connection_set_closecb( req-&gt;evcon, cleanup, &amp;slots[uid] ); } // runs <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a thread тАУ the erlang c-node stuff // expects msgs like {uid, msg} <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> sends aa <span class="hljs-string"><span class="hljs-string">'msg'</span></span> chunk to uid <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> connected void cnode_run() { int fd; /* fd to Erlang node */ int got; /* Result of receive */ unsigned <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> buf[BUFSIZE]; /* Buffer <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> incoming message */ ErlMessage emsg; /* Incoming message */ ETERM *uid, *msg; erl_init(NULL, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (erl_connect_init(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"secretcookie"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) == <span class="hljs-number"><span class="hljs-number">-1</span></span>) erl_err_quit(<span class="hljs-string"><span class="hljs-string">"erl_connect_init"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((fd = erl_connect(<span class="hljs-string"><span class="hljs-string">"httpdmaster@localhost"</span></span>)) &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) erl_err_quit(<span class="hljs-string"><span class="hljs-string">"erl_connect"</span></span>); fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Connected to httpdmaster@localhost\n\r"</span></span>); struct evbuffer *evbuf; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) { got = erl_receive_msg(fd, buf, BUFSIZE, &amp;emsg); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (got == ERL_TICK) { continue; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (got == ERL_ERROR) { fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"ERL_ERROR from erl_receive_msg.\n"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (emsg.<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> == ERL_REG_SEND) { // get uid <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> body data from eg: {<span class="hljs-number"><span class="hljs-number">123</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"Hello"</span></span>&gt;&gt;} uid = erl_element(<span class="hljs-number"><span class="hljs-number">1</span></span>, emsg.msg); msg = erl_element(<span class="hljs-number"><span class="hljs-number">2</span></span>, emsg.msg); int userid = ERL_INT_VALUE(uid); <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *body = (<span class="hljs-built_in"><span class="hljs-built_in">char</span></span> *) ERL_BIN_PTR(msg); int body_len = ERL_BIN_SIZE(msg); // Is this userid connected? <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(clients[userid]){ fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Sending %d bytes to uid %d\n"</span></span>, body_len, userid); evbuf = evbuffer_new(); evbuffer_add(evbuf, (const void*)body, (size_t) body_len); evhttp_send_reply_chunk(clients[userid], evbuf); evbuffer_free(evbuf); }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ fprintf(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>, <span class="hljs-string"><span class="hljs-string">"Discarding %d bytes to uid %d тАУ user not connected\n"</span></span>, body_len, userid); // noop } erl_free_term(emsg.msg); erl_free_term(uid); erl_free_term(msg); } } } // <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> we got here, erlang connection died. // this thread is supposed to run forever // TODO тАУ gracefully handle failure / reconnect / etc pthread_exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); } int main(int argc, <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> **argv) { // Launch the thread that runs the cnode: pthread_attr_t tattr; pthread_t helper; int <span class="hljs-built_in"><span class="hljs-built_in">status</span></span>; pthread_create(&amp;helper, NULL, cnode_run, NULL); int i; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;=MAXUSERS;i++) slots[i]=i; // Launch libevent httpd: struct evhttp *httpd; event_init(); httpd = evhttp_start(<span class="hljs-string"><span class="hljs-string">"0.0.0.0"</span></span>, <span class="hljs-number"><span class="hljs-number">8000</span></span>); evhttp_set_gencb(httpd, request_handler, NULL); event_dispatch(); // Not reached, event_dispatch() shouldn<span class="hljs-string"><span class="hljs-string">'t return evhttp_free(httpd); return 0; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреА рдЕрдзрд┐рдХрддрдо рд╕рдВрдЦреНрдпрд╛ #define рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реЗрдЯ рдХреА рдЧрдИ рд╣реИ, рдкреЛрд░реНрдЯ 8000 рд╕реБрдиреА рдЬрд╛рддреА рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рд╕реЗ рдЕрдкреЗрдХреНрд╖рд╛ рдХреА рдЬрд╛рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдХреБрдХреА рдиреЛрдб рдХрд╛ Erlang рдирд╛рдо рд╣рд╛рд░реНрдб-рдХреЛрдбреЗрдб рднреА рд╣реИред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╣ рдиреЛрдб рдкреНрд░рд╛рд░рдВрдн рдХрд░реЗрдВ рдЬрд┐рд╕рд╕реЗ рд╕рд░реНрд╡рд░ рдХрдиреЗрдХреНрдЯ рд╣реЛрдЧрд╛:</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ erl -setcookie secretcookie -sname httpdmaster@localhost</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C рдиреЛрдб рдЪрд▓рд╛рдПрдБ: </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">$ gcc -o httpdcnode httpdcnode.c -lerl_interface -lei -levent $ ./httpdcnode</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдиреЛрдб рджрд┐рдЦрд╛рдИ рджреЗ рд░рд╣рд╛ рд╣реИ: </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs scala">erl&gt; nodes(hidden). [c1<span class="hljs-meta"><span class="hljs-meta">@localhost</span></span>]</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУрдкрди </font></font><a href="http://localhost/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЛрдХрд▓рд╣реЛрд╕реНрдЯ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 8000 / рдЯреЗрд╕реНрдЯ / 123 </font><font style="vertical-align: inherit;">рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЖрдкрдХреЛ рдПрдХ рд╕реНрд╡рд╛рдЧрдд рд╕рдВрджреЗрд╢ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд▓рд╛, C рдиреЛрдб рдХреЛ рдПрдХ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдВ:</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs ruby">erl&gt; {any, c1@localhost} ! {<span class="hljs-number"><span class="hljs-number">123</span></span>, &lt;&lt;<span class="hljs-string"><span class="hljs-string">"Hello Libevent World"</span></span><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;</span></span>}.</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рдо Pid рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ - рд╣рдо {procname, node} рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред рд╣рдо "рдХрд┐рд╕реА рднреА" рдХрд╛ рдЙрдкрдпреЛрдЧ рдПрдХ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЗ рдирд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдХрд░рддреЗ рд╣реИрдВ рдЬрд┐рд╕реЗ рд╕реА-рдиреЛрдб рджреНрд╡рд╛рд░рд╛ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдм рдЖрдк Erlang рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕рдВрджреЗрд╢ рджреЗрдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реИрдВ, рд▓реЗрдХрд┐рди рд╕рднреА рдХрдиреЗрдХреНрд╢рдиреЛрдВ рдХреЛ libevent C рдкреНрд░реЛрдЧреНрд░рд╛рдо рджреНрд╡рд╛рд░рд╛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ Erlang рдиреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбрд┐рдмрдЧ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдореИрдВрдиреЗ 1,000,000 рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ рдЙрд╕реА рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ httpdcnode рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рд╣реИ рдЬреЛ рдКрдкрд░ рдХреЗ рд╕рдорд╛рди рдХреНрд▓рд╛рдЗрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИред рдорд╢реАрди рдиреЗ рдХреБрд▓ 10 рдЬреАрдмреА рдореЗрдореЛрд░реА рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд░реНрд╡рд░ рдореЗрдореЛрд░реА 2GB рдХреЗ рдЖрд╕рдкрд╛рд╕ рд╕реНрдерд┐рд░ рдереА: </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://habrastorage.org/storage/habraeffect/e6/68/e668ac6be86de46482d9a6d98af80b45.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рддрд┐ рдХрдиреЗрдХреНрд╢рди 2KB рдХреЗ рдмрд╛рд░реЗ рдореЗрдВред</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдореЛрд░реА рд╕реНрдерд┐рддрд┐:</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">Mem: <span class="hljs-number"><span class="hljs-number">32968672</span></span>k total, <span class="hljs-number"><span class="hljs-number">9636488</span></span>k used, <span class="hljs-number"><span class="hljs-number">23332184</span></span>k free, <span class="hljs-number"><span class="hljs-number">180</span></span>k <span class="hljs-keyword"><span class="hljs-keyword">buffers</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреЛ рдХрд░реНрдиреЗрд▓ / рдЯреАрд╕реАрдкреА рд╕реНрдЯреИрдХ рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд 8Kb рдкреНрд░рддрд┐ рдХрдиреЗрдХреНрд╢рди рд▓реЗрддрд╛ рд╣реИ, рдЬреЛ рдЙрдЪреНрдЪ рд▓рдЧрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдореЗрд░реЗ рдкрд╛рд╕ рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ libevent-cnode рд╕рд░реНрд╡рд░ рдХреЛ рд╕реНрд╡рдпрдВ рдХреБрдЫ рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣ рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗ рдХрдИ рдХрдиреЗрдХреНрд╢рди рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдмреБрджреНрдзрд┐рдорд╛рди рдирд╣реАрдВ рд╣реИ, рдФрд░ рдЕрднреА рднреА "рджреМрдбрд╝ рдХреА рд╕реНрдерд┐рддрд┐" рд╣реИрдВ рдпрджрд┐ рдЖрдк рдХреЗрд╡рд▓ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рдкрд░ рдбрд┐рд╕реНрдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВред </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд╣рдордиреЗ рд╕рднреА рджрд┐рд▓рдЪрд╕реНрдк рдЪреАрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдПрд░реНрд▓реИрдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛, рдФрд░ рдирд┐рдореНрди рд╕реНрддрд░ рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП C + libevent рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ред </font><font style="vertical-align: inherit;">рдПрдХ рд╕реА рдкреНрд░реЛрдЧреНрд░рд╛рдо рдХреЛ рдбреНрд░рд╛рдЗрд╡рд░ рдпрд╛ рд╕реА рдиреЛрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓рд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдФрд░ рдПрд░рд▓реИрдВрдЧ рдЗрдВрдЯрд░рдлреЗрд╕ рдЖрдкрдХреЛ рдПрдХ рд╕рднреНрдп рдПрдкреАрдЖрдИ рджреЗ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдореБрдЭреЗ рдЕрднреА рднреА рдЗрд╕рдХреЗ рд╕рд╛рде рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЗрдЪреНрдЫрд╛ рд╣реИред</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдВрддрд┐рдо рдирд┐рд╖реНрдХрд░реНрд╖ </font></font></h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрд░реЗ рдкрд╛рд╕ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдбреЗрдЯрд╛ рд╣реИ рдХрд┐ рдпрджрд┐ рд╣рдо рдПрдХ рдмрдбрд╝реЗ рд▓рд╛рд╕реНрдЯ.рдлреИрдо рд╕реНрдХреЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВ рддреЛ рдХреМрди рд╕реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдЦрд░рд╛рдм рд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА, рдкреНрд░рддрд┐ рдХрдиреЗрдХреНрд╢рди 40Kb рдПрдХ рдЕрдЪреНрдЫрд╛ рдкрд░рд┐рдгрд╛рдо рд╣реИ - рд╕реНрдореГрддрд┐ рдЗрд╕ рд╕рдордп рдмрд╣реБрдд рд╕рд╕реНрддреА рд╣реИ, рдФрд░ рд▓рд╛рдЦреЛрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП 40GB рдПрдХ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">10GB рднреА рдмреЗрд╣рддрд░ рд╣реИред</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../In111595/index.html">FIXber - рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рд╕рд░реНрд╡рд┐рд╕реЗрдЬ рдорд╛рд░реНрдХреЗрдЯ</a></li>
<li><a href="../In111596/index.html">рдлреЗрд╕рдмреБрдХ рд╣реИрдХрд░ рдХрдк</a></li>
<li><a href="../In111597/index.html">рд╕рд╣реА рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХрд╛ рдЪрдпрди рдХреИрд╕реЗ рдХрд░реЗрдВ</a></li>
<li><a href="../In111598/index.html">рдорд╛рдЗрд╕реНрдкреЗрд╕ рдЕрдкрдиреЗ рдХрд░реНрдордЪрд╛рд░рд┐рдпреЛрдВ рдХреЗ рдЖрдзреЗ рд╕реЗ рдЕрдзрд┐рдХ рднрд╛рдЧ рд▓реЗрдЧрд╛</a></li>
<li><a href="../In1116/index.html">рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдбреЛрдореЗрди рдХреЗ рд▓рд┐рдП рд╢реБрд▓реНрдХ рдХрд╛ рдкрд░рд┐рдЪрдп</a></li>
<li><a href="../In111601/index.html">LibreOffice рдЙрдмрдВрдЯреВ 11.04 рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдХрд╛рд░реНрдпрд╛рд▓рдп рдмрди рдЬрд╛рдПрдЧрд╛</a></li>
<li><a href="../In111602/index.html">рдореБрд╣рд╛рд╡рд░реЗ рдкрд┐рдореНрдкрд▓ рдФрд░ рдлрд╛рд╕реНрдЯ рдкрд┐рдВрдкрд▓ - рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рд╕реВрдЪрдХ</a></li>
<li><a href="../In111603/index.html">Android рдХреЗ рд▓рд┐рдП рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдкрд░ рд▓реЗрдЦреЛрдВ рдХреЗ рд▓рд┐рдП Habraindex</a></li>
<li><a href="../In111605/index.html">рдЖрдзреА рд░рд╛рдд рдХреЗ рдХрдорд╛рдВрдбрд░ рдХреЗ рд▓рд┐рдП Xoria256 рд░рдВрдЧ рдпреЛрдЬрдирд╛</a></li>
<li><a href="../In111606/index.html">рдбрд┐рдкреНрд▓реЛрдорд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рд╖рдп рдЦреЛрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд░рд╛рдЙрдбрд╕реЛрд░реНрд╕рд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>