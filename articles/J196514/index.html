<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⛹🏽 🙏🏻 🔔 RCカーモデルの円と時間の自動計算システム。 パート2プロトコルAMB20およびAMBRc ✊ 🏰 💮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前の記事で、私はトランスポンダー、情報がトランスポンダーからデコーダーに無線で送信される方法について話しました。 今日は、トランスポンダーの数と時間に関する情報をコンピューターに転送する方法を説明します。  rctech.netで ここに集めた情報の一部  回路を組み立てましょう  そして、はんだ付...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>RCカーモデルの円と時間の自動計算システム。 パート2プロトコルAMB20およびAMBRc</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body">  <a href="http://habrahabr.ru/post/195804/">前の</a>記事で、私はトランスポンダー、情報がトランスポンダーからデコーダーに無線で送信される方法について話しました。 今日は、トランスポンダーの数と時間に関する情報をコンピューターに転送する方法を説明します。 <img src="https://habrastorage.org/storage3/661/5f7/2cd/6615f72cde4fa9f434a47a39eabf13df.jpg"><a name="habracut"></a>  <a href="http://www.rctech.net/forum/radio-electronics/688671-lap-timing-decoder-5.html">rctech.netで</a> <a href="http://www.flipsideracing.org/projects/fslapcounter/browser/trunk/Classes/SerialLapCounters.rbbas%3Frev%3D1248">ここ</a>に集めた情報の一部 <h4> 回路を組み立てましょう </h4> そして、はんだ付けせずにブレッドボードに集めます： <img src="https://habrastorage.org/storage3/ff3/f18/f70/ff3f18f704d2a68e51d8f432c3f0a950.jpg"> 必要なもの：1。  atmega16（私のデバイスではatmega32ですが、本質は変わりません）2。  USART 7.3728MHzのクォーツ。  （私のデバイスでは-16.59 MHz）3。  32 kHzでのクォーツ時間.4。  USB-RS232アダプター5。  LED、ボタン、抵抗器：MKファームウェアが入らないように、ブートローダーでいっぱいにします。  <a href="http://easyelectronics.ru/avr-uchebnyj-kurs-ispolzovanie-bootloadera.html">easyelectronics.ruに</a>素晴らしい記事が<a href="http://easyelectronics.ru/avr-uchebnyj-kurs-ispolzovanie-bootloadera.html">あり</a>ます。 それはまさに私が使用するものです。 ブートローダーとメインプログラムの両方にLEDとボタンが必要ですデコーダーにはラップタイムをより正確に計算するための独自のクロックがありますが、さらに正確にするにはどうすればよいですか。 どのようにしても、トランスポンダー番号とループを通過した時間を送信するだけで、ブートローダーのLEDはブートローダーがロードされていることを示します。 そして、メインプログラムでは、彼は単純に点滅して、すべてが時計の順番に揃っていることを伝えます。ボタンを使用して、ループ上でのモデルの通過をシミュレートします。 原則として、任意のUSB-RS232アダプターが適しています。 <img src="https://habrastorage.org/storage3/601/1e0/441/6011e04419ee2328a35af5001346e5f0.png"><h4>  AMB20 </h4> このプロトコルは、コントローラーの初期化と、トランスポンダーと時間に関する情報の送信という2つの部分に分けることができます。 <h5> 時間カウント </h5>  32kHzクオーツのタイマーは1秒に1回中断されます。 <pre><code class="cs hljs">interrupt [TIM2_OVF] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timer2_ovf_isr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++GlobalS==<span class="hljs-number"><span class="hljs-number">60</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++GlobalM==<span class="hljs-number"><span class="hljs-number">60</span></span>) { GlobalH++; GlobalM=<span class="hljs-number"><span class="hljs-number">0</span></span>; } GlobalS=<span class="hljs-number"><span class="hljs-number">0</span></span>; } LED=!LED; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> すべてが明確でシンプルだと思います。 <h5> 初期化 </h5> 初期化中に、プログラムはCOMポートを開き、RTSを地上に置きます。 この信号の出力は、コントローラーINT0で停止します。 中断により、プログラム@ 00000001をコンピューターに送信し、コントローラーの時間をリセットします。 <pre> <code class="cs hljs">delay_ms(<span class="hljs-number"><span class="hljs-number">100</span></span>); printf(<span class="hljs-string"><span class="hljs-string">"@00000001\r\n"</span></span>); GlobalH=<span class="hljs-number"><span class="hljs-number">0</span></span>; GlobalM=<span class="hljs-number"><span class="hljs-number">0</span></span>; GlobalS=<span class="hljs-number"><span class="hljs-number">0</span></span>; GlobalMs=<span class="hljs-number"><span class="hljs-number">0</span></span>;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre><h5> ループを通過するラベル </h5> ラベルがループを通過したことをプログラムが理解するために、次の形式のレコードを送信する必要があります。 <pre> <code class="cs hljs">Trans=<span class="hljs-number"><span class="hljs-number">1</span></span>; MS=GlobalMs_Timer/<span class="hljs-number"><span class="hljs-number">2.56</span></span>; H=GlobalH; M=GlobalM; S=GlobalS; printf(<span class="hljs-string"><span class="hljs-string">"@%02u%02u%02u%02u%02u\r\n"</span></span>,Trans,H,M,S,MS);</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 例：@ 0102030405は、番号01のトランスポンダーが2時間3分4秒50ミリ秒ループを通過したことを意味します <img src="https://habrastorage.org/storage3/14a/645/3b1/14a6453b1d0fe4449c7ce4fc50ec38d8.png"> すべてが非常に簡単です。 <div class="spoiler">  <b class="spoiler_title">プログラムコード</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">/***************************************************** This program was produced by the CodeWizardAVR V2.05.0 Professional Automatic Program Generator © Copyright 1998-2010 Pavel Haiduc, HP InfoTech srl http://www.hpinfotech.com Project : Version : Date : 01.04.2013 Author : Company : Comments: Chip type : ATmega16 Program type : Application AVR Core Clock frequency: 7,372800 MHz Memory model : Small External RAM size : 0 Data Stack size : 256 *****************************************************/</span></span> <span class="hljs-meta"><span class="hljs-meta">#include &lt;mega16.h&gt; #ifndef RXB8 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RXB8 1 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef TXB8 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TXB8 0 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef UPE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> UPE 2 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef DOR #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DOR 3 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef FE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FE 4 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef UDRE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> UDRE 5 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #ifndef RXC #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RXC 7 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FRAMING_ERROR (1&lt;&lt;FE) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> PARITY_ERROR (1&lt;&lt;UPE) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DATA_OVERRUN (1&lt;&lt;DOR) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DATA_REGISTER_EMPTY (1&lt;&lt;UDRE) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RX_COMPLETE (1&lt;&lt;RXC) // USART Receiver buffer #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RX_BUFFER_SIZE 32 char rx_buffer[RX_BUFFER_SIZE]; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> RX_BUFFER_SIZE &lt;= 256 unsigned char rx_wr_index,rx_rd_index,rx_counter; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> unsigned int rx_wr_index,rx_rd_index,rx_counter; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> // This flag is set on USART Receiver buffer overflow bit rx_buffer_overflow; // USART Receiver interrupt service routine interrupt [USART_RXC] void usart_rx_isr(void) { char status,data; status=UCSRA; data=UDR; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> ((status &amp; (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0) { rx_buffer[rx_wr_index++]=data; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> RX_BUFFER_SIZE == 256 // special case for receiver buffer size=256 </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (++rx_counter == 0) { #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (++rx_counter == RX_BUFFER_SIZE) { rx_counter=0; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> rx_buffer_overflow=1; } } } #ifndef _DEBUG_TERMINAL_IO_ // Get a character from the USART Receiver buffer #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _ALTERNATE_GETCHAR_ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> used+ char getchar(void) { char data; while (rx_counter==0); data=rx_buffer[rx_rd_index++]; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> RX_BUFFER_SIZE != 256 </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (rx_rd_index == RX_BUFFER_SIZE) rx_rd_index=0; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #asm("cli") --rx_counter; #asm("sei") return data; } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> used- #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> // USART Transmitter buffer #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TX_BUFFER_SIZE 256 char tx_buffer[TX_BUFFER_SIZE]; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> TX_BUFFER_SIZE &lt;= 256 unsigned char tx_wr_index,tx_rd_index,tx_counter; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> unsigned int tx_wr_index,tx_rd_index,tx_counter; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> // USART Transmitter interrupt service routine interrupt [USART_TXC] void usart_tx_isr(void) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (tx_counter) { --tx_counter; UDR=tx_buffer[tx_rd_index++]; } } #ifndef _DEBUG_TERMINAL_IO_ // Write a character to the USART Transmitter buffer #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _ALTERNATE_PUTCHAR_ #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> used+ void putchar(char c) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (tx_counter || ((UCSRA &amp; DATA_REGISTER_EMPTY)==0)) { tx_buffer[tx_wr_index++]=c; ++tx_counter; } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> UDR=c; } #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> used- #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> // Standard Input/Output functions #include &lt;stdio.h&gt; #include &lt;delay.h&gt; char GlobalH,GlobalM,GlobalS,GlobalMs; float TempFloat; #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> GlobalMs_Timer TCNT2 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> LED PORTD.7 unsigned int Trans; // External Interrupt 0 service routine interrupt [EXT_INT0] void ext_int0_isr(void) { delay_ms(100); printf("@00000001\r\n"); GlobalH=0; GlobalM=0; GlobalS=0; GlobalMs=0; } interrupt [EXT_INT1] void ext_int1_isr(void) { char H,M,S,MS,Trans; Trans=1; MS=GlobalMs_Timer/2.56; H=GlobalH; M=GlobalM; S=GlobalS; printf("@%02u%02u%02u%02u%02u\r\n",Trans,H,M,S,MS); } interrupt [EXT_INT2] void ext_int2_isr(void) { } interrupt [TIM0_OVF] void timer0_ovf_isr(void) { } interrupt [TIM2_OVF] void timer2_ovf_isr(void) { char i; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (++GlobalS==60) { </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (++GlobalM==60) { GlobalH++; GlobalM=0; } GlobalS=0; } LED=!LED; } void main(void) { PORTA=0x00; DDRA=0x00; PORTB=0x00; DDRB=0x00; PORTC=0x00; DDRC=0x00; PORTD=0b1001100; DDRD=0x80; TCCR0=0x05; TCNT0=0x00; OCR0=0x00; ASSR=0x08; TCCR2=0x05; TCNT2=0x00; OCR2=0x00; GICR|=0xE0; MCUCR=0x0A; MCUCSR=0x00; GIFR=0xE0; TIMSK=0x41; // USART initialization // Communication Parameters: 8 Data, 1 Stop, No Parity // USART Receiver: On // USART Transmitter: On // USART Mode: Asynchronous // USART Baud Rate: 9600 UCSRA=0x00; UCSRB=0xD8; UCSRC=0x86; UBRRH=0x00; UBRRL=0x2F; #asm("sei") while (1) { } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div> このプロトコルの欠点は明らかです-トランスポンダー番号は99以下です。別のプロトコルを検討してください。 <h4>  AMBRC </h4> このプロトコルには、MKからより多くのメモリが必要です。 理由は明らかです。 このプロトコルは、デコーダの初期化、ラベルの通過、デコーダのステータスの3つの部分に分けることができます。 <h5> 初期化 </h5> プログラムは、次のテキストをデコーダーに送信します "？; 0; 0; 0;" バックスラッシュリターン（clcf）バイト-（0x0D、0x0A）。 このプログラムは、デコーダに興味深いものを送信しません。 したがって、入力にバイト0x0Aがあり、初期化フラグを設定している場合（フラグが必要な理由については後述します）。 <pre> <code class="cs hljs">interrupt [USART_RXC] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">usart_rx_isr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> status,data; status=UCSRA; data=UDR; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((status &amp; (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==<span class="hljs-number"><span class="hljs-number">0</span></span>) { rx_buffer[rx_wr_index++]=data; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (data==<span class="hljs-number"><span class="hljs-number">0x0A</span></span>) {TimeToInit=<span class="hljs-number"><span class="hljs-number">1</span></span>;} <span class="hljs-comment"><span class="hljs-comment">//       #if RX_BUFFER_SIZE == 256 // special case for receiver buffer size=256 if (++rx_counter == 0) { #else if (rx_wr_index == RX_BUFFER_SIZE) rx_wr_index=0; if (++rx_counter == RX_BUFFER_SIZE) { rx_counter=0; #endif rx_buffer_overflow=1; } } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> しかし、メインループでは、以下を初期化します。 <pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TimeToInit) { putchar(<span class="hljs-number"><span class="hljs-number">1</span></span>); printf(<span class="hljs-string"><span class="hljs-string">"$\t%i\t7\t0\t1\t1\t"</span></span>,decoderid); putchar(<span class="hljs-number"><span class="hljs-number">0xF8</span></span>); putchar(<span class="hljs-number"><span class="hljs-number">0xF9</span></span>); printf(<span class="hljs-string"><span class="hljs-string">"\r\n"</span></span>); GlobalS=<span class="hljs-number"><span class="hljs-number">0</span></span>; GlobalMs_Timer=<span class="hljs-number"><span class="hljs-number">0</span></span>; sequence_number=<span class="hljs-number"><span class="hljs-number">0</span></span>; TimeToInit=<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> プロトコルの完全な説明は見つかりませんでしたが、一部しか見つかりませんでした。  COMポートのレコードは次のように送信されます。 <blockquote>  01 24 09 31 30 30 09 37 09 30 09 31 09 31 09 F8 F9 0D 0A </blockquote> ここでは、デコーダー番号は100です。記録は常にバイト（0x01）で始まります。 次は$記号です。 各値の間には符号タブ（0x09）があります。 すべてのエントリはキャリッジリターン（0x0D 0x0A）で終了します。 まあ、時間とsequence_numberをリセットする必要があることを忘れないでください。  sequence_numberは、区画ごとに増分される区画の番号です。 <h5> デコーダーの状態 </h5>  4秒ごとにステータスを送信する必要があります。 パッケージビュー： <blockquote>  ＃100980 0 x06BA </blockquote> バイトは次のようなものです。 <blockquote>  01 23 09 31 30 30 09 31 30 32 38 09 30 09 78 39 42 39 46 0D 0A </blockquote> ここでは、デコーダー番号、sequence_number、ある種のゼロ（理由はわかりません）およびチェックサムを確認できます。 チェックサムはputcharプロシージャで計算されます。 <pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">putchar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> c</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (tx_counter == TX_BUFFER_SIZE); <span class="hljs-meta"><span class="hljs-meta">#asm("cli") crcwork = (crcTable[(crcwork &gt;&gt; 8) &amp; 0xff] ^ (crcwork &lt;&lt; 8) ^ c); //      </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> (tx_counter || ((UCSRA &amp; DATA_REGISTER_EMPTY)==0)) { tx_buffer[tx_wr_index++]=c; ++tx_counter; } </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">else</span></span></span><span class="hljs-meta"> UDR=c; #asm("sei") }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>  crcTableテーブルは事前に計算され、ここにあります。 <div class="spoiler">  <b class="spoiler_title">非表示のテキスト</b> <div class="spoiler_text">  flash unsigned int crcTable [256] = {0.4129.8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173 、17044.29431.25302.37689.33560.45947.41818.54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927 50604.54669.13907.9842.5649.1584.300423.26358.22165.18100.46939.42874.38681.34616.63455.59390.55197.51132.18628.22757.26758.300887.2112.6241.10242 、14371.51660.55789.59790.63919.35144.39273.43274.47403.23285.19156.31415.27286.6769.2640.14899.10770.56317.52188,64447,60318,39801,35672,47931,43802 27814.31879.19684.23749.11298.15363.3168.7233.60846.64911.52716.56781.44330.48395.36200,40265.32407.28342.24277,202,115891.11826.7761.3696.65439 61374.57309.53244.48923.44858.40793.36728.37256.33193.45514.41451.53516.49453.61774.57711.4224,161,12482,8419,20484,16421,28742,24679,33721,37784 、41979.46042.49981.54044.58239.62302.689.4752.8947.13010.16949.21012.25207.29270.46570.42443.38312.34185.62830.58703.54  572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941、 22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026、 19061.23124.27191.31254.2801.6864.10931.14994.64814.60687.56684.52557.48554.44427,40424.36297.31782,27655,23652,19525,15522,11395,7392,3265,61215、 65342.53085.57212.44955.49082.36825,40952,28183,32310,20053,24180,11923,16050,3793,7920}; </div></div> 送信コード自体は次のようになります。 <pre> <code class="cs hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TimeToSendAmbStatus) { sequence_number++; putchar(<span class="hljs-number"><span class="hljs-number">1</span></span>); crcwork=<span class="hljs-number"><span class="hljs-number">0xFFFF</span></span>; printf(<span class="hljs-string"><span class="hljs-string">"#\t%i\t%i\t0\t"</span></span>,decoderid,sequence_number); printf(<span class="hljs-string"><span class="hljs-string">"x%02X%02X\r\n"</span></span>,((crcwork&gt;&gt;<span class="hljs-number"><span class="hljs-number">8</span></span>)&amp;<span class="hljs-number"><span class="hljs-number">0xff</span></span>),(crcwork&amp;<span class="hljs-number"><span class="hljs-number">0xff</span></span>)); TimeToSendAmbStatus=<span class="hljs-number"><span class="hljs-number">0</span></span>; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> ここで、sequece_numberの増分方法を確認できます。 最初に0x01が送信され、次にcrcwork = 0xFFFFがリセットされます。 ヘルメットはパッケージの一部です。 同時に、チェックサムが考慮されます。 次のステップは、チェックサムとキャリッジリターンを送信することです。 したがって、4秒ごとに： <pre> <code class="cs hljs">interrupt [TIM2_OVF] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">timer2_ovf_isr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> times; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++times==<span class="hljs-number"><span class="hljs-number">4</span></span>) { TimeToSendAmbStatus=<span class="hljs-number"><span class="hljs-number">1</span></span>; times=<span class="hljs-number"><span class="hljs-number">0</span></span>; } GlobalS++; LED=!LED; }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre><h5> トランスポンダー番号と送信時間 </h5> これが困難の始まりです。 トランスポンダーの時間と数を変換し、USARTのバッファーに送信するのにかなり時間がかかります（どういうわけか約300ミリ秒でした）。そのため、割り込みでは何も直接送信せず、メインループに残します。 すべてが機能するためには、中間バッファーといくつかの変数を使用する必要があります。 <pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> TranspondersCountMax 20 unsigned long int Transponders[TranspondersCountMax]; unsigned long int TranspondersTimeS[TranspondersCountMax]; unsigned int TranspondersTimeMS[TranspondersCountMax]; char TransponderNeedToSend, TranspondersCountInt, TranspondersCountMain;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> ところで、バッファーは循環的で、これがバッファーを埋める方法です。 <pre> <code class="cs hljs">interrupt [EXT_INT1] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ext_int1_isr</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span></span><span class="hljs-function">)</span></span> { unsigned <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> S; unsigned <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> MS; MS=GlobalMs_Timer*<span class="hljs-number"><span class="hljs-number">3.90625</span></span>; S=GlobalS; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TransponderNeedToSend&lt;TranspondersCountMax) { TransponderNeedToSend++; Transponders[TranspondersCountInt]=<span class="hljs-number"><span class="hljs-number">1234567</span></span>; TranspondersTimeS[TranspondersCountInt]=S; TranspondersTimeMS[TranspondersCountInt]=MS; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++TranspondersCountInt==TranspondersCountMax) TranspondersCountInt=<span class="hljs-number"><span class="hljs-number">0</span></span>; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> そしてメインループで： <pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TransponderNeedToSend) { sequence_number++; putchar(<span class="hljs-number"><span class="hljs-number">1</span></span>); crcwork=<span class="hljs-number"><span class="hljs-number">0xFFFF</span></span>; printf(<span class="hljs-string"><span class="hljs-string">"@\t%i\t%i\t%07lu\t%u.%03u\t130\t119\t2\t"</span></span>, decoderid, sequence_number, Transponders[TranspondersCountMain], TranspondersTimeS[TranspondersCountMain], TranspondersTimeMS[TranspondersCountMain]); <span class="hljs-comment"><span class="hljs-comment">//putchar('@'); //putchar(9); //printf("%i",decoderid); //putchar(9); //printf("%i",sequence_number); //putchar(9); //printf("%07lu",Trans); //putchar(9); //printf("%u.%03u",S,MS); //putchar(9); //printf("130"); //putchar(9); //printf("119"); //putchar(9); //printf("2"); //putchar(9); printf("x%02X%02X\r\n",((crcwork&gt;&gt;8)&amp;0xff),(crcwork&amp;0xff)); if (++TranspondersCountMain==TranspondersCountMax) TranspondersCountMain=0; TransponderNeedToSend--; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>  「@ \ t％i \ t％i \ t％07lu \ t％u。％03u \ t130 \ t119 \ t2 \ t」の行で悪魔が足を折るので、コメントは同じことを言っています。 ユニットの送信、チェックサムの計算は、デコーダーステータスの送信と同じです。 <blockquote>  @ 100 10 1234567 37.589 130119 2 xEB94 </blockquote> ご覧のとおり、すべてが非常に簡単です。 <h4> ラップカウントプログラムに関するいくつかの言葉 </h4>  AMB serif互換のプログラムは数多くありますが、RCM Begginersを使用することを好みます。 それは無料で、ロシア語で非常に簡単です。  <a href="http://www.rc-timing.ch/en/downloads/freeware.html">こちらから</a>ダウンロードできます。 ロシアでは、モデル作成者の間でRCM Ultimate（これは突然で高価です）が非常に人気があります。  AMB20とAMBRcは両方とも次のように構成されています。 <img src="http://habrastorage.org/storage3/603/08c/f38/60308cf38b12160c204d5e950d8b626b.jpg"> 他のプログラムは特に好きではありませんでした。 <h4> 結論の代わりに </h4>  CodeVision Avrのソースとプロテウスのスキームは<a href="">こちらにあります。</a> <iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://www.youtube.com/embed/4Oo95jz4Toc&amp;xid=17259,15700021,15700186,15700190,15700256,15700259,15700262,15700265,15700271,15700280,15700283&amp;usg=ALkJrhhWgUFzZ-KXboA6Csx5Yb4dgcScCw" frameborder="0" allowfullscreen=""></iframe></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J196494/index.html">Leasewebがハッキングされました</a></li>
<li><a href="../J19650/index.html">盗まれた鉄のサイト</a></li>
<li><a href="../J196500/index.html">新しいChromeタブで検索をオフにする</a></li>
<li><a href="../J196504/index.html">スプリントドライバー-スピードの力を感じる</a></li>
<li><a href="../J19651/index.html">優れたモバイルプロジェクト-それは何ですか？</a></li>
<li><a href="../J196518/index.html">負荷がかかってもクラッシュしないサーバーを作成しています</a></li>
<li><a href="../J196524/index.html">BlackBerryは、Intel、LG、Samsung、Ciscoなどと資産の売却を交渉しています</a></li>
<li><a href="../J196528/index.html">FBIは、ビットコインによって押収されたシルクロードリソースをどうするかを知りません。FBIは、ロスウルブリヒトウォレットにまだアクセスできません。</a></li>
<li><a href="../J196532/index.html">RuSSIR Music Hackathon 2013：オーガナイザーノート</a></li>
<li><a href="../J196542/index.html">NVIDIA Shield-最高のハンドヘルドオタクコンソール</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>