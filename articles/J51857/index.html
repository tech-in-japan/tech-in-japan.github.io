<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👲🏿 👨🏿‍🍳 🤦 既製のプログラムの機能を拡張する 💪🏾 📗 🚫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ソフトウェアの世界では、開発者によって忘れられた膨大な数のプログラムがあります。 すでに優れた代替手段がある場合は良いことです。 そして彼女がそうでない場合は？ 一部の些細なことはプログラムでひどく見落とされる可能性があり、いくつかの迷惑なエラーは何年もの間ユーザーに多大な不便をもたらす可能性があり...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>既製のプログラムの機能を拡張する</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/51857/"> ソフトウェアの世界では、開発者によって忘れられた膨大な数のプログラムがあります。 すでに優れた代替手段がある場合は良いことです。 そして彼女がそうでない場合は？ 一部の些細なことはプログラムでひどく見落とされる可能性があり、いくつかの迷惑なエラーは何年もの間ユーザーに多大な不便をもたらす可能性があり、プログラムはOSの新しいバージョンで動作することさえ拒否するかもしれません。 ソースコードは、プログラムをクリーンアップするために常に利用できるものではありません。 プログラムが単純であれば、短時間で代替を作成することは難しくありません。 しかし、プログラムが大きく複雑な場合、この場合はどうすればよいでしょうか？ 合理的なフレームワーク内で機能を拡張し、完成した実行可能ファイルに既にあるエラーのほとんどを修正できるため、時間とお金をかけて完全なアナログを開発することは必ずしも合理的ではありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事では、伝説的なゲーム<b>Age of Empires II</b> （リアルタイム戦略）の機能を拡張する例として、実行可能ファイルを変更する方法を示します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     だから私たちは何を持っています： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ゲームは1999年にリリースされ、放棄ウェアの状態になっています。つまり、製造業者によって販売されることはなく、利益も得られません。 </li><li>  2000年にリリースされた最後の更新、改訂不可 </li><li> ゲームは複雑なソフトウェアの好例であり、その完全な類似物はほとんど再現できません </li><li> 開発者によって修正されていない迷惑なエラーがあります </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     おそらく、ライセンス契約の禁止を見ることなく、何かを変更しようとすることができます。 そう思いませんか？  :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 免責事項 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この作業は教育目的のみで行われたものであり、適用法の違反を求めるものではありません。 著者は、提出された資料の違法使用について一切の責任を負いません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  「患者」に関する情報 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     調査中のゲームは、1997年から2000年にEnsemble Studiosによって開発されたGenieエンジンで作成されました。 この期間中、Age of Empiresシリーズの4つのゲームがこのエンジンでリリースされました。 さらに、GenieはLucasArtsによってライセンスされており、2001-2002年にこのエンジンで2つのゲームをリリースしましたが、スターウォーズシリーズのものです。 この時点で、エンジンは256色モードで動作していたため、すでに非常に古くなっていました。これは2000年のゲームと比べても非常に控えめです。 そのため、エンジンの改良が停止され、それに基づいた新しいゲームはリリースされませんでした。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Genieゲームエンジンは、すべてのゲームグラフィックス、音楽、そして最も重要なもの-ユニットのリストとその特性-を外部ファイルからダウンロードします。 つまり、ほとんどの部分でこのエンジンに基づくすべてのゲームには非常に類似した実行可能ファイルがあり、1つのゲームのほとんどすべての変更は問題なく他のゲームに簡単に移植できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 何を達成したいですか？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  1. CDチェックを無効にします </h6> 最近のラップトップ（ネットブックなど）では、組み込みのCDドライブがなくても珍しくありません。 さらに、ゲームは非常に古いため、元のCDの読み取りが停止し、誰かが失うことさえあります。 その結果、完全に合法的なゲームのコピーの所有者は、ゲームを実行する能力を失います。 したがって、おそらく、ディスクなしでゲームを実行してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  2.ウィンドウモードサポートを追加する </h6>  Age of Empiresは、800×600、1024×768、および1280×1024の3つの固定解像度をサポートしています。 このような解像度では、ワイドスクリーンモニターの画像が引き伸ばされて見えるため、不快感が生じます。 ゲームに新しい権限のサポートを追加できますが、ゲームは解像度ごとに独自のインターフェイスグラフィックを使用するため、それをそのままにして、今のところゲームにウィンドウモードを追加することに制限してみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  3.構成ファイルのサポートを追加します </h6> ある種のシステムゲームオプションを有効にするには、プログラムが起動するたびにコマンドラインから送信する必要があります。 すべてのパラメーターをショートカットに入れることができますが、ゲームを別のディレクトリに移動すると、ショートカットは機能しなくなります。 解決策は、構成ファイルのサポートを追加することです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  4.ゲームをポータブルにする </h6> ゲームはポータブルではありません。 別のコンピューターで実行するには、ゲームファイルをコピーするだけでは不十分です。ゲームのインストールプロセス全体を実行する必要があります。 外付けドライブの広範な配布に関連して、このプロパティをゲームに付与したいと思います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  5.既知のエラーを修正 </h6> ゲームのインターフェースに不快なエラーがあります。 たとえば、IPゲームに接続するためのダイアログでは、以前に入力したアドレスは最近のゲームのリストで切り捨てられます。これにより、クイック接続機能全体の利便性がゼロになり、毎回サーバーアドレスを手動で入力する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> これには何が必要ですか？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://www.hex-rays.com/idapro/">IDA Pro</a>は、リバースエンジニアリングに広く使用されているインタラクティブな逆アセンブラーおよびデバッガーです。 初心者でも理解できるフローチャートを作成できます。 すべての彼の強みは、ユーザーとのインタラクティブな相互作用に表れています。 自動分析後、ユーザーは関数や変数に意味のある名前を付けたり、コードにコメントを付けたりできます。  x86アセンブリ言語を少し理解すれば、すぐにプログラムの調査を開始できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://flatassembler.net/">Flat Assembler</a>は、フリーウェアのマルチパスアセンブラです。  FASMはサイズが小さく、コンパイル速度が非常に速く、多くのルーチンタスクを自動化できる豊富で大容量のマクロ構文を備えています。 便利な機能の1つは、ヘッダーなどのない純粋なマシンコードの生成です。 これらはすべて、アセンブラーインサートの生成に役立ちます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <a href="http://sourceforge.net/projects/hexplorer/">Hexplorer</a>は無料のHEXエディターです。 シンプルなx86逆アセンブラーを備えているため、実行可能ファイル内を簡単にナビゲートできます。 サイズを変更せずにバイナリファイルを手動で変更するために直接使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     それでは始めましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  CDチェックを無効にする </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CDが利用可能かどうかを確認するコードを見つけてください。IDAがお手伝いします。 それは非常にシンプルであることが判明しました。  4485A0h（ベースアドレス400000h、つまり物理的にファイル内にあり、マシンコードは485A0hにある）でCD存在チェック機能を見つけると、ドライブに関する情報を取得するために使用されるGetDriveTypeAおよびGetVolumeInformationA関数の呼び出しをトレースするだけで十分です。 eaxユニット。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  checkcd proc near
     sub esp、214h
     ebxをプッシュ
    プッシュESI
     ;  ...
     ; 多くのチェック
     ;  ...
    テストeax、eax
     jz cd_check_fail
 cd_check_ok：
    ポップエス
     mov al、1
    ポップEBX
     ESP、214hを追加
     retn 4
 cd_check_fail：
    ポップエス
    ポップEBX
     ESP、214hを追加
     retn 4
 checkcd endp
</pre></blockquote> この関数は、ゲームがインストールされたディスクの文字が保存されているレジストリにCDPathの値を要求することに注意してください。 つまり、ゲームはインストール元のドライブの文字にのみ関連付けられており、元のドライブが他のドライブにある場合、ゲームはまだ開始されません。 この場合の最も簡単な解決策は、2バイトのnop操作で2バイトかかるjz cd_check_failコマンドを置き換えることです。これにより、ディスクをチェックした後、ユニットは常にeaxに戻ります。 ただし、レジストリにCDPath値が存在しない場合、関数はすぐに0を返すように設計されているため、プログラムの移植性が妨げられます。 したがって、関数全体を3つの単純なコマンドに置き換えます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  use32
     xor eax、eax
     Inc eax
     retn 4 </pre></blockquote> これらのコマンドのマシンコードを取得するには、FASMが役立ちます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  fasm src.asm dst.bin </pre></blockquote> このアセンブラの主な利点は、ヘッダーなしでクリーンなマシンコードを生成できることです。 取得します（コマンドごとの行）： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  31 C0
 40
 C2 04 00
</pre></blockquote> つまり、これらの6バイトをCDの存在を判断するための関数の先頭に置き、残りのコマンドをnop（コード90h）に置き換える必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="scrollable-table"><table><tbody><tr><th> ソースマシンコード </th><th> 受信したマシンコード </th></tr><tr><td><pre>  8B 44 24 04 81 EC 14 02
 00 00 85 C0 53 56 8B D9
 ... </pre></td><td><pre>  33 C0 40 C2 04 00 90 90
 90 90 90 90 90 90 90 90 90
 ... </pre></td></tr></tbody></table></div> 通常のHEXエディターでは、オフセット485A0hで始まる上記のマシンコードを置き換えます。その後、レジストリに必要なキーがない場合でも、ゲームでCDを実行する必要はありません。 同時に、追加のマシンコード用に288バイトをリリースしました。これは、将来的に役立つでしょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> バグ修正 </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      IPネットワークゲームに接続すると、ゲームには、IPのリストと、プレーヤーが以前に接続したゲームの名前が表示されます。 ただし、何らかの理由で、IPアドレスが完全に保存されないことが多く、最後の文字のいくつかが切り捨てられました。 問題を理解し、エラーを修正する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最新のゲームのIPアドレスをレジストリに保存するコードを検索します。 このゲームでは、RecentGameName％dおよびRecentGameAddr％dという形式の名前を持つキーに最近のIPゲームのリストが保存されることがわかっています。  IDAを使用すると、これらの行への3つのリンクが見つかります。 目的のコードがどこにあるかを判断するのは非常に簡単です-オフセット0512116hのコードでは、これらのキーが記録され、他の場合は読み取ります。 発見されたマシンコードの部分は示しません-約50の命令があり、その一般的な意味は小さなCコードとして表すことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  for（int i = 0; i &lt;count; i ++）
 {
	 char *キー名;
	 sprintf（キー名、「RecentGameName％d」、i）;
	 RegSetVal（1、キー名、ゲーム名[i]、strlen（ゲーム名[i]））;
	 sprintf（キー名、「RecentGameAddr％d」、i）;
	 RegSetVal（1、キー名、gameaddr [i]、strlen（gamename [i]））;
 } </pre></blockquote>レジストリに値を設定するために、ゲームは独自のラッパー関数RegSetVal（int、char * ValueName、char * Data、int DataSize）を使用します-関数とパラメーターの名前はもちろん発明されたもので、マシンコードにはありません。 ご覧のとおり、ゲームはレジストリにネットワークゲームの名前と同じ数のIPアドレスの文字を保存します。 どうやら、プログラマはアドレスを保存するためにゲームの名前を保存するために2行をコピーしましたが、strlen呼び出しで配列の名前を修正するのを忘れていました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     エラーを修正するには、2つのオプションがあります。正しい文字列をstrlenに置き換えるか、strlenの代わりに定数16を配置します（アドレス行の最大長、たとえば「255.255.255.255」）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      strlen（gamename [i]）の呼び出しは、マシンコードではどのように見えますか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre>  _sprintfを呼び出します。  + 0x1022CF
 mov edi、ebp
またはecx、0FFFFFFFFh
 xor eax、eax
 ESP、0Chを追加
 Repne scasb
 ecxではない
プッシュecx </pre></blockquote> コンパイラーはコードを最適化し、strlen（）関数呼び出しを所定の長さの計算に置き換えました。 前のstrlen（）の呼び出しでは、同じ行が使用されましたが、ここでも最適化-最初の呼び出し時にポインターがebpに配置されます。 つまり、ebpに正しいポインターを置くための貴重なバイトのペアがありません。 もちろん、jmpを関数の制限の範囲外にしてから元に戻すこともできますが、これは最も美しい方法ではありません。 したがって、最も単純なバージョンのエラー修正について説明します。常に16バイトのアドレスを保存します。 これを行うには、上記のマシンコードを次のコードに置き換えます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="scrollable-table"><table><tbody><tr><th> アセンブリコード </th><th> 機械コード </th></tr><tr><td><pre>  _sprintfを呼び出します。  + 0x1022CF
 ESP、0Chを追加
 mov ecx、0Fh </pre></td><td><pre>  E8 CF 22 10 00
 83 C4 0C
 B9 0F 00 00 00 </pre></td></tr></tbody></table></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 構成ファイルのサポート </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ゲームは、起動するたびに転送しないようにファイルのどこかに保存するのに便利な多くの便利なコマンドラインオプションをサポートしています。 これを実装する最良の方法は、ゲームに外部ライブラリをロードさせ、各起動時に初期化機能を実行させることです。 このような組織を使用すると、実行可能ファイルを変更せずに追加のライブラリ（モジュール）をロードしたり、レジストリで関数をインターセプトして、レジストリではなくゲームの構成ファイルにすべてのゲームデータのストレージを整理するなど、多くの便利なものを構成ファイルに追加できます。 さまざまな設定セットで複数のプロファイルをサポートし、それらを迅速に切り替える機能は不要です。 それでは始めましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     外部ライブラリを接続する最も便利な場所は、ebueulax.dllライブラリのダウンロード機能で、これはライセンス契約の表示を担当します。  WinMainが起動した直後に呼び出されますが、ebueulax.dllライブラリを読み込んでEBUEula関数を実行することに加えて、多くの余分な作業を行うため、config.dllライブラリを読み込んでLoadConfigライブラリ関数を場所へのポインターで実行するように完全に書き直しますパラメータとしてメモリ内のコマンドライン（変更するため）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="scrollable-table"><table><tbody><tr><th> アセンブリコード </th><th> 機械コード </th></tr><tr><td><pre>  LoadConfigLib proc near
     sub esp、208h
    プッシュESI
    プッシュエディ
     ebxをプッシュ
    プッシュecx
     edxをプッシュ
     mov esi、ds：LoadLibraryA
     67B8C4hを押します。  lpLibFileName
     esiを呼び出します。 ロードライブラリ
     mov ebx、eax
    テストebx、ebx
     jz short loc_587443
    プッシュオフセットaLoadconfig
     ebxをプッシュします。  hModule
    呼び出しds：GetProcAddress
     mov edi、eax
    テストエディエディ
     jz short loc_58743C
     mov eax、[esp + 220h]; **引数
    プッシュeax
    エディに電話
     jmp short loc_587443
 loc_58743C：
     ebxをプッシュします。  hLibModule
    呼び出しds：FreeLibrary
 loc_587443：
    ポップEDX
    ポップECX
    ポップEBX
    ポップエディ
    ポップエス
     ESP、208hを追加
     retn
 Loadconfiglib endp </pre></td><td><pre> 
 81 EC 08 02 00 00
 56
 57
 53
 51
 52
 8B 35 E0 51 63 00
 68 C4 B8 67 00
 Ff d6
 8B D8
 85 DB
 74 25
 68 B8 B8 67 00
 53
 FF 15 C8 50 63 00
 8B F8
 85 FF
 74 0C
 8B 84 24 20 02 00 00
 50
 Ff d7
 EB 07

 53
 FF 15 20 51 63 00

 5A
 59
 5B
 5F
 5E
 81 C4 08 02 00 00
 C3 </pre></td></tr></tbody></table></div> 上記のコードは、いくつかのライブラリ関数呼び出しを行います。 それらのアドレスは、マシンコードに手動で挿入されました。 次の記事（気にしない場合:)）では、FASMを使用して、実行可能ファイルに挿入する準備が完全に整ったコードを生成する方法を説明します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     通常のHEXエディターを使用して、元の関数（オフセット187400hから開始）を新しい関数に置き換えます。 新しい関数は元の関数よりもはるかに短いため、残りのバイトをオペレーションコードnop-90hに置き換えることを忘れないでください。 追加のマシンコード用にさらに192バイトの空きバイトを取得しました。 この場所は将来使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="scrollable-table"><table><tbody><tr><th> ソースマシンコード </th><th> 受信したマシンコード </th></tr><tr><td><pre>  81 EC 08 02 00 00 53 56 
 8B 35 E0 51 63 00 57 68
 CC B8 67 00 FF D6 8B D8 
 85 DB 75 0A 5F 5E 5B 81
 C4 08 02 00 00 C3 68 C4 
 B8 67 00 53 FF 15 C8 50
 63 00 8B F8 85 FF 75 13 
 53 FF 15 20 51 63 00 5F
 5E 33 C0 5B 81 C4 08 02 
 00 00 C3 8B 84 24 18 02
 00 00 50 FF D6 8B F0 85
 ... </pre></td><td><pre>  81 EC 08 02 00 00 56 57
 53 51 52 8B 35 E0 51 63
 00 68 C4 B8 67 00 FF D6 
 8B D8 85 DB 74 25 68 B8
 B8 67 00 53 FF 15 C8 50 
 63 00 8B F8 85 FF 74 0C
 8B 84 24 20 02 00 00 50 
 FF D7 EB 07 53 FF 15 20
 51 63 00 5A 59 5B 5F 5E 
 81 C4 08 02 00 00 C3 90
 90 90 90 90 90 90 90 90 90 
 ... </pre></td></tr></tbody></table></div>  config.dllモジュールが残りの作業を処理します。  C / C ++ / Delphiで記述できます。 そのタスクは簡単です-実行可能ファイルからアプリケーションコマンドラインへのポインターを取得し、構成ファイルの設定に応じて変更します。 ボーナスとして、構成ファイルでこれを設定することにより、追加モジュールをロードする機能を使用できます。 これを行うには、ゲームのアドレス空間にロードする必要があるモジュールファイルの名前でWinAPI関数LoadLibraryを呼び出すだけです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ウィンドウモードのサポート </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ウィンドウモードのサポートは、config.dllによってロードされる独立したモジュールwndmode.dllとして編成されます。 このモジュールは、すべてのDirectDraw呼び出しをインターセプトし、プログラムをウィンドウ内で実行するようにパラメーターを変更します。その後、元のDirectDraw関数に制御を移します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは、インターセプトされた関数を変更することで実装されます。 インターセプトされた関数の最初の数バイトは、インターセプト関数コマンドへの無条件ジャンプに置き換えられます。 このトリックはWinNTに実装するのは非常に簡単です（WinNTは各プロセスのシステムライブラリイメージの独自のコピーを作成するため） ） 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      wndmode.dllモジュール自体は、d3dhook.dllライブラリの高度に修正されたバージョンであり、実装されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  D3D Windowerプログラムから完全に独立 </li><li> 設定はwndmode.iniファイルの[WINDOWMODE]セクションからロードされます </li><li>  Genie互換性のために置き換えられたデフォルト設定 </li><li> ウィンドウの周囲のフレームをオン/オフする境界線パラメーターを追加しました </li><li> ゲームの解像度がシステムの解像度と等しい場合、フレームは自動的に削除されます </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これで、このライブラリは、ほぼすべてのDirectDrawゲームに統合してウィンドウゲームにする準備ができました。 だから誰かが他のゲームを修正するなら、それは重宝します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> どうしたの？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     変更については多くの作業が行われましたが、ここではほんのわずかな変更についても考慮したため、わずかな変更の説明にも多くの労力が必要です。 必要に応じて、完成した変更済みファイルをダウンロードして、IDAの残りの変更を確認できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般的に、次の結果を達成することができました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  ebueulax.dll（ライセンスマッピング）の代わりに、config.dllが読み込まれます（構成ファイルのサポート） </li><li> 操作のウィンドウモード（モジュールwndmode.dll-変更されたd3dhook.dll） </li><li> カーソル関数コードは、ウィンドウモードでの動作に適合しています（ゲームがウィンドウで動作するように設計されていないという事実に起因する多くの不快な問題を解決します） </li><li> ゲームは最初にインストールすることなく正常に動作します（ゲームファイルをコピーするだけです）。ゲームにはCDは必要ありません。 </li><li> 元のゲームのバグは、IPでプレイするときに最近のゲームのリストでIPアドレスが切断されたときに修正されました。 </li><li>  「One Player」および「Editor」メニューのボタンの順序と配置が変更され、「One Player」メニューのボタンの選択に関するバグが修正されました（コードの印象的なセクションが書き直されました） </li><li> 実行可能ファイルは、age2_x1またはルートからだけでなく、任意のサブディレクトリから起動できます（WinMainプロシージャの始まりはほぼ完全に書き換えられます） </li><li>  empires2.exeファイルの存在の確認はありません（削除できます） </li><li>  MIDIMUSICパラメーターがオンの場合、折り畳んだ後、メロディーが再び開始されます（楽器はリセットされません） </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべての変更は安定して機能し、障害は見つかりませんでした。 ウィンドウモードでは、ゲームカーソルがゲームウィンドウの領域を離れて戻った後にゲームカーソルと同時にシステムカーソルを表示する問題は未解決のままです。 ただし、これは、ゲームエンジンがウィンドウ内で実行されるように設計されておらず、カーソルがゲームウィンドウを離れたときにオプションを提供しないという事実のみに起因します。 変更の次のバージョンでは、これは修正されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この変更の開発に対する論理的な結論は、適切なゲームサーバーを作成してゲームにゲームルームサポートを導入することです。これは、ゾーンの公式のAge of Empiresゲームルームが数年前に閉鎖されたためです。 これはすべて、ソースコードを手元に持たずに実装することが可能です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> おわりに </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私がしたことを実際に試してみたい場合は、 <a href="http://veg.slutsk.net/blog/2008/08/10/age-of-conquerors-lite/">Age of Empires II：The Conquerors（Lite Edition）</a> （合計94MB）を私のWebサイトからダウンロードできます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     すべてが一度にここに書かれており、あまり詳細に書かれていないのが残念です。 一般的なスキームを説明しようとしました。 次の記事では、修正の各段階を個別に検討したり、アドバイスを与えたりできます。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J51846/index.html">Gmailをオフラインでバージョン0.2に更新</a></li>
<li><a href="../J51850/index.html">ピラミッドルール</a></li>
<li><a href="../J51852/index.html">ライブメッシュ-早く喜ぶ</a></li>
<li><a href="../J51855/index.html">XFL形式について</a></li>
<li><a href="../J51856/index.html">フレックスの使用可能性（RIA）</a></li>
<li><a href="../J51858/index.html">システムに関する少しの練習「15分」。</a></li>
<li><a href="../J51859/index.html">ハブラアリーナ</a></li>
<li><a href="../J51860/index.html">非表示のトピックの非表示</a></li>
<li><a href="../J51862/index.html">ドミトリー・メドベージェフは、情報社会開発のための大統領評議会の会議を開催しました。</a></li>
<li><a href="../J51864/index.html">AppStoreの20,000個のアプリ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>