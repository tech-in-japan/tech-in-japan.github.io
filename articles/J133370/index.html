<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👵🏼 🍍 🍐 操作の達人について知りたいが、尋ねることを恐れていたすべて ☸️ 👩🏼‍🌾 ⬅️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="企業環境のほとんどのシステム管理者は、Active Directoryドメインサービスを使用します。ActiveDirectoryドメインサービスは、エンタープライズインフラストラクチャ全体の中心と安全に呼ばれ、ユーザーを識別してエンタープライズリソースにアクセスするシステムを提供します。 多くの人...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>操作の達人について知りたいが、尋ねることを恐れていたすべて</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body"><img src="https://habrastorage.org/storage1/b33686e2/f90c2c39/0bdb1efc/f4419f91.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     企業環境のほとんどのシステム管理者は、Active Directoryドメインサービスを使用します。ActiveDirectoryドメインサービスは、エンタープライズインフラストラクチャ全体の中心と安全に呼ばれ、ユーザーを識別してエンタープライズリソースにアクセスするシステムを提供します。 多くの人が知っているように、組織のドメインサービスの構造には、信頼範囲の制限、ネットワークの完全な分離などの要因に応じて、1つまたは複数のフォレスト（ネットワーク構成の説明とディレクトリの単一コピーを含むドメインのセット）を含めることができます管理分離を受け取るデータ。 次に、各大規模フォレストをドメインに分割して、管理とデータ複製を簡素化する必要があります。 各ドメインは、ドメインコントローラーを使用してドメインサービスを管理し、認証、 <b>Kerberosキー配布センター</b>サービスの開始<b>、</b>アクセス制御などのタスクを実行します。 そして、オフィス間のネットワークトラフィックを管理するために、サイトを開発しました。 <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     もちろん、フォレスト、ドメイン、およびサイトに関するすべての情報は、ビジネス要件、機能要件、法的要件、セキュリティ要件、ドキュメントの設計制限などの企業要件に従って、Active Directoryドメインサービスを設計するときに合意する必要があります。 多くの場合、ドメインサービスの展開前のこれらすべてのポイントは、企業自体のIT部門または企業のインフラストラクチャに関与するプロジェクトチームによって慎重に計画され、提供されるサービスの速度と品質の予想レベルを決定する特別なサービスレベル契約に記録されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     設計後、またはほとんどの場合、Active Directoryドメインサービスの展開後に取得した情報は、慎重に文書化する必要があります。 そのようなドキュメントには、ドメインサービスの論理的および物理的な構造、管理モデル、名前解決インフラストラクチャ、組織の環境で計画されているすべての変更、Microsoft Exchangeメールサーバー、System Centerサーバーの実装などの追加のインフラストラクチャコンポーネントに関する情報を含める必要がありますはるかに。 ほとんどの場合、組織のITスタッフは文書化プロセスを無視し、ITスタッフを変更する場合、新しい管理者は組織の現在のインフラストラクチャを完全にナビゲートするのに時間がかかる場合があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     また、ディレクトリサービスでは、ほぼすべてのドメインコントローラーが等しいことを理解する必要があります（このコンテキストでは、読み取り専用ドメインコントローラー、RODCは考慮しません）。つまり、すべてのドメインコントローラーがデータベースへの書き込みアクセス権を持ち、このデータを他のコントローラー。 このトポロジは、Active Directoryのささいな操作のほとんどを処理<b>し、多くの</b>ピア（マルチマスター）との<b>レプリケーションと</b>呼ば<b>れ</b>ます。 ただし、それでも、そのような操作のために直接指定された許可サーバーで実行する必要がある操作がいくつかあります。 つまり、ドメイン内で特定の操作または役割を実行するドメインコントローラーは、操作のマスター（または所有者）と呼ばれます。 災害復旧、更新、または移行の場合、最も重要な役割の1つを果たすことができるのは操作マスターの役割を果たすドメインコントローラーであるため、操作マスターのすべての役割の目的を知って理解する必要があります。 したがって、この記事で説明する操作の達人についてです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事から次のことを学びます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 操作のマスターがいない場合に何が起こるかについて。 </li><li> フォレストレベルの操作ウィザードの役割。 </li><li> ドメインレベルの操作ウィザードの役割について。 </li><li> どのコントローラーがFSMOの役割を持っているかを判断する方法について。 </li><li> 運用マスターの役割の取得と移管について。 </li><li> ドメインコントローラー上の操作マスターの正しい配置について。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     現在の記事では考慮されないもの： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>操作のウィザードの役割を持つドメインコントローラーの計画と文書化</b> 。 これは、Active Directoryドメインサービスの計画の微妙な違いについての理解を含む別のトピックであり、この記事の範囲外です。 </li><li>  <b>グローバルカタログサーバー</b> 。 多くのシステム管理者は、グローバルカタログサーバーを操作ウィザードの役割と同一視しています。 実際、これは誤った判断です。 グローバルカタログは、各オブジェクトに関する情報を格納する分散データリポジトリであり、ユーザーおよびアプリケーションは、グローバルカタログに含まれる属性を検索することにより、現在のフォレスト内の任意のドメイン内のオブジェクトを見つけることができます。 グローバルカタログ自体は、グローバルカタログサーバーとして指定されたドメインコントローラー上にあり、マルチマスターレプリケーションによって複製されます。 グローバルカタログにはフォレスト内のすべてのオブジェクトの完全なリストが含まれており、グローバルカタログサーバーは他のドメインコントローラーを参照することなくすべての要求に応答できますが、グローバルカタログはウィザードの役割ではありません。 グローバルカタログサーバーに関する次の記事を読むことができます。 <a href="http://dimanb.wordpress.com/2010/12/20/%25D1%2581%25D0%25B5%25D1%2580%25D0%25B2%25D0%25B5%25D1%2580%25D1%258B-%25D0%25B3%25D0%25BB%25D0%25BE%25D0%25B1%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D1%258B%25D1%2585-%25D0%25BA%25D0%25B0%25D1%2582%25D0%25B0%25D0%25BB%25D0%25BE%25D0%25B3%25D0%25BE%25D0%25B2/">「グローバルカタログサーバー」</a> 。 </li><li>  <b>ドメインコントローラとの読み取り専用の対話ウィザード</b> 。 読み取り専用ドメインコントローラーは、特殊な比較的新しいタイプのドメインコントローラーであり、適切なレベルのセキュリティと資格のあるIT担当者が提供されていない組織のブランチオフィスに展開する必要があります。 操作ウィザードとグローバルカタログサーバーの計画と同様に、読み取り専用ドメインコントローラーは独立した広範なトピックであり、この記事を説明する意味はありません。 ただし、読み取り専用ドメインコントローラーが操作ウィザードの役割を持つドメインコントローラーとして機能できないという事実にすぐに注意する必要があります。 </li><li>  <b>操作のウィザードに関連する問題とエラーの解決</b> 。 現在の記事では、操作のマスターの役割の一般的な概念について説明しているため、考慮されない興味深い興味深いトピックです。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 操作のマスターがいなかったらどうなるでしょう </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     特定の操作を実行するドメインコントローラーと他のドメインコントローラーを区別しないActive Directoryドメインコントローラーの状況を想像する前に、操作ウィザードの役割を備えたドメインコントローラーの利点を検討します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     まず、この記事の入門セクションで既に示したように、ドメインコントローラは<b>操作のウィザード</b>と呼ばれ、Active Directoryで整合性を保証し、競合を回避するように設計された特別な役割を果たします。 この目的のために、このようなドメインコントローラーに特別な役割が割り当てられます。これらの役割は1つのドメインコントローラーへの厳密なバインドを持たないため、そのような役割は操作マスター（Flexible Single Master Operation、FSMO、fizz-moと発音）と呼ばれます。 実際、他のドメインコントローラーはこれらの役割を実行できますが、各役割は1つのドメインコントローラーにのみ割り当てる必要があり、同時に、操作マスターのドメインコントローラーで実行する必要があるアクションを1つのドメインで実行することはできません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ウィザードが使用するプロトコルを知ることは役立つと思います。 操作ウィザードは3つのプロトコルを使用します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> ライトウェイトディレクトリアクセスプロトコル（LDAP）。 </li><li>  RPC </li><li>  SMTP </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/1faf0862/63d06c71/3ee5c866/f71416e3.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここで、Active Directoryドメインサービスに操作ウィザードがなかった場合、つまりすべてのドメインコントローラーが同じアクションを同時に実行できる場合に何が起こるかを想像してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1つのフォレストと5つのドメインを持つ組織があるとします。 各ドメインで、システム管理者はMicrosoft Exchangeメールサーバーを同時にインストールすることを決定し、1つのドメインでは、管理者がこのメールサーバーの2007バージョン、2番目-2000、3番目のMicrosoft Exchange Server 2010 SP1をインストールします。 ドメインスキームのすべての変更、したがってフォレスト全体は、管理者が接続したドメインコントローラーに記録され、しばらくすると、Active Directoryスキームに加えられたすべての変更が組織のフォレスト内の各ドメインコントローラーに複製されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     誰かがRendom.exeシステムユーティリティを使用してドメインの名前を変更したい場合、別のドメインが既に名前が付けられていて、対応するFSMOの役割がエンタープライズにない場合、管理者は「何をしていますか-それから？ すでにそのようなドメインがありますが、すべてを壊しますか？」そして、ドメインの名前が変更されます。複製後、致命的な問題を回避することは不可能になります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     別の例を挙げましょう...繰り返しますが、自然界には操作の達人はいません。 クライアントマシンでは時間が失われ、ユーザー自身が誤って時間を変更する可能性がありますが、デフォルトドメイン内のすべてのクライアントは、最も近いドメインコントローラーと時間を同期する必要があります。 この場合、特定のドメインコントローラー、いわゆるリーディングタイムソースがない場合、ドメイン全体の各ユーザーの時間が異なる可能性があり、これは一部のビジネスアプリケーションにとって重要な場合があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     実際、経営者が不足しているため、企業の黙示録の例は無限にあります。 一番下の行は、操作マスターは単純にアクセス可能でなければならず、アクセス可能でなければならず、それらを対象とする操作のみを実行する必要があるということです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     合計で、Active Directoryドメインサービスには、操作ウィザードの5つの異なるロールが含まれます。つまり、フォレストレベルで2つのロールが使用されます。 <b>ドメインネーミング</b> <b>ウィザード</b>と<b>スキーマウィザードです</b> 。各フォレストは、各ロールが割り当てられたドメインコントローラーを1つしか持つことができません。 各ドメインには、操作のマスターに対して3つの役割のみがあります。 <b>相対RID識別子</b> <b>ウィザード、インフラストラクチャウィザード</b> 、および<b>PDCマスタードメインコントローラーのエミュレーターです</b> 。 つまり、フォレストに最初のドメインコントローラーをインストールすると、操作マスターの5つの役割すべてが同時に割り当てられ、既存のフォレストに新しいActive Directoryドメインを作成すると、3つのドメインレベルの役割が新しいドメインコントローラーに割り当てられます。 フォレスト内のFSMOおよびこれらの役割の潜在的な所有者の数は、「（ドメイン数* 3）+ 2」という式を使用して計算できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     たとえば、メインドメインの1つに子ドメインと孫娘ドメインがある4つのドメインを持つActive Directoryフォレストがある場合、そのようなフォレストには14個のFSMOロールが含まれます。 つまり、1つのスキーママスター、1つのドメイン名前付けマスター、4つのPDCエミュレーター（1つの役割を持つ2つのプライマリ、子、孫ドメイン）、各ドメインに4つのRIDホスト、各ドメインに4つのインフラストラクチャウィザード。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この段階で、フォレストレベルとドメインレベルで運用マスターの各役割を検討する時が来たと思います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> フォレストレベルの操作ウィザードの役割 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     上で書いたように、Active Directoryフォレストレベルのオペレーションウィザードには2つの役割があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> スキーマウィザード。 </li><li> ドメイン名前付けウィザード </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> スキーマウィザードの役割 </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スキーママスターの役割について少し説明する前に、 <b>「Active Directoryスキーマ」</b>とは正確には何であるかを一言で言うのは理にかなっていると思います。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>-ホリネを見る？</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>-いいえ。</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>-そして、私は見ていません。</i>  <i>しかし、彼はそうです！</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>K.F.</i>  <i>「DMB」</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/64b38b08/f4b216f0/038049c0/30f956e3.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     多くの初心者管理者にとって、Active Directoryスキーマは、有名な映画の上記の表現に関連付けることができます。 回路のようなものがあるので、どうやらそれが必要であり、それが何であり、実際にそれが何であるか、誰もそれを知りませんし、急いでそれを知ることはありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     用語によると、スキーマには、Active Directoryフォレストで作成および保存される各属性とクラスの定義が含まれます。  Active Directoryドメインサービスが多くのエンタープライズアプリケーションから必要な情報を適切なタイミングで保存および取得するというニュースをだれも見つけることはまずないと思います。 これは、必要に応じて、アプリケーションがエンタープライズインフラストラクチャのさまざまなコンポーネントにアクセスするのではなく、Active Directoryドメインサービスにアクセスし、その情報がすべてのドメインコントローラーに複製されるようにするためです。 各Active Directoryフォレストには、フォレスト内の各ドメインコントローラーに複製できるスキームが1つしかないことに注意してください。 したがって、Active Directoryスキーマで競合を引き起こす可能性のある複数のアプリケーションを組織に展開する場合は、2つの別個のフォレストを展開して維持することをお勧めします。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スキーマ自体はclassSchemaおよびattributeSchemaオブジェクトで構成され、ドメインサービスで必要なオブジェクトを定義するときに要求されます。 クラス自体はスキームにあるいくつかの定義であり、定義は属性のグループを定義します。 各クラスは多くの属性を使用できることに注意してください。 最後に、Active Directoryドメインサービスにある各属性について、スキーマは属性自体の構文としてデータ型を示します。 もちろん、クラスインスタンスに含まれる各属性の値は、現在の属性の構文要件に準拠する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Active Directoryスキーマの詳細な説明はこの記事の範囲を超えているため、上記の定義は十分すぎると思います。  Active Directoryの詳細については、次のいずれかの記事をご覧ください。 ここで、マスター回路の役割を構成するものを見てみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スキーママスターであるドメインコントローラーは、Active Directoryフォレストのスキーマに加えられたすべての変更を担当します。 この役割を担当するドメインコントローラーはフォレスト全体で唯一である必要があり、他のすべてのドメインコントローラーにはフォレストスキーマの読み取り専用レプリカのみが含まれることを覚えておく必要があります。 つまり、Active Directoryスキーマを手動で変更する場合、またはスキーマを変更するアプリケーションをインストールする場合、管理者はこの役割を管理するドメインコントローラーを変更する必要があります。 変更を行うには、管理者はスキーママスターに接続し<b>、Schema Admins</b>セキュリティグループのメンバーで<b>ある</b>必要があります。 スキーマが更新されると、スキーママスタから他のすべてのドメインコントローラに複製されます。 スキームマスターとして機能するドメインコントローラー上ではないスキームを変更しようとすると、通常、アクションは失敗し、スキームを変更した後、スキームマスターの役割を持つドメインコントローラーに送信します。 したがって、無効なスキーマウィザードを使用してActive Directoryスキーマを変更しようとすると、常にエラーが発生するため、この役割は重要です。 同様に、スキーママスタの役割は、フォレスト内でこの目的に割り当てられた任意のドメインコントローラーに配置できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     既定では、スキーママスタの役割は、フォレストにインストールされている最初のドメインコントローラーに割り当てられます。この役割は、1つのドメインコントローラーで、後述するドメイン名前付けウィザードの役割と一緒に配置することをお勧めします。 推奨事項にもかかわらず、 <b>Active Directoryスキーマ</b>スナップインまたは<b>Ntdsutil</b>コマンドラインユーティリティを使用して、いつでもこの役割を任意のドメインコントローラーに移動できます。 この記事では、他のドメインコントローラーへの役割の転送についても学習します。 スキーママスターは、スキーマセクションのルートオブジェクトの<b>fSMORoleOwner</b>属性の値によって識別されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3> ドメイン名前付けウィザードの役割 </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/20947b2e/3d6233c0/0ae57180/7a762189.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に考慮される役割は、ドメイン名前付けウィザードと呼ばれます。 この役割は操作ウィザードであるため、この役割を含むことができるフォレスト内の唯一のドメインコントローラーは、主にフォレスト階層内のドメインとすべてのディレクトリセクションを追加および削除するために使用されます。 ドメイン名前付けウィザードの役割を持つドメインコントローラーは、次の4つの操作を実行するように設計されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>ドメインの追加と削除</b> 。  Active Directoryインストールウィザードまたはコマンドラインユーティリティを使用した子ドメインの追加または削除などの操作中に、インストールウィザードはドメインネーミングウィザードに戻り、後者を追加または削除する権利を要求します。 ドメイン名前付けウィザードは、フォレスト内のドメインがフォレスト全体で一意のNETBIOS名を所有していることを確認する役割も果たします。 当然のことながら、明らかな理由により、ドメイン名前付けウィザードが使用できない場合、フォレスト内のドメインを追加または削除することはできません。 </li><li>  <b>相互参照の追加と削除</b> 。 既にご存知のように、フォレスト内の最初のドメインコントローラーの作成中に、スキーマ、構成、およびドメインディレクトリのセクションがフォレスト内に作成されます。 この時点で、構成セクションのパーティションコンテナー内の各ディレクトリセクション（CN =パーティション、CN =構成、DC = forestRootDomain）に対して、相互参照オブジェクトが作成されます（crossRefクラス）。 相互参照オブジェクトは、フォレスト内の各ディレクトリセクションを格納するサーバーの名前と場所を定義します。 後続の各ドメインまたはアプリケーションディレクトリパーティションを作成すると、パーティションコンテナ内の相互参照オブジェクトの作成が開始されます。 </li><li>  <b>アプリケーションディレクトリパーティションの追加と削除</b> 。 アプリケーションディレクトリセクションは、Windows Server 2003、Windows Server 2008、またはWindows Server 2008 R2ドメインコントローラー上に作成して、動的なLDAPアプリケーションデータストレージを提供できる特別なセクションです。 フォレストがWindows Server 2000レベルで動作する場合、そのようなフォレストでは、すべての非ドメインデータは、フォレスト内のすべてのドメインコントローラーに複製される構成およびスキーマデータによって制限されます。  Windows Server 2003/2008および2008R2フォレストでは、アプリケーションディレクトリパーティションは、フォレスト内の任意のドメインコントローラーで再生できるドメインコントローラーにアプリケーション固有のデータを格納します。 </li><li>  <b>ドメイン名の変更手順を確認します</b> 。 ドメイン名前付けウィザードによって実行される最後のアクションは、ドメイン名変更の指示を確認することです。 ドメインは通常、特別なコマンドラインユーティリティを使用して名前が変更されます。 したがって、ドメインの名前を変更するためにドメインの名前を変更するように設計されたRendom.exeユーティリティを使用する場合、ユーティリティはドメイン名前付けウィザードにアクセスできる必要があります。 上記のオプションに加えて、ドメイン名前付けウィザードは、ドメイン名変更指示を確認する役割も果たします。 指定されたツールが起動されると、ドメイン名前付けウィザードの役割を持つドメインコントローラーで、ドメイン名変更指示を含むXMLスクリプトが、構成ディレクトリセクションのパーティションコンテナーオブジェクト（CN =パーティション、CN =構成、DC = forestRootDomain）のmsDS-UpdateScript属性に書き込まれます。 パーティションコンテナーは、ドメイン名前付けウィザードの役割を含むドメインコントローラーでのみ更新できることを覚えておく価値があります。  Rendom.exeユーティリティは、msDS-UpdateScript属性の値に加えて、名前が変更された各ドメインの新しいDNS名を、このドメインに対応する相互参照オブジェクト（crossRefクラス）のmsDS-DnsRootAlias属性に書き込みます。 繰り返しますが、相互参照オブジェクトはPartitrionsコンテナに格納されるため、このオブジェクトは、ドメイン名前付けウィザードの役割を持つドメインコントローラでのみ更新できます。 変更されたmsDS-UpdateScriptおよびmsDS-DnsRootAlias属性データは、フォレスト内のすべてのドメインコントローラーに複製されます。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     既定では、新しいフォレストの最初のドメインコントローラーはドメイン名前付けウィザードの役割を受け取りますが<b>、Active Directoryドメインと信頼</b>スナップインまたは<b>Ntdsutil.exe</b>コマンドラインユーティリティを使用して<b>、</b>いつでもこの役割を移動できます。 スキーママスターとドメイン名前付けウィザードの役割を同じドメインコントローラーに配置することをお勧めします。 ドメイン名前付けマスターの役割が割り当てられているドメインコントローラーもグローバルカタログサーバーである必要があります。 そうしないと、一部の操作が失敗する場合があります。 回線のマスターは、パーティションコンテナの<b>fSMORoleOwner</b>属性の値によって識別されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     前の操作ウィザードと同様に、操作ウィザードが使用できないときに上記の操作のいずれかを実行しようとすると、アクションは失敗します。 ただし、これらのすべてのアクションは長期間にわたってほぼ1回実行されるため、ドメインネーミングウィザードが使用できない状態にあることがわかります。したがって、フォレスト操作ウィザードの可用性を定期的に確認してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> ドメインレベルウィザードの役割 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     フォレストレベルとは異なり、各Active Directoryドメインには、操作ウィザードに対して次の3つの役割があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> 相対RIDウィザード </li><li>  PDCマスタードメインコントローラーエミュレーター </li><li> インフラストラクチャマスター </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらの各操作マスターを詳細に検討してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  RIDマスター </h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/53d192ec/930eeccc/c5f29c55/0cd87804.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事で説明する最初のドメインレベルの操作ウィザードは、相対識別子（RID）ウィザードです。  RIDウィザードを使用してRIDのプールを管理し、ユーザー、グループ、コンピューターなどのセキュリティプリンシパルのセキュリティ識別子（SID）を生成したり、オブジェクトをあるドメインから別のドメインに移動したりします。 セキュリティプリンシパルのSIDはドメイン全体で一意である必要があるため、各セキュリティプリンシパルには、ドメイン識別子と各セキュリティプリンシパルに一意の相対RIDを含む一意のSIDが割り当てられます。 すべてのSIDには4つの異なる要素があります。 たとえば、Microsoftのドキュメントによると、S1-5-Y1-Y2-Y3-Y4識別子要素は次の表に記載されています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>表1. identifierエレメントの構造</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <table cellpadding="2"><tbody><tr><td>  <strong>SID要素</strong> </td><td>  <strong>説明</strong> </td></tr><tr><td>  S1 </td><td>  SIDのリビジョンを示します。 現在、SIDには1つのリビジョンのみが使用されています </td></tr><tr><td>  5 </td><td> セキュリティプリンシパル発行センターを示します。  5の値は、Windows NT、Windows 2000、Windows 2003、Windows 2008、およびWindows 2008 R2ドメインに対して常に指定されます。 </td></tr><tr><td>  Y1-Y2-Y3 </td><td> ドメインSIDの一部。 ドメインで作成されたセキュリティプリンシパルの場合、この識別子要素は同一です。 </td></tr><tr><td>  Y4 </td><td> ユーザーまたはグループの名前を表すドメインの相対識別子（RID）。 この項目は、オブジェクトの作成中にドメインコントローラーのRIDプールから生成されます。 </td></tr></tbody></table>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ドメインコントローラーはセキュリティプリンシパルを作成できるため、ドメインコントローラーによって生成されるSIDの一意性を保証するメカニズムが必要です。したがって、RIDウィザードは、2つのドメインコントローラーが同じRIDを割り当てないようにします。  RIDウィザードは、RIDプールと呼ばれる相対RIDのブロックをドメイン内の各コントローラーに割り当てます。 つまり、RID操作ウィザードは、ドメイン内のドメインコントローラーを使用するための相対識別子のプールを維持し、各ドメインコントローラーに相対識別子のグループを提供します。 新しいドメインコントローラーがドメインに追加されると、RIDマスターは500の相対RID要求のプールをこのドメインコントローラーに割り当てます。 ドメインコントローラで新しいセキュリティプリンシパルが作成されるたびに、新しいオブジェクトに識別子を割り当てるために、ドメインコントローラはそのプールから相対識別子を割り当てます。 ドメインコントローラ上のこのRIDプール内の相対RIDの数が100を下回る、つまりゼロラインに近づくと、RIDマスターは別のRIDブロックを照会します。 要求の完了後、RIDウィザードは500の相対RIDの別のドメインプールをドメインコントローラーに割り当てます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     具体的には、RIDウィザードはプール番号を追跡しませんが、最後に割り当てられた範囲の最高値を提供します。 新しい要求を受信すると、新しいプールの値が1つ増加し、新しい値が499増加します。 その後、2つの値が要求されたドメインコントローラーに送信され、新しい相対RIDが使用されます。 ドメインコントローラーのローカルRIDプールが空であるか、RIDマスターがしばらく使用できない場合、一部のドメインコントローラーでアカウントを作成するプロセスが中断され、イベントコード16645がこのドメインコントローラーのイベントログに記録されます。ドメインコントローラーとドメインコントローラーに割り当てられたアカウント識別子は、RIDマスターから新しい識別子プールを受信できませんでした。 同様に、ドメインに新しいオブジェクトを追加すると、コード16650でイベントが生成され、ディレクトリサービスが相対識別子を割り当てられなかったためにオブジェクトを作成できなかったことを示します。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RIDの新しいブロックの要求メカニズムは、プール内の使用可能なすべてのRIDが使い果たされる前に要求が実行されるため、このような中断を防ぐように設計されています。アカウント作成プロセスを再度有効にするには、RIDマスターの役割を管理するドメインコントローラーをネットワークに接続するか、この役割を別のドメインコントローラーに移動する必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、ドメイン間でActive Directoryオブジェクトを移行するプロセスでは、RIDウィザードが必要です。つまり、RIDウィザードがドメインで利用可能な場合にのみオブジェクトを移行できます。アクティブな現在の操作ウィザードが存在するため、異なるActive Directoryドメインで同一の識別子を持つ2つのオブジェクトを作成できません。あるドメインから別のドメインにオブジェクトを移行する場合、MicrosoftはAcrive Directory Migration Toolの使用を推奨します。既定では、フォレストに最初にインストールされたドメインコントローラーがRIDウィザードの役割を受け取ります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryユーザーとコンピューター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><b><font style="vertical-align: inherit;">イン</font></b><font style="vertical-align: inherit;">または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティを使用して、</font><font style="vertical-align: inherit;">いつでもこの役割を移動でき</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。 RIDマスターは、属性値によって識別されます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DomainセクションのrIDManagerクラスオブジェクトの</font><b><font style="vertical-align: inherit;">fSMORoleOwner</font></b><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PDCエミュレーター </font></font></h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/ff968547/078382ee/3e58888a/f4f81f7b.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定された</font><b><font style="vertical-align: inherit;">PDCエミュレーター</font></b><font style="vertical-align: inherit;">操作ウィザードを備えたドメインコントローラー</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（プライマリドメインコントローラーはプライマリドメインコントローラーです）プライマリドメインコントローラーとして機能し、Windows 2000以下のオペレーティングシステムとの下位互換性を提供します。メンバーサーバーおよびWindows NT 4.0クライアントコンピューターの時点では、プライマリPDCドメインコントローラーのみがディレクトリを変更できます。 Windows NT 4.0をサポートする以前のツール、クライアント、およびユーティリティは、すべてのActive Directoryドメインコントローラーがディレクトリに書き込みできるように設計されていないため、このようなアプリケーションにはPDC接続が必要です。 PDCエミュレーターの役割を持つドメインコントローラーは、特にさまざまな低レベルアプリケーションが書き込みドメインコントローラーをローカライズできるように、自身をマスターPDCドメインコントローラーとして登録します。にもかかわらず私たちの時代には、Windows 2000より下のオペレーティングシステムを搭載したサーバーやクライアントコンピューターを見つけることはほとんど不可能でしたが、PDCエミュレーターは依然として操作ウィザードの最も重要な役割のままです。 Windows NT 4.0で実行されるアプリケーションとの下位互換性に加えて、PDCエミュレーターは次の重要な機能を実行します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b>     </b> .      ,  ,  ,     PDC-   .   ,       .   ,          ,  ,    ,      .      ,         PDC-,            .  ,             PDC-    ; </li><li> <b>     </b> .   ,              .   ,             ,  ,      ,        .    , PDC-   :     ,         ,   PDC     GPO     PDC-; </li><li> <b>    </b> .       Active Directory.    <b>«»</b>         .               .      ,             ,     .           ,        . ,     PDC     ,      , ,        ; </li><li> <b>    </b> .    Active Directory, Kerberos, DFS-R     FRS   ,       . PDC-          .       PDC-,    –    .        ,     Win32Time. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既定では、フォレストに最初にインストールされたドメインコントローラーがPDCエミュレーターウィザードの役割を受け取ります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryユーザーとコンピューター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><b><font style="vertical-align: inherit;">イン</font></b><font style="vertical-align: inherit;">または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティを使用して、</font><font style="vertical-align: inherit;">いつでもこの役割を移動でき</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">PDCエミュレーターウィザードは</font><font style="vertical-align: inherit;">、ドメインパーティションのルートにあるrIDManagerクラスオブジェクトの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSMORoleOwner</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性の値によって識別されます</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> インフラストラクチャマスター </font></font></h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/bdcf1abf/2c98bc79/ab190adf/60a9265a.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">複数のドメインに基づく組織では、一部のドメインのオブジェクトは他のドメインのオブジェクトを参照することがよくあります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャマスター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメインのグループメンバーを追跡するデバイスに似ています。インフラストラクチャウィザードは、ドメイン間のグループユーザーリンクを更新し、オブジェクト名の変更がドメインにローカライズされたグループメンバーシップ情報に反映されるようにします。インフラストラクチャウィザードは、そのようなリンクの更新されたリストを維持し、この情報をドメイン内のすべてのコントローラーに複製します。別のドメインのメンバーをターゲットドメインのグループに追加すると、新しいメンバーの識別名がメンバー属性に追加され、そのようなグループのメンバーのドメインコントローラーが使用できない場合、実際にそのようなグループのメンバーを表すファントムオブジェクトがドメインサービスに作成されることに注意する必要があります。このようなオブジェクトには、メンバーSID、識別名（DN）、およびオブジェクトのGUIDのみが含まれる場合があります。インフラストラクチャウィザードが利用できない場合、ドメイン間のグループユーザーリンクは更新されません。インフラストラクチャウィザードは定期的にドメインアカウントをスキャンし、グループメンバーシップを確認します。ユーザーアカウントが新しいドメインに移動されると、インフラストラクチャウィザードはユーザーアカウントの新しいドメインを識別し、それに応じてグループを更新します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャウィザードの役割は、グローバルカタログサーバーであるドメインコントローラーによって実行されるべきではないことに注意してください。そうでない場合、インフラストラクチャウィザードはオブジェクトに関する情報を更新しません。これは、保存されないオブジェクトへの参照が含まれていないためです。これは、グローバルカタログサーバーがフォレスト内のすべてのオブジェクトの部分的なレプリカを格納するためです。その結果、このドメインのクロスドメインオブジェクトリンクは更新されず、対応する警告がこのドメインコントローラーのイベントログに表示されます。既定では、フォレストに最初にインストールされたドメインコントローラーがインフラストラクチャウィザードの役割を受け取ります。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryユーザーとコンピューター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><b><font style="vertical-align: inherit;">イン</font></b><font style="vertical-align: inherit;">またはユーティリティツールを使用して、</font><font style="vertical-align: inherit;">いつでもこの役割を移動でき</font><font style="vertical-align: inherit;">ます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">インフラストラクチャウィザードは</font><font style="vertical-align: inherit;">、ドメインセクションのインフラストラクチャコンテナの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fSMORoleOwner</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性の値によって識別されます</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> どのドメインコントローラーにFSMOの役割があるかを確認する方法 </font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原則として、私たちはすでに理論的な部分を扱ってきましたが、今では実践するのがいいでしょう。</font><font style="vertical-align: inherit;">組織には1つのドメインしか持てないという事実にもかかわらず、多数のドメインコントローラーをインストールでき、管理者がどのドメインコントローラーに運用マスターの役割が割り当てられているかを常に把握できるとは限りません。</font><font style="vertical-align: inherit;">たとえば、ドメインを再構築する場合、どのドメインコントローラにこの役割またはその役割が割り当てられているかを調べる必要があります。</font><font style="vertical-align: inherit;">各役割は、グラフィカルインターフェイスまたはコマンドラインツールを使用して定義できます。</font><font style="vertical-align: inherit;">両方の方法を検討してください。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GUIツールを使用した操作ウィザードロールの所有者の定義 </font></font></h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、Active Directoryドメインサービスの操作のウィザードを識別するために、さまざまな管理スナップインが使用されることを覚えておく必要があります。</font><font style="vertical-align: inherit;">識別するのが最も難しいのは、回路のマスターです。</font><font style="vertical-align: inherit;">彼から始めましょう。</font><font style="vertical-align: inherit;">スキーマウィザードの役割を持つドメインコントローラーを確認するには、次の手順を実行します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 管理者権限を持つアカウントでドメインコントローラーにログオンします。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font><font style="vertical-align: inherit;">ファイル名</font><font style="vertical-align: inherit;">を指定し</font><font style="vertical-align: inherit;">て</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ダイアログボックス</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">開き、</font><b><i><font style="vertical-align: inherit;">regsvr32.exe schmmgmtコマンド</font></i></b><font style="vertical-align: inherit;">を使用して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryスキーマ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイナミックスナップインライブラリ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">登録し</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、MMC管理コンソールウィンドウを開き、[新しいスナップインの追加]ダイアログを呼び出します。</font><font style="vertical-align: inherit;">スナップインのリスト</font><font style="vertical-align: inherit;">で、次の図に示すように</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Schemaを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択します</font><font style="vertical-align: inherit;">。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/90538ab9/e1c3c7f8/a71954b8/8b9e46bd.jpg" width="550" height="381">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Active Directoryスキーマスナップインの追加</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開いている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryスキーマ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><font style="vertical-align: inherit;">インで、</font><font style="vertical-align: inherit;">スナップ</font><font style="vertical-align: inherit;">インのルートノードを右クリックし、</font><font style="vertical-align: inherit;">以下に示すように</font><font style="vertical-align: inherit;">、コンテキストメニューから[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作マスタ]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを選択し</font><font style="vertical-align: inherit;">ます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/9e936c6a/c49c14e2/31095c63/043d7c9f.jpg" width="550" height="412">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.スキーマ操作ウィザード</font></font></b> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">残りの操作マスターを識別するには、実行するアクションを大幅に減らす必要があります。</font><font style="vertical-align: inherit;">どのドメインコントローラーがドメイン名前付け操作ウィザードの権限を持っているかを見つけるには、次のものが必要です。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryドメインと信頼</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップインを開き</font><font style="vertical-align: inherit;">ます。</font></font></li><li>               <b>« »</b> ,     : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/ff27fcc2/4ff3f0ca/d1fd491c/8c446f73.jpg" width="550" height="377">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b>3.    </b> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、残りの3つのドメインレベルの役割を識別するには、最小限の作業を行う必要があります。</font><font style="vertical-align: inherit;">つまり、操作ウィザードの残りの役割はすべて1つのダイアログボックスで確認できます。</font><font style="vertical-align: inherit;">これを行うには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Active Directoryユーザーとコンピューター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><b><font style="vertical-align: inherit;">インを</font></b><font style="vertical-align: inherit;">開き、ドメインを右クリックして、コンテキストメニューから[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作マスター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]コマンドを選択します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">表示されるダイアログボックスの対応するタブで、現在の役割が割り当てられているドメインコントローラーの名前を表示できます。</font><font style="vertical-align: inherit;">次の図に、</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作ホスト</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ダイアログボックス</font><font style="vertical-align: inherit;">を示します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/0e29c117/14202982/fcf619ca/a6ddf676.jpg" width="400" height="451">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.ドメインレベルの運用ホスト</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> コマンドラインを使用したオペレーションウィザードロールの所有者の定義 </font></font></h3>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windowsオペレーティングシステムで提供されるほとんどの機能と同様に、特別なコマンドラインユーティリティを使用して、操作ウィザードの役割の所有者をすべて決定できます。</font><font style="vertical-align: inherit;">Active Directoryドメインサービスは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドラインユーティリティを使用して、特定の変更を監視します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このユーティリティを使用して操作ウィザードの役割を備えたすべてのドメインコントローラーを表示するには、次の手順を実行します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> コマンドプロンプトウィンドウを開きます。 </font></font></li><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを実行します</font><font style="vertical-align: inherit;">。</font></font></li><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを入力して、NTDSロール管理所有者トークンに移動し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font></li><li>          Active Dirctory.     <b>connections</b> ; </li><li>   <b>«server connections»</b>  <b>connect to server</b> ,            <b>«Enter»</b> ; </li><li>    <b>fsmo management</b> ,   <b>quit</b> ; </li><li>   <b>«Select operation target»</b> ,    , , ,    ; </li><li>      ,       <b>List roles for connected server</b> ,     : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/9594c4ca/f6f2cfcb/e0ab0168/76f5a520.jpg" width="550" height="27">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.コマンドラインツールを使用した操作マスターの定義</font></font></b> </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><b><i><font style="vertical-align: inherit;">/ test：Knowsofroleholders / v</font></i></b><font style="vertical-align: inherit;">コマンドで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dcdiag</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用して、FSMOの役割を表示することもできます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このコマンドの出力の一部を以下に見ることができます。</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/0790381c/8b0adec1/615e2d64/265a48f7.jpg" width="550" height="499">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Dcdiagユーティリティを使用したFSMOロールの定義</font></font></b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 操作マスターの役割の取得と転送 </font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directoryには、操作ウィザードの役割の転送とキャプチャ（失効とも呼ばれる）などの概念があります。</font><font style="vertical-align: inherit;">まず第一に、それが何であり、これらの概念の違いは何かを知る必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前述のように、最初は、操作マスターの5つの役割すべてがフォレスト内の最初のドメインコントローラーにインストールされます。通常、生産性とフォールトトレランスを向上させるために、同じドメイン内の組織内にいくつかの追加のドメインコントローラーを展開するのが一般的です。したがって、将来の競合を回避するために、操作マスターの役割をすぐに別のドメインコントローラーに配布することをお勧めします。また、操作ウィザードとして機能するドメインコントローラーを無効にするか、使用停止にする必要がある場合は、すべてのFSMOの役割を他のドメインコントローラーに転送する必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、操作マスターの特定の役割を付与されたドメインコントローラーに障害が発生し、時間内にこのDCから役割を転送することができなかった場合、役割のキャプチャが必要です。操作のマスターの役割を持つドメインコントローラーに障害が発生した場合に直面するリスクについては、この記事で少し前に説明しました。この場合、FSMOの役割を好みの役割の転送方法に転送する方法はありません。したがって、ロールを取り消すことで操作トークンをキャプチャするだけで済みます。ただし、役割を奪取することが最も根本的な方法であり、操作のマスターの役割の所有者が失敗した場合にのみ実行する必要があることを覚えておく価値があります。操作ウィザードの役割をキャプチャするプロセスが実行されると、オブジェクトのfsmoRoleOwner属性が既存のコンピューターで変更され、これは、データのルートディレクトリであり、いかなる種類のデータ同期も実行しません。変更が複製されると、他のドメインコントローラーはFSMO役割の新しい所有者について自然に学習します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">運用マスターの役割を転送および取得するプロセスを検討してください。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FSMOの役割を転送するには、次の手順を実行します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事の前のセクションで説明した操作ウィザードの役割を特定できるスナップインを開きます。</font><font style="vertical-align: inherit;">たとえば、PDCエミュレーターの役割を転送するには</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Active Directoryユーザーとコンピューター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップ</font><b><font style="vertical-align: inherit;">インを</font></b><font style="vertical-align: inherit;">開き</font><font style="vertical-align: inherit;">ます。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在のスナップインを使用して、操作ウィザードの役割が転送されるドメインコントローラーに接続します。</font><font style="vertical-align: inherit;">これ</font><font style="vertical-align: inherit;">は、ルートスナップインノードのコンテキストメニューから呼び出される</font><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメインコントローラーの変更</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ダイアログボックスを使用して実行でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ドメインコントローラーの変更ダイアログボックスは次のとおりです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/03325e59/bafef66e/e442d474/62f40c72.jpg" width="550" height="370">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>図</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.ドメインコントローラーを変更して、操作ウィザードの役割を転送する</font></font></b> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作マスター</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ダイアログボックスを開き、</font><font style="vertical-align: inherit;">目的のタブに移動して、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">編集</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]ボタンをクリックします</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">操作ウィザードの役割は、別のドメインコントローラーに移されます。</font></font></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作マスターの役割をキャプチャするプロセスは、転送よりも少し複雑です</font><font style="vertical-align: inherit;">。これには、前のセクションで説明した</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティを使用する必要があるため</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">障害が発生したドメインコントローラーから役割を強制するには、次の手順を実行します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドプロンプトを開き、その中で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ntdsutil</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティに</font><b><font style="vertical-align: inherit;">移動し</font></b><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font></li><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">roles</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドを使用してNTDSロール管理に移動し</font><font style="vertical-align: inherit;">ます。</font></font></li><li>      ,         .     <b>connections</b> ; </li><li>   <b>«server connections»</b>  <b>connect to server</b>     ; </li><li>    <b>fsmo management</b> ,   <b>quit</b> ; </li><li>    <b>fsmo management</b>   <b>seize</b>    <b>Enter</b> ; </li><li>  , ,     FSMO-,       . </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意深い読者は次の質問をするかもしれません：死んだドメインコントローラーが復活した場合、どうすればよいですか？キャプチャされたロールの所有権をこのドメインコントローラーに戻すにはどうすればよいですか？</font><font style="vertical-align: inherit;">ここではすべてが比較的単純です。</font><font style="vertical-align: inherit;">まず、PDCエミュレーターまたはインフラストラクチャの役割が取り消された場合、操作ウィザードの役割を復元されたドメインコントローラーに簡単に転送できることを知っておく必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、スキームのマスター、ドメインの命名、または相対RIDの役割がキャプチャされた場合は、次の手順を実行する必要があります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そのようなドメインコントローラーをネットワークから物理的に切断します。 </font></font></li><li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dcpromo / forceremovalコマンド</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、ドメインコントローラーをメンバーサーバーに降格します</font><font style="vertical-align: inherit;">。</font></font></li><li>      .        <b>Ntdsutil</b>   <b>Metadata Cleanup</b> ; </li><li>         ,   ,       ; </li><li>         . </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>       </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/0eb16e34/22f3b348/96866f3a/6bda9173.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このセクションでは、操作ウィザードのすべての役割をドメインコントローラーに配置するための推奨事項について少し説明します。そのため、このような推奨事項はあまり多くないため、できるだけ早くこのセクションを簡素化するようにします。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、1つのフォレスト、1つのドメイン、および1つのドメインコントローラーがある場合、操作ウィザードの5つの役割すべてがこのドメインコントローラーに配置されますが、負荷を分散するために、役割を他のドメインコントローラーに転送することをお勧めします。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FSMOの役割を配置するための主な推奨事項は次のとおりです。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> <b>   RID  PDC-    </b> .          .       ,       ,            Active Directory     .  ,       ,     ,          ; </li><li> <b>          </b> .  ,             ,     .    ,      ,      ,   ,         ,      .               ,          .    ,      ,   ,   ,   ,   ; </li><li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インフラストラクチャウィザードの役割は、グローバルカタログサーバーとして機能しないドメインコントローラーでホストする必要があります</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">通常、インフラストラクチャウィザードは、グローバルカタログサーバーとして機能しないが、フォレスト内のグローバルカタログの1つへの直接接続オブジェクトを持つドメインコントローラーに展開する必要があります。</font><font style="vertical-align: inherit;">グローバルカタログサーバーはフォレスト内のすべてのオブジェクトの部分的なレプリカを格納するため、グローバルカタログサーバーでホストされるインフラストラクチャウィザードは、格納しないオブジェクトへの参照を含まないため、更新を実行しません。</font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> これらの3つのルールに従って、最適な方法で運用ウィザードをフォレストに配置できます。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 結論の代わりに </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事は終わりに近づいています。</font><font style="vertical-align: inherit;">この記事では、オペレーションマスターの役割と、それらが必要な理由について学びました。</font><font style="vertical-align: inherit;">Active Directoryドメインサービスに操作ウィザードがなく、すべてのドメインコントローラーがピアである場合に何が起こるかを説明するいくつかの例を調べました。</font><font style="vertical-align: inherit;">5つのFSMOの役割すべてについて詳細に説明し、ドメインコントローラー上の役割を識別する方法について説明しました。</font><font style="vertical-align: inherit;">また、運用マスターの役割の転送と取得、およびこれらのアクションの実行方法についても学びました。</font><font style="vertical-align: inherit;">これに加えて、組織内のドメインコントローラーに操作ウィザードを配置するためのオプションを選択する際に従う必要がある3つのルールを理解しました。</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J133364/index.html">MRMを実装しない場合、どれくらいの費用がかかりますか？</a></li>
<li><a href="../J133366/index.html">ホリネズミをこすり落としてください！</a></li>
<li><a href="../J133367/index.html">Acer Allegro-私の意見</a></li>
<li><a href="../J133368/index.html">Appiny-オタクの割引！</a></li>
<li><a href="../J13337/index.html">WordPress信頼メーター</a></li>
<li><a href="../J133371/index.html">価格と品質：予算のラップトップを選択する</a></li>
<li><a href="../J133377/index.html">アメリカのブラックフライデー</a></li>
<li><a href="../J133378/index.html">Cloud4Yがクラウド向けの新しい光通信チャネルを開始</a></li>
<li><a href="../J133379/index.html">.NETでZLibベースのアーカイバを作成する</a></li>
<li><a href="../J133380/index.html">4番目のCPU。 これは何ですか （パート2）</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>