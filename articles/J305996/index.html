<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎺 🤜🏼 🧗🏿 ASP.NET Core DI抽象化の何が問題になっていますか？ ⛲️ 🧑🏼 🚏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="数か月前、ASP.NET CoreがまだRC1にあったときに、テストプロジェクトをMVC 5からASP.NET Coreに移行する最初の厄介な試みをしました。 当時、プロジェクトではすでにSimple InjectorのIOCライブラリを使用していたため、rc1でサポートされていたため、このライブラ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>ASP.NET Core DI抽象化の何が問題になっていますか？</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/305996/">  <i>数か月前、ASP.NET CoreがまだRC1にあったときに、テストプロジェクトをMVC 5からASP.NET Coreに移行する最初の厄介な試みをしました。</i>  <i>当時、プロジェクトではすでにSimple InjectorのIOCライブラリを使用していたため、rc1でサポートされていたため、このライブラリを引き続き使用したいと考えました。</i>  <i>このライブラリの新しいバージョンのリリースをフォローしましたが、比較的最近、テーマ別ブログSimple Injectorに投稿されたかなり興味深い記事に出会いました。</i>  <i>この記事は適切なライブラリに依存していますが、その主な価値は、より一般的な問題-ASP.NET Coreの新しいDI抽象化を提起することです。</i> <i>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </i>  <i>Simple InjectorライブラリのIOC <a href="https://simpleinjector.org/blog/2016/06/whats-wrong-with-the-asp-net-core-di-abstraction/">記事</a></i> <i>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </i>  <i>投稿者<a href="https://github.com/dotnetjunkie">Steve</a></i> <i>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </i>  <i>翻訳の誤りや不正確さを指摘していただければ幸いです。</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     過去数年間、Microsoftはプラットフォームの新しいバージョンを開発してきました。  NET：.NET Core  .NET Coreは、既存の.NETプラットフォームの完全な再設計であり、真のクロスプラットフォーム互換性とクラウドテクノロジーとの互換性を目指しています。  .NET Coreの開発を厳密に追跡し、RC1以降、プラットフォーム互換バージョンのSimple Injectorをリリースしました。  Simple Injector v3.2のリリースでは、.NET Coreを公式にサポートしています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     お気づきかもしれませんが、Microsoftはフレームワークのコアコンポーネントの1つとして独自のDIライブラリを追加しました。 誰かが「ついに！」と叫ぶかもしれません。 このようなコンポーネントが存在しないため、.NETの多くのオープンソースDIライブラリが発生しました。 そして、Simple Injectorは明らかにそれらの1つです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     誤解しないでください。Microsoftが.NETの主なプラクティスとしてDIを推進していることに感謝しています。これにより、DIを実践するさらに多くの開発者が登場し、業界にプラスの影響を与える可能性があります。 ただし、問題は、Microsoftが組み込みのDIコンテナの上に定義した抽象化から始まります。 以前の<i>Resolve</i>抽象化（ <a href="https://msdn.microsoft.com/en-us/library/system.web.mvc.idependencyresolver(v%3Dvs.118).aspx">IDependencyResolver</a>および<a href="https://msdn.microsoft.com/en-us/library/system.iserviceprovider(v%3Dvs.110).aspx">IServiceProvider</a> ）と比較して、新しい抽象化は<a href="https://docs.asp.net/projects/api/en/latest/autoapi/Microsoft/Extensions/DependencyInjection/IServiceCollection/">IServiceCollectionの</a>上に<i>Register API</i>を追加し<i>ます</i> 。 このMicrosoftの抽象化の本質は、他の（より機能が豊富な）DIライブラリがプラットフォームに接続でき、アプリケーション、サードパーティツール、およびフレームワークの開発者が標準化された抽象化を使用して依存関係を登録することです。 これにより、アプリケーション開発者は、選択したDIライブラリを統合するための標準を取得できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一見すると、そのような抽象化を持つことは良い考えのように思えるかもしれません。 一般的に言えば、ソフトウェア業界には（追加の）抽象化レベルを追加しても解決できない問題はほとんどありません。 この場合、Microsoftの推論は誤りです。  DIの専門家は、最初からこの問題について警告していましたが、役に立ちませんでした。  <i>マーク・シーマン</i>は、 <a href="http://blog.ploeh.dk/2014/05/19/conforming-container/">ここ</a>でこのアプローチの問題をかなり正確に説明しましたが、私の意見では、次の重要な点を強調することができます： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li> このアプローチは、最小公約数に向かって引きます。 </li><li> このアプローチはイノベーションを抑制します </li><li> このアプローチはバージョニング地獄を追加します </li><li>  DIコンテナを使用しないと作業が難しくなります </li><li> アダプターの開発がオープンソースコミュニティのメンバーによって処理される場合、これらのアダプターは異なるレベルの品質を持ち、 <i>Conforming Containerの</i>最新バージョンと互換性がない可能性があります（約。 <a href="http://blog.ploeh.dk/2014/05/19/conforming-container/">ここで</a>説明するテンプレートを参照） </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これらは、.NET Coreの新しいDI抽象化で今日直面する真の課題です。  DIコンテナは、 <i>登録API</i>に関して非常にユニークで互換性のない機能を備えていることがよくあり<i>ます</i> 。 たとえば、Simple Injectorは、多数の構成エラーを検出するために非常に慎重に設計されています。 最も顕著な例の1つ（さらに多くの例があります）は<a href="https://simpleinjector.org/diagnostics">、彼の診断能力</a>です。 これは、DI抽象化のユーザーが持つ期待と基本的に互換性のない機能の1つです。 しかし、ユーザーは新しい抽象化に何を期待しますか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      DI抽象化ユーザーは、3つのグループに分類できます。フレームワークの開発者、外部ライブラリ、およびアプリケーション自体。 特にフレームワークと外部ライブラリの開発者は、一般的な抽象化を通じて依存関係の登録を追加しようと考えています。 これら2つの開発者グループでは、使用可能なすべてのアダプターでコードを検証することはほぼ不可能であるため、組み込みコンテナーを使用してコードをテストします。 そして、これらの開発者はビルトインコンテナを使用しますが、どのアダプタを使用しても、ビルトインコンテナから標準的な動作を暗黙的に期待します（おそらくそうすべきです）。 つまり、このインラインコンテナは、コントラクトと抽象化の両方の動作を定義します。 作成される各アダプターは、組み込みコンテナーの正確なスーパーセットでなければなりません。 標準からの逸脱は許可されません。これにより、組み込みコンテナのデフォルトの動作に依存する外部ライブラリの操作が中断されるためです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simple Injectorの診断と検証は、開発の生産性を大幅に向上させる多くの機能の1つです。 他のDIライブラリを使用した場合、開発プロセスのずっと後に発見される可能性のある問題を見つけることができます。 ただし、診断とアプリケーション、およびサードパーティコンポーネントを実行すると問題が発生します。サードパーティコンポーネントがSimple Injector診断で自動的に「ルールに従って」動作することはほとんどありません。 標準のコンテナを使用した特別な場合に登録を（うまく行えば）テストしたとしても、Simple Injectorが疑わしいと見なすような方法で依存関係を登録する可能性があります。  Simple Injectorの仮想アダプターがサードパーティの依存関係とアプリケーションの依存関係の登録を区別することは不可能です。 診断を無効にすると、最も重要な安全メカニズムの1つが完全に削除されますが、診断を保存すると、サードパーティコンポーネントからの誤検出が発生し、これらの誤検出はアプリケーション開発者によって抑制される必要があります。 サードパーティのコンポーネントの登録はほとんどアプリケーション開発者から隠されているため、これらすべての問題に取り組むことは難しく、イライラさせられ、時には不可能になることさえあります。 それは議論することができます-まあ、シンプルインジェクターはサードパーティのツールで問題を見つけます。 しかし、サードパーティライブラリの開発者に連絡して「問題」を説明しようとすると、「互換性のない」アダプタを開発したことは「明らか」なので、彼らはおそらく私たちに矢を向けます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simple Injectorの診断機能は、.NET Core DI抽象化用のアダプターを作成するときに遭遇した多くの非互換性の1つです。 その他の非互換性： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Simple Injector <a href="https://simpleinjector.org/separate-collections">がコレクション登録</a>を1対1の表示から明示的に<a href="https://simpleinjector.org/separate-collections">分離する</a>方法 </li><li>  Simple Injectorがオープンジェネリック登録を処理する方法。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simple Injectorと完全に互換性のあるアダプターを作成するには、フレームワークの多くの有名な機能を削除する必要があります。これにより、ライブラリーの既存の動作が変更され、開発の指針となった原則に違反するものに変わります。 魅力のないソリューション。 互換性を損なう変更につながるだけでなく、Simple Injectorと開発者がそれを気に入っていた機能と動作も消えます。 この意味で、 <i>Markが</i>説明したように、アダプターを持つことは<i>「息苦しいイノベーション」</i>です。  Simple Injectorでは多くの革新を行っており、アダプターによりSimple Injectorはユーザーにとって実質的に役に立たなくなります。 また、アダプターにより、さらなる改善や革新を行うことができなくなります。  Simple Injectorの哲学を過激だと考える人もいるかもしれませんが、私たちは違った考え方をしています。 ユーザーに最も適していると考えられる方法で設計しました。 また、 <a href="https://www.nuget.org/packages/SimpleInjector/">NuGetパッケージのダウンロード数</a>は、多くの開発者が同意していることを示しています。 特定のアダプターに準拠していると、ユーザーのニーズをさらに満たすことができなくなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Simple Injectorのビジョンは他のほとんどのコンテナよりも標準から逸脱する可能性がありますが、将来のDIライブラリの一般的な抽象化の定義<i>そのものは、</i>将来のライブラリの<i>「イノベーションを抑制する」</i>という、より急進的または革新的な視点です。  Simple Injectorが提供するのと同じチェックを導入する他のコンテナの1つを想像してください。 このような機能は、DI抽象化の契約に違反しない限り導入できません。 そのようなアダプターを持っているという単なる事実は、私たちの業界の進歩を妨げる可能性があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この説明で、Microsoft DI抽象化は「最低公約数」ではないことも明らかにしたいと思います。「最低公分母」はすべてのDIライブラリとの互換性を意味するからです。  <a href="https://github.com/simpleinjector/SimpleInjector/issues/41">ここ</a>で述べ<a href="https://github.com/simpleinjector/SimpleInjector/issues/41">た</a>ように、既存のDIライブラリはどれもこの抽象化と完全に互換性がない可能性があります。 部分的に、これは、組み込みコンテナーが抽象化コントラクトを定義しているにもかかわらず、この抽象化のテストを含むプロジェクトには、すべてのシナリオで正確な動作を完全に決定するかなりの数のテストケースがないという事実に要約されます。 これまで、すべてのアダプター実装は、アダプター実装が組み込みコンテナーの動作とほぼ同期していることを推測し、最善を期待する試みでした。 たとえば、Autofac開発者は、かなり深刻な互換性の問題があることに<a href="http://www.paraesthesia.com/archive/2016/06/29/netcore-rtm-where-is-autofac/">気づき</a> 、最終的に<a href="https://github.com/aspnet/DependencyInjection/pull/416">は</a> <a href="https://github.com/aspnet/DependencyInjection/pull/416">私たち</a> <a href="https://github.com/aspnet/DependencyInjection/pull/416">と同じ結論に達し</a>まし<a href="https://github.com/aspnet/DependencyInjection/pull/416">た</a> 。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Microsoft DIライブラリに機能が豊富で、Simple Injectorの検証や診断などの機能が含まれていれば、それほど悪くはありません。 次に、すべての機能を備えた同じDIライブラリを使用できます。 残念ながら、実装はそれほど機能が豊富というわけではなく、Microsoft自身<a href="https://blogs.msdn.microsoft.com/webdev/2014/06/17/dependency-injection-in-asp-net-vnext/">は</a>実装を次の<a href="https://blogs.msdn.microsoft.com/webdev/2014/06/17/dependency-injection-in-asp-net-vnext/">ように説明</a>しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>最小限のDIコンテナ、追加の注入機能が必要ない場合に便利</i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さらに悪いことに、インラインコンテナは抽象化コントラクトを定義するため、インラインコンテナに新しい機能を追加すると、既存のすべてのアダプターが破損します。 抽象化を使用するサードパーティの開発者は、組み込みライブラリ（.NET CoreのDI）を使用して（彼のライブラリ）のみをテストします。 また、サードパーティの開発者のライブラリが、アダプタでまだサポートされていない組み込みコンテナに追加された機能に依存し始めると、何かが壊れてアプリケーション開発者が苦しむことになります。 これは、 <i>Mark Seemann</i>が彼のブログで議論しているバージョン管理の地獄の一側面です。 少なくともMicrosoftが変更を加えるたびにメジャーバージョン番号を増やすことを願っています。 現在の実装が<i>「ミニマル」</i>であるだけでなく、完全に使用可能な多機能DIコンテナーに発展することは決してありません。なぜなら、それらは追い詰められているからです。将来のすべての変更は互換性を壊す変更であり、誰もが悪くなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最善の解決策は、抽象化とそのアダプターの使用を完全に避けることです。  <i>Mark Seemannが</i> <a href="http://blog.ploeh.dk/2014/05/19/di-friendly-library/">ここ</a>と<a href="http://blog.ploeh.dk/2014/05/19/di-friendly-framework/">ここ</a>で非常に正確に説明し<a href="http://blog.ploeh.dk/2014/05/19/di-friendly-framework/">たように</a> 、ライブラリとフレームワークはDIコンテナをまったく使用する必要がないかもしれません。 残念ながら、抽象化を定義するという事実が、抽象化の使用を避けることをはるかに難しくしています。 抽象化を定義し、その使用を積極的に推進することにより、Microsoftはライブラリおよびフレームワークの数千のサードパーティ開発者を導き、ライブラリおよびフレームワークの適切な抽象化の定義について考えることをやめさせます（ <i>Mark Seemannの</i>記事はこれを明確に説明しています） マイクロソフトは、世界全体が1つの共通の抽象化を必要としているとMicrosoftに信じさせるため、開発者はもはやそれについて考えません。  MVCの新しいファクトリインターフェースが非常に遅い時期に登場することはすでに見ました（たとえば、RC2より前の<a href="https://github.com/aspnet/Mvc/commit/354400f12bf1bb82d364eddb5710bc370384bff4">IViewComponentActivator</a>抽象化として）。 そして、MVCチームがこのようなエラーを開発サイクルのこのような後期段階にもたらすことがわかった場合、新しい.NETプラットフォームで開発を開始するすべての開発者に何を期待できますか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> おわりに </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      DI抽象化を定義することは、今後数年間私たちを悩ませるMicrosoftの痛ましい間違いです。 それはすでに革新を抑制し、バージョン管理の地獄を生み出し、多くの開発者を混乱させます。 抽象化は多くのDIライブラリと互換性がなく、専門家の推奨に反して、Microsoftは世界を互換性のないコンテナと部分的に互換性のあるコンテナに分割することでそれを維持することを決定しました。これにより、DI抽象化を実装するアダプタとこの抽象化を使用するサードパーティライブラリに関する問題の無限の報告につながります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     アプリケーション開発者としての私たちの意見では、アダプターの使用は控えるべきです。 <a href="https://simpleinjector.org/blog/2016/07/working-around-the-asp-net-core-di-abstraction/">次の記事</a>では、これにアプローチする方法と、互換性のないコンテナーがなくても、これが信頼できる方法である理由について詳しく説明します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     連絡を取り合いましょう。 </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J305976/index.html">Tion MagicAir-クラウドバックエンドを備えたスマートな微気候システム</a></li>
<li><a href="../J30598/index.html">Screentoaster-ブラウザーからスクリーンキャストを記録する</a></li>
<li><a href="../J305984/index.html">人的要因は、ソフトウェア開発において最も強力でありながら最も有益なリスクであり続けます。</a></li>
<li><a href="../J305990/index.html">登録から店頭まで：モバイルアプリケーションをApp StoreとGoogle Playに配置する方法（パート1）</a></li>
<li><a href="../J305994/index.html">Web上の出版物の体系化。 パート1/3：問題の説明</a></li>
<li><a href="../J305998/index.html">ロシアのセキュリティ会社と提携しているCarbanakサイバー犯罪？</a></li>
<li><a href="../J3060/index.html">SUの滞在</a></li>
<li><a href="../J306000/index.html">極端なUPS</a></li>
<li><a href="../J306002/index.html">テーブルクロスの自己組み立て、またはWindows Server 2012 R2でのリモートデスクトップサービスの展開方法</a></li>
<li><a href="../J306004/index.html">Comodoからコード署名証明書を取得した方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>