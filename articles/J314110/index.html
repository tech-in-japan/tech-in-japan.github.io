<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😴 💥 🧔🏾 CSLA .NETを介したリポジトリパターン ⚫️ 🎿 😜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="モジュール間に低結合システムを作成すると、ソフトウェア開発で多くの利点が得られます。 CSLA .NETフレームワークを使用して記述されたアプリケーションでは、標準テンプレートを使用して依存関係を解消することは必ずしも明らかではありません。 
  
 
  
 この記事では、リポジトリテンプレートを...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>CSLA .NETを介したリポジトリパターン</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body" data-io-article-url="https://habr.com/ru/post/314110/"> モジュール間に低結合システムを作成すると、ソフトウェア開発で多くの利点が得られます。  <a href="http://cslanet.com/">CSLA .NETフレームワーク</a>を使用して記述されたアプリケーションでは、標準テンプレートを使用して依存関係を解消することは必ずしも明らかではありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この記事では<a href="https://msdn.microsoft.com/en-us/library/ff649690.aspx">、リポジトリテンプレート</a>を使用してビジネスレイヤーからデータアクセスレイヤー（DAL）を分離するオプションを検討し、CSLA .NETビジネスオブジェクトにうつ病注入を実装する最も一般的な方法について説明します。  CSLAバージョン4.1を使用。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> 例 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そのため、ルートビジネスオブジェクトPersonを作成しましょう。 このビジネスオブジェクトには、サブジェクト領域のいくつかの単純なプロパティ、Ordersオブジェクトの子コレクション、および子オブジェクトAddressがあります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="hljs pgsql">//Person.cs [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sealed partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Person : BusinessBase&lt;Person&gt; { private Person( ) { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static Person NewPerson( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.<span class="hljs-keyword"><span class="hljs-keyword">Create</span></span>&lt;Person&gt;( ); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static Person GetPerson( <span class="hljs-type"><span class="hljs-type">int</span></span> personId ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.<span class="hljs-keyword"><span class="hljs-keyword">Fetch</span></span>&lt;Person&gt;( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( personId ) ); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> RemovePerson( <span class="hljs-type"><span class="hljs-type">int</span></span> personId ) { DataPortal.<span class="hljs-keyword"><span class="hljs-keyword">Delete</span></span>&lt;Person&gt;( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( personId ) ); } private static readonly PropertyInfo&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt; IdProperty = RegisterProperty&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( c =&gt; c.Id ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( IdProperty ); } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( IdProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; FirstNameProperty = RegisterProperty&lt;string&gt;( c =&gt; c.FirstName ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( FirstNameProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( FirstNameProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; SecondNameProperty = RegisterProperty&lt;string&gt;( c =&gt; c.SecondName ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string SecondName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( SecondNameProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( SecondNameProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt; AgeProperty = RegisterProperty&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( c =&gt; c.Age ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> Age { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( AgeProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( AgeProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; CommentProperty = RegisterProperty&lt;string&gt;( c =&gt; c.<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( CommentProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( CommentProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;Orders&gt; OrdersProperty = RegisterProperty&lt;Orders&gt;( c =&gt; c.Orders, RelationshipTypes.Child | RelationshipTypes.LazyLoad ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Orders Orders { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !FieldManager.FieldExists( OrdersProperty ) ) { Orders = Orders.NewOrders( ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( OrdersProperty ); } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( OrdersProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); OnPropertyChanged( OrdersProperty ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;Address&gt; AddressProperty = RegisterProperty&lt;Address&gt;( c =&gt; c.Address, RelationshipTypes.Child | RelationshipTypes.LazyLoad); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Address Address { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !FieldManager.FieldExists( AddressProperty ) ) { Address = Address.NewAddress( ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( AddressProperty ); } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( AddressProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); OnPropertyChanged( AddressProperty ); } } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">子クラスコード</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">//Orders.cs [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sealed partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Orders : BusinessListBase&lt;Orders, <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>&gt; { private Orders( ) { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static Orders NewOrders( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.CreateChild&lt;Orders&gt;( ); } } //<span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>.cs [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sealed partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span> : BusinessBase&lt;<span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>&gt; { private <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>( ) { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span> NewOrder( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.CreateChild&lt;<span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>&gt;( ); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt; IdProperty = RegisterProperty&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( c =&gt; c.Id ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( IdProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( IdProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; DescriptionProperty = RegisterProperty&lt;string&gt;( c =&gt; c.Description ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string Description { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( DescriptionProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( DescriptionProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } } //Address.cs [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Address : BusinessBase&lt;Address&gt; { private Address( ) { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static Address NewAddress( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.CreateChild&lt;Address&gt;( ); } private static readonly PropertyInfo&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt; IdProperty = RegisterProperty&lt;<span class="hljs-type"><span class="hljs-type">int</span></span>&gt;( c =&gt; c.Id ); private <span class="hljs-type"><span class="hljs-type">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( IdProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( IdProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; FirstAddressProperty = RegisterProperty&lt;string&gt;( c =&gt; c.FirstAddress ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string FirstAddress { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( FirstAddressProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( FirstAddressProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;string&gt; SecondAddressProperty = RegisterProperty&lt;string&gt;( c =&gt; c.SecondAddress ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string SecondAddress { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetProperty( SecondAddressProperty ); } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { SetProperty( SecondAddressProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     結果のクラス図を図に示します： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/10d/cd7/528/10dcd75289e244f5b4d7a08a560c4e5d.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ビジネスクラスは部分修飾子でマークされており、読みやすさを向上させるために、データアクセスコード全体がクラスの他の部分に移動されていることに注意してください。 ここで、DALアクセスコードを見てみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  DALとの標準的な相互作用 </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に、Personオブジェクトの作成に関連するコードを見てみましょう。 ご覧のとおり、このクラスにはパラメーターのない単一のコンストラクターがあります。  CSLAクライアントデータポータルにアクセスするファクトリメソッドは、オブジェクトの作成と取得を担当します。 クライアントデータポータルは、サーバーデータポータルにアクセスします。 後者はリフレクションを介して、PersonクラスのプライベートメソッドDataPortal_CreateまたはDataPortal_Fetchを参照します。それぞれ、オブジェクトを作成または取得します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/47d/9a1/6ef/47d9a16effea44b99a9443855a4088d8.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/6d7/b67/237/6d7b67237d094518ab69d7d6c1073c0c.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Personオブジェクトの挿入、更新、削除にも同じスキームが適用されますが、それぞれDataPortal_Insert、DataPortal_Update、およびDataPortal_DeleteSelfメソッドが使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/688/b8d/66b/688b8d66baf94201be61c64e64ba6df6.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Saveメソッド（CSLAインフラストラクチャメソッド）がサーバーデータポータルで作成された新しいビジネスオブジェクトを実際に返すことを思い出させてください。そのため、クライアントコードで保存されたオブジェクトへのすべての参照を更新する必要があります（いわゆるモバイルビジネスオブジェクト、モバイルオブジェクトの概念）パターン）： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/34d/51e/4b9/34d51e4b91b2469eb631029881591f17.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最後に、強制的な削除には、DataPortal_Deleteメソッドが使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/006/ca4/4ce/006ca44ceaba493fa9320e2ed96f02ca.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     したがって、DataPortal_XYZメソッドには、データの作成と取得だけでなく、DALのPersonオブジェクトの更新と削除のためのすべてのデータアクセスロジックが含まれています。 これらのメソッドには、データへのアクセスに通常使用される特定のロジックがあります。SQLクエリコード、データベースへの接続、トランザクションの作成による子オブジェクトの更新などです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Person.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Person { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt; LastChangedProperty = RegisterProperty&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;( c =&gt; c.LastChanged ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> LastChanged { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ReadProperty( LastChangedProperty ); } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( LastChangedProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Create( ) { BusinessRules.CheckRules( ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Fetch( SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt; idCriteria ) { const string query = @"SELECT id ,first_name ,second_name ,age ,comment ,last_changed ,address_id ,first_address ,second_address FROM All_persons WHERE id = :p_id"; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.Text; command.CommandText = query; command.Parameters.AddWithValue( "p_id", idCriteria.<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var reader = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SafeDataReader( command.ExecuteReader( CommandBehavior.SingleRow ) ) ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( reader.<span class="hljs-keyword"><span class="hljs-keyword">Read</span></span>( ) ) { FetchFromReader( reader ); } } } LoadProperty( OrdersProperty, Orders.GetOrders( this ) ); } } private <span class="hljs-type"><span class="hljs-type">void</span></span> FetchFromReader( SafeDataReader reader ) { LoadProperty( FirstNameProperty, reader.GetString( "first_name" ) ); LoadProperty( SecondNameProperty, reader.GetString( "second_name" ) ); LoadProperty( CommentProperty, reader.GetString( "comment" ) ); LoadProperty( AddressProperty, Address.GetAddress( reader ) ); Id = reader.GetInt32( "Id" ); LastChanged = reader[ "last_changed" ]; } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Insert( ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.BeginTransaction( ) ) { try { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.add_person"; var personParameters = GetPersonParameters( ); command.Parameters.AddRange( personParameters ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); Id = ( <span class="hljs-type"><span class="hljs-type">int</span></span> )command.Parameters[ "p_id" ].<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; LastChanged = command.Parameters[ "p_last_changed" ]; } FieldManager.UpdateChildren( this, <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } catch { <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); throw; } } } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Update( ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.BeginTransaction( ) ) { try { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.add_person"; var personParameters = GetPersonParameters( ); command.Parameters.AddRange( personParameters ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); LastChanged = command.Parameters[ "p_last_changed" ]; } FieldManager.UpdateChildren( this, <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } catch { <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); throw; } } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Delete( SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt; idCriteria ) { DoDelete( idCriteria.<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> ); } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_DeleteSelf( ) { DoDelete( Id ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> DoDelete( <span class="hljs-type"><span class="hljs-type">int</span></span> personId ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.BeginTransaction( ) ) { try { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.delete_person"; command.Parameters.AddWithValue( "p_id", personId ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); } <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } catch { <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); throw; } } } } private OracleParameter[] GetPersonParameters( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>[] { <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_id", Id ) {Direction = ParameterDirection.InputOutput}, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_first_name", FirstName ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_second_name", SecondName ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_age", Age ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_comment", <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_last_changed", OracleType.Int32 ) {Direction = ParameterDirection.Output} }; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Personの子オブジェクトのDALアクセスコードは似ていますが、子オブジェクトを更新するときに、Personはそれ自体へのリンクとADO .NETトランザクションのインスタンスをデータポータルに渡します。したがって、子オブジェクトの対応するDataPortal_XYZメソッドには追加の引数が含まれます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">子クラスコード：</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">//Orders.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Orders { <span class="hljs-type"><span class="hljs-type">internal</span></span> static Orders GetOrders( Person person ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.FetchChild&lt;Orders&gt;( person ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Fetch( Person person ) { const string query = @"SELECT id ,description FROM All_orders WHERE person_id = :p_person_id"; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.Text; command.CommandText = query; command.Parameters.AddWithValue( "p_person_id", person.Id ); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var reader = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SafeDataReader( command.ExecuteReader( CommandBehavior.SingleRow ) ) ) { RaiseListChangedEvents = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( reader.<span class="hljs-keyword"><span class="hljs-keyword">Read</span></span>( ) ) { <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>.GetOrder( reader ) ); } RaiseListChangedEvents = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Update( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { base.Child_Update( person, <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//<span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span> { <span class="hljs-type"><span class="hljs-type">internal</span></span> static <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span> GetOrder( SafeDataReader reader ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.FetchChild&lt;<span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>&gt;( reader ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Fetch( SafeDataReader reader ) { LoadProperty( IdProperty, reader.GetInt32( "id" ) ); LoadProperty( DescriptionProperty, reader.GetString( "description" ) ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Insert( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.add_order"; command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.Parameters.AddRange( GetParameters( ) ); command.Parameters.AddWithValue( "person_id", person.Id ); command.ExecuteNonQuery( ); Id = ( <span class="hljs-type"><span class="hljs-type">int</span></span> )command.Parameters[ "p_id" ].<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Update( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.edit_order"; command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.Parameters.AddRange( GetParameters( ) ); command.Parameters.AddWithValue( "person_id", person.Id ); command.ExecuteNonQuery( ); } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_DeleteSelf( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.remove_order"; command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.Parameters.AddWithValue( "p_person_id", person.Id ); command.Parameters.AddWithValue( "p_order_id", Id ); command.ExecuteNonQuery( ); } } } private OracleParameter[] GetParameters( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>[] { <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_id", Id ) {Direction = ParameterDirection.InputOutput}, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_description", Description ) }; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Address.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sealed partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Address { <span class="hljs-type"><span class="hljs-type">internal</span></span> static Address GetAddress( SafeDataReader reader ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.<span class="hljs-keyword"><span class="hljs-keyword">Fetch</span></span>&lt;Address&gt;( reader ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Fetch( SafeDataReader reader ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( BypassPropertyChecks ) { LoadProperty( IdProperty, reader.GetInt32( "address_id" ) ); LoadProperty( FirstAddressProperty, reader.GetString( "first_address" ) ); LoadProperty( SecondAddressProperty, reader.GetString( "second_address" ) ); } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Insert( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.add_address"; command.Parameters.AddRange( GetParameters( ) ); command.Parameters.AddWithValue( "p_person_id", person.Id ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); Id = ( <span class="hljs-type"><span class="hljs-type">int</span></span> )command.Parameters[ "p_id" ].<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Update( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.edit_address"; command.Parameters.AddRange( GetParameters( ) ); command.Parameters.AddWithValue( "p_person_id", person.Id ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); } } } private <span class="hljs-type"><span class="hljs-type">void</span></span> Child_DeleteSelf( Person person, OracleTransaction <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( "CSLAPROJECT" ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = "csla_project.remove_address"; command.Parameters.AddWithValue( "p_address_id", Id ); command.Parameters.AddWithValue( "p_person_id", person.Id ); command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>; command.ExecuteNonQuery( ); } } } private OracleParameter[] GetParameters( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>[] { <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_id", Id ) {Direction = ParameterDirection.InputOutput}, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_first_address", FirstAddress ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_second_address", SecondAddress ) }; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> リポジトリパターン </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これまで、CSLA .NETを使用して開発された多くのレガシープログラムのコードでよく見られる、CSLAビジネスオブジェクトの標準的な実装を見てきました。 コードからわかるように、データアクセス層とビジネスロジック層は互いに密接に関連しています。 データアクセス層から抽象化する場合、ビジネスロジックの低レベルの詳細とそれらが持つ特定の依存関係を取り除きます。 これにより、ビジネスオブジェクトの単体テストが簡素化され、ビジネスレベルのロジックに関係なくデータアクセスのロジックを変更できるようになります。 したがって、ビジネスロジックとデータアクセスレイヤーの間に追加レベルの間接参照を作成するというタスクが発生します。 たとえば、有名な<a href="https://msdn.microsoft.com/en-us/library/ff649690.aspx">リポジトリテンプレートを</a>使用できます。 必要なメソッドでインターフェースを作成します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//IPersonRepository.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> interface IPersonRepository { PersonData FindPerson( <span class="hljs-type"><span class="hljs-type">int</span></span> id ); <span class="hljs-type"><span class="hljs-type">void</span></span> AddPerson( PersonData newPerson, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> newId, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged ); <span class="hljs-type"><span class="hljs-type">void</span></span> EditPerson( PersonData existingPerson, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged ); <span class="hljs-type"><span class="hljs-type">void</span></span> RemovePerson( <span class="hljs-type"><span class="hljs-type">int</span></span> personId ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      PersonDataクラスは、単純なデータ転送オブジェクト（DTO）です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//PersonData.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> sealed <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PersonData { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> Id { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string SecondName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> Age { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> string <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> LastChanged { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ADO .NETコードからトランザクションサポートを抽象化するために、単純なIContextおよびITransactionインターフェイスを作成します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//IContext.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> interface IContext { ITransaction BeginTransaction( ); } //ITransaction.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> interface ITransaction : IDisposable { <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ここで、PersonクラスのDataPortal_XYZメソッドの特定のDALコードの代わりに、上記で定義されたインターフェイスのメソッドを見たいと思います。 この問題は、Personビジネスオブジェクトに依存関係を注入することで発生します。 古典的な方法は、CSLAの制限（ファクトリメソッドを使用）のためにPersonコンストラクターを通じて依存関係をプッシュすることです。この問題を解決する他の可能な方法を見てみましょう。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> セッターメソッドインジェクション </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     タイプIPersonRepositoryのプライベートフィールドをPersonクラスに追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">NonSerialized</span></span>] [NotUndoable] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IPersonRepository _personRepository;</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      [NonSerialized] [NotUndoable]属性の使用に注意してください-ある物理ノードから別のノード（モバイルオブジェクトパターン）にPersonオブジェクトを移動し、CSLA（NレベルUndo）のマルチレベルキャンセルに参加する場合、IPersonRepository依存関係をシリアル化しないでください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次に、リポジトリ設定メソッドを追加します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">Inject</span></span>] <span class="hljs-comment"><span class="hljs-comment">//   DI- Ninject private void Configure( IPersonRepository personRepository ) { _personRepository = personRepository; }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     構成メソッドの代わりに、PersonRepositoryプロパティ（いわゆるProperty Setterインジェクション）を使用できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">Inject</span></span>] [EditorBrowsable( EditorBrowsableState.Never )] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IPersonRepository PersonRepository { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _personRepository; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _personRepository = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この場合、PersonRepositoryプロパティはデータポータルのサーバー側でのみ使用されるため、EditorBrowsable属性を使用してIntellisenceから非表示にできることに注意してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     一般に、BusinessBase抽象クラスの次のアンカーを使用して、CSLAインフラストラクチャによって既に作成されたビジネスオブジェクトに依存関係を注入できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      DataPortal_OnDataPortalInvoke、Child_OnDataPortalInvoke、およびOnDeserialized。 最初の2つのメソッドは、ビジネスオブジェクトのDataPortal_XXXメソッドを呼び出す前に、データポータルのサーバー側によって呼び出されます。 最初のメソッド-ビジネスオブジェクトがルートの場合、2番目のメソッド-子の場合。  3番目のメソッドは、サーバーまたはクライアント上のモバイルオブジェクトを逆シリアル化した後に呼び出されます。 リポジトリテンプレート内で再定義する必要はありません（依存関係はサーバー上でのみ使用されます）が、CSLAビジネスオブジェクトへの依存関係注入の一般的な場合には必要です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     したがって、3つのメソッドすべてで呼び出されるInjectメソッドを記述し、CSLAによって作成されたビジネスオブジェクトに依存関係を注入できます。 上記に基づいて、新しいInjectableBusinessBaseステレオタイプを作成します。これは、標準のBusinessBaseステレオタイプの代替として機能します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//InjectableBusinessBase.cs [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> abstract <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> InjectableBusinessBase&lt;T&gt; : BusinessBase&lt;T&gt; <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> T : BusinessBase&lt;T&gt; { protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_OnDataPortalInvoke( DataPortalEventArgs e ) { Inject( ); base.DataPortal_OnDataPortalInvoke( e ); } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> Child_OnDataPortalInvoke( DataPortalEventArgs e ) { Inject( ); base.Child_OnDataPortalInvoke( e ); } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> OnDeserialized( <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.Runtime.Serialization.StreamingContext context ) { Inject( ); base.OnDeserialized( context ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> Inject( ) { //         . } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CSLAビジネスオブジェクトの各ステレオタイプについて、アンカーを再定義して新しいステレオタイプを作成する必要があることに注意してください。 新しいステレオタイプのコードは、上記のコードに似ています。 依存関係を持つビジネスレベルのクラスは、新しいステレオタイプを継承する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Person : InjectableBusinessBase&lt;Person&gt; { //… } [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Orders : InjectableBusinessListBase&lt;Orders, <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>&gt; { //… } [<span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span>] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Address : InjectableBusinessBase&lt;Address&gt; { //… }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Injectメソッドを実装するには、次のファサードクラスをDIコンテナに追加します（ <a href="http://www.ninject.org/">Ninject</a>を使用）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Container.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Container { private static readonly <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> SyncRoot = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span>( ); private static <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> IKernel _kernel; //   DI-  Ninject <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static IKernel Kernel { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( _kernel == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">lock</span></span> ( SyncRoot ) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( _kernel == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ) { ConfigureKernel( ); } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _kernel; } } //      . <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> InjectInto( <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> target ) { Kernel.Inject( target ); } private static <span class="hljs-type"><span class="hljs-type">void</span></span> ConfigureKernel( ) { //   } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> InjectKernel( IKernel kernel ) { <span class="hljs-keyword"><span class="hljs-keyword">lock</span></span> ( SyncRoot ) { _kernel = kernel; } } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これまでのところ、DIコンテナ自体を直接構成する方法は重要ではありませんが、InjectIntoメソッドのみが重要です。 これで、InjectableBusinessBaseステレオタイプのInject（）メソッドに戻ることができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Inject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> </span></span></span><span class="hljs-function">)</span></span> { Container.InjectInto( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span> ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最後に、IPersonRepositoryプロパティとIContextプロパティをPersonクラスのサーバー側に追加し、DataPortal_XYZメソッドを次のように書き換えます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Person.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Person { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static readonly PropertyInfo&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt; LastChangedProperty = RegisterProperty&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>&gt;( c =&gt; c.LastChanged ); <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> LastChanged { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ReadProperty( LastChangedProperty ); } private <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { LoadProperty( LastChangedProperty, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> ); } } [NonSerialized] [NotUndoable] private IPersonRepository _personRepository; [Inject] [EditorBrowsable( EditorBrowsableState.Never )] private IPersonRepository PersonRepository { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _personRepository; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _personRepository = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } [NonSerialized][NotUndoable] private IContext _context; [Inject] [EditorBrowsable(EditorBrowsableState.Never)] private IContext Context { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _context; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _context = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Create( ) { BusinessRules.CheckRules( ); } private <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Fetch( SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt; idCriteria ) { var personData = PersonRepository.FindPerson( idCriteria.<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( personData != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ) { CopyValuesFrom( personData ); LoadProperty( OrdersProperty, Orders.GetOrders( personData ) ); LoadProperty( AddressProperty, Address.GetAddress( personData ) ); } } private <span class="hljs-type"><span class="hljs-type">void</span></span> CopyValuesFrom( PersonData personData ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( BypassPropertyChecks ) { DataMapper.Map( personData, this ); } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Insert( ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> = Context.BeginTransaction( ) ) { try { var personData = GetPersonData( ); <span class="hljs-type"><span class="hljs-type">int</span></span> newId; <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged; PersonRepository.AddPerson( personData, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> newId, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> lastChanged ); Id = newId; LastChanged = lastChanged; FieldManager.UpdateChildren( personData); <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } catch { <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); throw; } } } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Update( ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span> = Context.BeginTransaction( ) ) { try { var personData = GetPersonData( ); <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged; PersonRepository.EditPerson( personData, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> lastChanged ); LastChanged = lastChanged; FieldManager.UpdateChildren( personData ); <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } catch { <span class="hljs-keyword"><span class="hljs-keyword">transaction</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ); throw; } } } private PersonData GetPersonData( ) { //  ,        //- Person  DTO PersonData ,    // CSLA DataMapper    DTO,     . var personData = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PersonData( ); DataMapper.Map( this, personData, OrdersProperty.Name, AddressProperty.Name ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> personData; } private <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_Delete( SingleCriteria&lt;Person, <span class="hljs-type"><span class="hljs-type">int</span></span>&gt; idCriteria ) { PersonRepository.RemovePerson( idCriteria.<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> ); } protected override <span class="hljs-type"><span class="hljs-type">void</span></span> DataPortal_DeleteSelf( ) { PersonRepository.RemovePerson( Id ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">子クラスコード：</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">//Orders.<span class="hljs-keyword"><span class="hljs-keyword">Server</span></span>.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Orders { [NonSerialized] [NotUndoable] private IOrderRepository _orderRepository; [Inject] [EditorBrowsable( EditorBrowsableState.Never )] protected IOrderRepository OrderRepository { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _orderRepository; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _orderRepository = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-type"><span class="hljs-type">internal</span></span> static Address GetAddress( Person person ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DataPortal.FetchChild&lt;Address&gt;( person ); } protected <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Fetch( PersonData person) { var data = OrderRepository.FindOrders( person.Id ); RaiseListChangedEvents = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; AddRange( data.<span class="hljs-keyword"><span class="hljs-keyword">Select</span></span>( <span class="hljs-keyword"><span class="hljs-keyword">Order</span></span>.GetOrder ) ); RaiseListChangedEvents = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } protected <span class="hljs-type"><span class="hljs-type">void</span></span> Child_Update( PersonData person ) { base.Child_Update( person, OrderRepository ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs haskell">//<span class="hljs-type"><span class="hljs-type">Order</span></span>.<span class="hljs-type"><span class="hljs-type">Server</span></span>.cs public partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-type"><span class="hljs-type">Order</span></span> { internal static <span class="hljs-type"><span class="hljs-type">Order</span></span> <span class="hljs-type"><span class="hljs-type">GetOrder</span></span>( <span class="hljs-type"><span class="hljs-type">OrderData</span></span> orderData ) { return <span class="hljs-type"><span class="hljs-type">DataPortal</span></span>.<span class="hljs-type"><span class="hljs-type">FetchChild</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Order</span></span>&gt;( orderData ); } protected void <span class="hljs-type"><span class="hljs-type">Child_Fetch</span></span>( <span class="hljs-type"><span class="hljs-type">OrderData</span></span> orderData ) { using ( <span class="hljs-type"><span class="hljs-type">BypassPropertyChecks</span></span> ) { <span class="hljs-type"><span class="hljs-type">DataMapper</span></span>.<span class="hljs-type"><span class="hljs-type">Map</span></span>( orderData, this ); } } protected void <span class="hljs-type"><span class="hljs-type">Child_Insert</span></span>( <span class="hljs-type"><span class="hljs-type">PersonData</span></span> person, <span class="hljs-type"><span class="hljs-type">IOrderRepository</span></span> orderRepository ) { var <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetOrderData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class"> = orderRepository.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddOrder</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> ); } protected void </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Child_Update</span></span></span><span class="hljs-class">( </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PersonData</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IOrderRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderRepository</span></span></span><span class="hljs-class"> ) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetOrderData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderRepository</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditOrder</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> ); } protected void </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Child_DeleteSelf</span></span></span><span class="hljs-class">( </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PersonData</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IOrderRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderRepository</span></span></span><span class="hljs-class"> ) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderRepository</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RemoveOrder</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class"> ); } private </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">OrderData</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetOrderData</span></span></span><span class="hljs-class">( ) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderData</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">OrderData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DataMapper</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Map</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">this</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderData</span></span></span><span class="hljs-class"> ); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orderData</span></span></span><span class="hljs-class">; } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs haskell">//<span class="hljs-type"><span class="hljs-type">Address</span></span>.<span class="hljs-type"><span class="hljs-type">Server</span></span>.cs public partial <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-type"><span class="hljs-type">Address</span></span> { [<span class="hljs-type"><span class="hljs-type">NonSerialized</span></span>, <span class="hljs-type"><span class="hljs-type">NotUndoable</span></span>] private <span class="hljs-type"><span class="hljs-type">IAddressRepository</span></span> _addressRepository; [<span class="hljs-type"><span class="hljs-type">Inject</span></span>] [<span class="hljs-type"><span class="hljs-type">EditorBrowsable</span></span>( <span class="hljs-type"><span class="hljs-type">EditorBrowsableState</span></span>.<span class="hljs-type"><span class="hljs-type">Never</span></span> )] protected <span class="hljs-type"><span class="hljs-type">IAddressRepository</span></span> <span class="hljs-type"><span class="hljs-type">AddressRepository</span></span> { get { return _addressRepository; } set { _addressRepository = value; } } internal static <span class="hljs-type"><span class="hljs-type">Address</span></span> <span class="hljs-type"><span class="hljs-type">GetAddress</span></span>( <span class="hljs-type"><span class="hljs-type">PersonData</span></span> person ) { return <span class="hljs-type"><span class="hljs-type">DataPortal</span></span>.<span class="hljs-type"><span class="hljs-type">FetchChild</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Address</span></span>&gt;( person ); } protected void <span class="hljs-type"><span class="hljs-type">Child_Fetch</span></span>( <span class="hljs-type"><span class="hljs-type">PersonData</span></span> personData ) { using ( <span class="hljs-type"><span class="hljs-type">BypassPropertyChecks</span></span> ) { var addressData = <span class="hljs-type"><span class="hljs-type">AddressRepository</span></span>.<span class="hljs-type"><span class="hljs-type">FindAddress</span></span>( personData.<span class="hljs-type"><span class="hljs-type">Id</span></span> ); <span class="hljs-type"><span class="hljs-type">DataMapper</span></span>.<span class="hljs-type"><span class="hljs-type">Map</span></span>( addressData, this ); } } protected void <span class="hljs-type"><span class="hljs-type">Child_Insert</span></span>( <span class="hljs-type"><span class="hljs-type">PersonData</span></span> person ) { var <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetAddressData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddressRepository</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddAddress</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> ); } protected void </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Child_Update</span></span></span><span class="hljs-class">( </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PersonData</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class"> ) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetAddressData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddressRepository</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">EditAddress</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">data</span></span></span><span class="hljs-class"> ); } protected void </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Child_DeleteSelf</span></span></span><span class="hljs-class">( </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">PersonData</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class"> ) { </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddressRepository</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">RemoveAddress</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">person</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Id</span></span></span><span class="hljs-class"> ); } private </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddressData</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">GetAddressData</span></span></span><span class="hljs-class">( ) { </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addressData</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">AddressData</span></span></span><span class="hljs-class">( ); </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">DataMapper</span></span></span><span class="hljs-class">.</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Map</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">this</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addressData</span></span></span><span class="hljs-class"> ); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">return</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addressData</span></span></span><span class="hljs-class">; } }</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     特定のDAL呼び出しコードが消えました。 現在、DataPortal_XYZメソッドにアクセスする前に、オーバーライドされたアンカーを使用するサーバーデータポータルはPersonクラスのすべての依存関係を解決し、リポジトリの実装でDALアクセスコード全体をカプセル化できるようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この方法のアイデアは<a href="https://jonnybekkum.wordpress.com/2010/12/30/cslacontrib-mef-and-repository-pattern-with-csla4/">、Johny Bekkumブログ</a>から<a href="https://jonnybekkum.wordpress.com/2010/12/30/cslacontrib-mef-and-repository-pattern-with-csla4/">引用</a>され<a href="https://jonnybekkum.wordpress.com/2010/12/30/cslacontrib-mef-and-repository-pattern-with-csla4/">てい</a>ます。 彼は<a href="https://github.com/marimerllc/cslacontrib">CSLAContrib</a>ライブラリを作成しました。 <a href="https://github.com/marimerllc/cslacontrib">この</a>ライブラリには、CSLAへの多くの便利な追加が含まれています。 特に、Property Setter InjectionをサポートするCSLAステレオタイプのセットがあります。 これらのステレオタイプのコードは、上記のコードに似ています。  DIコンテナとして、.NET Framework 4.0で導入された<a href="https://msdn.microsoft.com/ru-ru/library/dd460648(v%3Dvs.110).aspx">MEF</a> （Managed Extensibility Framework）が使用されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     コンテナを直接使用するだけで、すべての問題を回避できることに注意してください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IPersonRepository GetPersonRepository { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Core.Container.Kernel.Get&lt;IPersonRepository&gt;(); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     この場合、ContainerクラスはService Locatorとして使用されますが、これはしばしば<a href="http://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/">antipatternとして定義され</a>ます。 ただし、この方法は、特に大規模なレガシーCSLAプロジェクトを伴う場合にも役立ちます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> リポジトリパターンを介したCSLA </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     リポジトリテンプレートの実装をさらに詳しく検討しましょう。  RepositoryBase基本クラスの将来のすべてのリポジトリに共通するOracleデータベースを操作するためのコードを取り出します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//RepositoryBase.cs <span class="hljs-type"><span class="hljs-type">internal</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> RepositoryBase { private readonly string _databaseName; protected RepositoryBase( string databaseName ) { _databaseName = databaseName; } protected virtual <span class="hljs-type"><span class="hljs-type">void</span></span> ExecuteProcedure( string procName, params OracleParameter[] parameters ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = TransactionManager&lt;OracleConnection, OracleTransaction&gt;.GetManager( _databaseName ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.StoredProcedure; command.CommandText = procName; command.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> = manager.<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( parameters != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ) { command.Parameters.AddRange( parameters ); } command.ExecuteNonQuery( ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( manager.RefCount == <span class="hljs-number"><span class="hljs-number">1</span></span> ) { manager.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); } } } } protected virtual IEnumerable&lt;T&gt; GetRows&lt;T&gt;( string query, Func&lt;SafeDataReader, T&gt; fetchFromReader, params OracleParameter[] parameters ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var manager = ConnectionManager&lt;OracleConnection&gt;.GetManager( _databaseName ) ) { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var command = manager.<span class="hljs-keyword"><span class="hljs-keyword">Connection</span></span>.CreateCommand( ) ) { command.CommandType = CommandType.Text; command.CommandText = query; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( parameters != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> ) { command.Parameters.AddRange( parameters ); } <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> ( var reader = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> SafeDataReader( command.ExecuteReader( ) ) ) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ( reader.<span class="hljs-keyword"><span class="hljs-keyword">Read</span></span>( ) ) { yield <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fetchFromReader( reader ); } } } } } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 次に、RepositoryBaseを使用してIPersonRepositoryコントラクトを実装します。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//PersonRepository.cs <span class="hljs-type"><span class="hljs-type">internal</span></span> sealed <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PersonRepository : RepositoryBase, IPersonRepository { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> PersonRepository( ) : base( "CSLAPROJECT" ) { } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> PersonData FindPerson( <span class="hljs-type"><span class="hljs-type">int</span></span> id ) { const string query = @"SELECT id ,first_name ,second_name ,age ,comment ,last_changed FROM All_persons WHERE id = :p_id"; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> GetRows( query, FetchFromReader, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_id", id ) ).First( ); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> AddPerson( PersonData newPerson, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-type"><span class="hljs-type">int</span></span> newId, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged ) { var parameters = GetPersonParameters( newPerson ); ExecuteProcedure( "csla_project.add_person", parameters ); newId = ( <span class="hljs-type"><span class="hljs-type">int</span></span> )parameters.First( ).<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; lastChanged = parameters.Last( ).<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> EditPerson( PersonData existingPerson, <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> lastChanged ) { var parameters = GetPersonParameters( existingPerson ); ExecuteProcedure( "csla_project.update_person", parameters ); lastChanged = parameters.Last( ).<span class="hljs-keyword"><span class="hljs-keyword">Value</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> RemovePerson( <span class="hljs-type"><span class="hljs-type">int</span></span> personId ) { ExecuteProcedure( "csla_project.delete_person", <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter("p_id", personId) ); } private PersonData FetchFromReader( SafeDataReader reader ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PersonData { Id = reader.GetInt32( "id" ), FirstName = reader.GetString( "first_name" ), SecondName = reader.GetString( "second_name" ), Age = reader.GetInt32( "age" ), <span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> = reader.GetString( "comment" ), LastChanged = reader["last_changed"] }; } private OracleParameter[] GetPersonParameters( PersonData personData ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>[] { <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_id", personData.Id ){Direction = ParameterDirection.InputOutput}, <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_first_name", personData.FirstName ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_second_name", personData.SecondName ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_age", personData.Age ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_comment", personData.<span class="hljs-keyword"><span class="hljs-keyword">Comment</span></span> ), <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OracleParameter( "p_last_changed", OracleType.Int32 ) { <span class="hljs-keyword"><span class="hljs-keyword">Value</span></span> = personData.LastChanged, Direction = ParameterDirection.Output } }; } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> トランザクションサポートクラスは次のとおりです。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Context.cs <span class="hljs-type"><span class="hljs-type">internal</span></span> sealed <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Context : IContext { ITransaction IContext.BeginTransaction( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span>( ); } } //<span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span>.cs <span class="hljs-type"><span class="hljs-type">internal</span></span> sealed <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Transaction</span></span> : ITransaction { private readonly TransactionManager&lt;OracleConnection, OracleTransaction&gt; _manager = TransactionManager&lt;OracleConnection, OracleTransaction&gt;.GetManager( "CSLAPROJECT" ); <span class="hljs-type"><span class="hljs-type">void</span></span> ITransaction.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ) { _manager.<span class="hljs-keyword"><span class="hljs-keyword">Commit</span></span>( ); Dispose( ); } <span class="hljs-type"><span class="hljs-type">void</span></span> ITransaction.<span class="hljs-keyword"><span class="hljs-keyword">Rollback</span></span>( ) { Dispose( ); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> Dispose( ) { _manager.Dispose( ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この場合、トランザクションを保証するために、CSLA </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransactionManager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスが使用されました</font><font style="vertical-align: inherit;">。これにより、1つのデータポータル操作を実行するときに、ビジネスオブジェクトグラフ全体で同じ接続とそれに関連付けられたADO .NETトランザクションを使用できます。</font><font style="vertical-align: inherit;">AddressRepositoryおよびOrde​​rRepositoryクラスは、上記のPersonRepositoryに似ています。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての変更後のクラス図は次のとおりです</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/735/ac2/f04/735ac2f0442b4b139c75e26355ccb4ce.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。さまざまなプロジェクトのビジネスオブジェクト、リポジトリ、およびコントラクト</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">配布します。</font><font style="vertical-align: inherit;">最終的なパッケージ図は次のようになります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/c08/e10/39a/c08e1039ada2439296e860a7064536b0.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後に、CslaProject.DataAccess.OracleDbでDAL構成のNinjectモジュールを追加します。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">//Module.cs <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Module : NinjectModule { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> override <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Load</span></span>( ) { Bind&lt;IPersonRepository&gt;( ).<span class="hljs-keyword"><span class="hljs-keyword">To</span></span>&lt;PersonRepository&gt;( ).InSingletonScope( ); Bind&lt;IOrderRepository&gt;( ).<span class="hljs-keyword"><span class="hljs-keyword">To</span></span>&lt;OrderRepository&gt;( ).InSingletonScope( ); Bind&lt;IAddressRepository&gt;( ).<span class="hljs-keyword"><span class="hljs-keyword">To</span></span>&lt;AddressRepository&gt;( ).InSingletonScope( ); Bind&lt;IGroupRepository&gt;( ).<span class="hljs-keyword"><span class="hljs-keyword">To</span></span>&lt;GroupRepository&gt;( ).InSingletonScope( ); Bind&lt;IContext&gt;( ).<span class="hljs-keyword"><span class="hljs-keyword">To</span></span>&lt;Context&gt;( ).InSingletonScope( ); } }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> コンテナ構成 </font></font></h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ファサードクラスContainerに戻り、完全を期すために、ルートプロジェクトのDAL構成コードを提供します。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql">private static <span class="hljs-type"><span class="hljs-type">void</span></span> ConfigureKernel( ) { // InjectNonPublic = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ..   var kernel = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> StandardKernel( <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> NinjectSettings {InjectNonPublic = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>} ); //   . var dependencyCatalogs = GetDependencyCatalogs( ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( dependencyCatalogs.<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>( ) ) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ( var <span class="hljs-keyword"><span class="hljs-keyword">values</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dependencyCatalogs.<span class="hljs-keyword"><span class="hljs-keyword">Select</span></span>( d =&gt; ConfigurationManager.AppSettings[ d ].Split( <span class="hljs-string"><span class="hljs-string">';'</span></span> ) ) ) { var catalogPath = <span class="hljs-type"><span class="hljs-type">Path</span></span>.Combine( AppDomain.CurrentDomain.BaseDirectory, <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>[ <span class="hljs-number"><span class="hljs-number">0</span></span> ] ); IEnumerable&lt;string&gt; depedencyLibNames; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>.Count( ) &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> ) { var searchPattern = <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>[ <span class="hljs-number"><span class="hljs-number">1</span></span> ]; depedencyLibNames = Directory.GetFiles( catalogPath, searchPattern ); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { depedencyLibNames = Directory.GetFiles( catalogPath ); } <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ( var file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> depedencyLibNames ) { var dependency = Assembly.LoadFile( <span class="hljs-type"><span class="hljs-type">Path</span></span>.Combine( catalogPath, file ) ); kernel.<span class="hljs-keyword"><span class="hljs-keyword">Load</span></span>( dependency ); } } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { //   ,   //    ,     CslaProject kernel.<span class="hljs-keyword"><span class="hljs-keyword">Load</span></span>("CslaProject*.dll"); } _kernel = kernel; } private static string[] GetDependencyCatalogs( ) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ConfigurationManager.AppSettings.AllKeys.<span class="hljs-keyword"><span class="hljs-keyword">Where</span></span>( p =&gt; p.StartsWith( "CslaProject.Depencies", <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, CultureInfo.InvariantCulture ) ).ToArray( ); }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> App.Configは次のようになります。 </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">appSettings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">add</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"CslaProject.Dependencies"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Dependencies;CslaProject*.dll"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">appSettings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">connectionStrings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- &lt;add name="CSLAPROJECT" providerName="System.Data.OracleClient" connectionString="user id=test_user;password=12345;data source=testdb;" /&gt; --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">connectionStrings</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">startup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">supportedRuntime</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"v4.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">sku</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">".NETFramework,Version=v4.0"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">startup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの依存関係の構成は、CslaProject.Dependenciesキーを持つオプションのappSettingsセクションで設定されます。</font><font style="vertical-align: inherit;">オプションの値は、依存関係の実装を含むライブラリが配置されているアプリケーションのルートディレクトリ内のディレクトリの名前です。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">起動したプロジェクトにCslaProject.Dependenciesキーを持つApp.Configがない場合（たとえば、CslaProject.UnitTestsユニットテストを持つプロジェクトからビジネスロジックコードが呼び出される場合）、名前がCslaProjectで始まるすべてのアセンブリが読み込まれます。</font><font style="vertical-align: inherit;">そのため、テストリポジトリでDALを構成する単体テストを含むプロジェクトにNinjectモジュールを追加すると、DataPortal_XYZメソッドで使用されます。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2> おわりに </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データアクセス層をCSLAビジネスクラスから分離するための考慮された方法は、完全に機能します。</font><font style="vertical-align: inherit;">ただし、欠点もあります。</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> すべてのビジネスクラスは新しいInjectablesステレオタイプを継承する必要がありますが、これは常に可能とは限りません。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加のオーバーヘッド。</font><font style="vertical-align: inherit;">依存性注入メソッドは、DataPortal_XYZメソッドの各呼び出しの前、およびサーバーまたはクライアントでの逆シリアル化の後に実行されます。これは、多数の子を持つビジネスオブジェクトにとって問題になる可能性があります。</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> プロジェクトの複雑化。 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 特定のDIコンテナーへのバインド。 </font></font></li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     おそらくそれだけです。<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ご清聴ありがとうございました。フォースが一緒にいてくれますように。 </font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J314096/index.html">ポール・グラハムは死について考え、彼のtodoリストを更新しました</a></li>
<li><a href="../J31410/index.html">2回のクリックでラップトップのネットワーク設定をクロスします</a></li>
<li><a href="../J314100/index.html">ソフトウェアの価格設定：Dan GelorathおよびSEER-SEM</a></li>
<li><a href="../J314104/index.html">Docker：マスタースレーブPostgreSQL構成を展開する</a></li>
<li><a href="../J31411/index.html">2クリックでラップトップのネットワーク設定を切り替える</a></li>
<li><a href="../J314112/index.html">米国当局は、研究者が法的結果なしにペンテストとリバースエンジニアリングを行うことを許可しています</a></li>
<li><a href="../J314114/index.html">PHPの列挙</a></li>
<li><a href="../J314118/index.html">ワインディング開発者の道</a></li>
<li><a href="../J31412/index.html">Linusから見たMac OS XおよびVista</a></li>
<li><a href="../J314122/index.html">オープンIoTオペレーティングシステム</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>