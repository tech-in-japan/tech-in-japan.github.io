<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FEDBM7F51Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FEDBM7F51Q');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚠 👵🏿 🍽️ 組み込みのスフィンクス、またはルーターで検索 🚵 🙇 🧙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sphinx検索エンジン（sphinxsearch）は、高負荷および大規模なインデックスボリュームに非常にうまく対応できるシステムとして位置付けられています。 一般に、これは悪いことではありませんが、16コアプロセッサと256GBのRAMを備えたマシンが手元にない場合があります。 しかし、コアが1つ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <script>document.write('<script src="https://pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://tech-in-japan.github.io/index.html"></a>
    <div class="page-header-text">Clever Geek Handbook</div>
  </header>
  <section class="page js-page"><h1>組み込みのスフィンクス、またはルーターで検索</h1><div class="post__text post__text-html js-mediator-article" id="post-content-body">  Sphinx検索エンジン（sphinxsearch）は、高負荷および大規模なインデックスボリュームに非常にうまく対応できるシステムとして位置付けられています。 一般に、これは悪いことではありませんが、16コアプロセッサと256GBのRAMを備えたマシンが手元にない場合があります。 しかし、コアが1つだけの場合はどうでしょうか。 そして、メモリの量ではない場合は？ そして、これがサーバーや平均的なPCでさえなく、一般的なSoCルーターであり、最速の「ストーン」からは遠く、どこに32 MBのRAMがあり、それでも他のプロセスやシステムと共有する必要がある場合 この場合、検索エンジンは起動しますか？ 機能しますか？ それは正当化されますか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     はい、離陸します。 はい、動作します。 はい、それは正当化されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">背景</b> <div class="spoiler_text"> 私は1つの小さなトレーニングライブラリで働いています。 いいえ、これは.dllまたは.soファイルではありませんが、最も一般的なのは棚とたくさんの本、約3万の部屋です。 図書館は20年前でもありません。 かつては数ラックから始まり、数十冊の本しかなく、それらはすべてよく知られていました。 それから図書館は発展し始め、本はますます多くなりました。 古い部屋には彼らのための場所がなく、移動が行われました。 当時、私がそこで働き始めたとき、基金には約15,000冊の本（より公式には「ストレージユニット」）があり、すべての棚のすべての棚の全長は1キロに近づいていました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     しかし...いや、それは図書館ではありませんでした。 巨大なダンプでした！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     あいまいな標識に関する本は、異なる棚に配置されました。  「公式の」ライブラリ管理システムは使用されず、すべてが「ひざまずき」に行われました。 私はこのダンプと「データベース」を継承しました。MSAccessファイルでは、すべてがすべて誇らしげに誇らしげに表されています（同じ成功で、Excelテーブルまたは単語のリストの形で存在することもできます-データベース」は、正規化やテーブル内のテーブル間の関係などの機能であり、少なくともそうではありませんでした）。 本を取り、読者は彼の姓と本の名前を裏打ち形式で書かなければなりませんでした。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      「ベース」内の書籍の検索は、テーブルを開いてCtrl + Fを押すことで実行されました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      「ダンプ」での実際の本の検索...ああ、それが主な仕事でした。 直接検索、cho ...数か月の作業の後、特定の本をどこで探すべきか既に考えていましたが、これはプロセスを少しだけ加速しました。 結局、この無意味なレッスンは私を悩ませ、私は「すべて」のリメイクを始めました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     約1年後（ほとんどの場合、書籍の在庫に直接行きました）、すべての「ストレージユニット」に番号が付けられ、バーコードが装備され、特定の棚に結び付けられた、きちんとした基盤を得ました。 書籍の発行は、データベース内の書籍を検索して、どの棚にあったかを確認し、書籍番号（バーコードからスキャナーで）を読者の仮想カードに入力するだけになりました。 送信は再びバーコードのスキャンであり、その後、書籍はリーダーのカードから自動的に削除され、データベースは親切に特定の棚に置くことを申し出ます。 丸1日かかっていたレッスンに数分かかるようになりました。 やった！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     次は？ データベースを正規化しますか？ はい、できました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ああ！ さて、MS Accessから「もっと無料の」ソフトウェアにドラッグしてください。  OK、完了、mysqlにドラッグアンドドロップします。 元のデータベースは影響を受けませんでした-ODBCドライバーをインストールし、内部テーブルを現在の外部テーブルに置き換えただけです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     読者が本を見つけるのを止めるものは何もありません！  （これまでは誰も干渉していませんでした-しかし、これは.mdbデータベースのコピーを作成し、そこから機密データをリストや配布されたもののように削除し、それをアーカイブの形でそれを望んでいる人に配布することによって行われました。 ...）。 最もシンプルな検索フォームを備えた控えめなphpアプリケーションがデータベースに割り当てられました。今では、書籍を検索する必要さえありません:)。 読者は自分でそれらを見つけ、見つかった棚からそれを取り出して、コードをスキャンして手に入れるためだけに私に持って行きます。 作業ロボット、幸せな男！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     費用はいくらですか？ それでは、ベース、フォーム、検索-完全なLAMPSスタック（= LAMP + S [phinx]）、すべてが外部IPを備えたホームデスクトップ上で回転しています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     信頼できない！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さて、手放します。 結局のところ、これは国の半分のリアルタイム取引サービスの銀行サイトではありません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     しかし、いまいましい、24時間年中無休のコンピューターは電気も消費します。 そして、それはノイズを作ります...そして、あなたがそれについて考えるならば、それから図書館サイトのほかに、それを絶えずそれを保ち続ける他の理由があります 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ルーターを使用するとどうなりますか？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     古いルーター（DI-624）の定期的なハングに完全に飽き飽きして、WRT-160NLに変更したときがきました。 私はインターネットを感じ、新機能の説明を検索しました...そして翌日、ストックファームウェアをdd-wrtに置き換えました。 外付けのhddであるshamanilを拾い上げ、控えめなNASファイルのウォッシュを行いました。 彼はインターネット上で大騒ぎし、オプトウェアについて読み、それを試してみました-そして、同じ外部hddで、ルーター自体のために追加のソフトウェアがすでに巻き上げられていました。 送信-お願い;  lighttpd-簡単！  php？ 問題ありません！ うーん...図書館サイトは離陸しますか？ はい、離陸しました。 そして、もし彼のmysqlベースをルーターに直接入れたら？ わあ、わかった！ 確かに、mysqlビルドはかなり複雑です。 テーブルからのみMyISAM-しかし、それでも動作します！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> 検索はどうですか？ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さて、これは出てきています-ルーター自体は現在トレントをダウンロードしています。 ファイルクリーニングとそれが提供するサイトさえも...足りない唯一のものはスフィンクス検索です。 デスクトップ上でまだ回転しています。 そして、彼がルーターに乗ったらどうなりますか？.. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     はい それが判明したように-それが開始しようとしている、それは動作します。 うまくいきます！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     後にルーターをAsus RT-N16に変更し、現在はNetGear WNDR-4300に変更しました。 ファームウェアをdd-wrtからopenwrtに変更しました。 しかし、スフィンクスはまだ生き続けています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> ルーター用にソフトウェアを組み立てる方法は？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     もちろん、コンソールとスクリプトを収集する機能があれば、さまざまな方法でプログラムを作成できます。 それらのいくつかは非常に頑固です。  ./configure &amp;&amp; make &amp;&amp; make installを使用して、debまたはrpmベースのディストリビューションのソースからプログラムをインストールする方法について説明します。アセンブルして、起動することもできます。 したがって、より文明化された方法が使用されます。 ルーター用の2つのビルド/公開システムを扱っていました。 それらについて説明します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> オプトウェア </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     サードパーティのファームウェア用の代替ソフトウェアの知識は、それから始まりました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     要するに、 <i>optware</i>は/ optブランチに完全に集中しているソフトウェアです。 したがって、名前。 たとえば、optwareにインストールされたデーモンは/ opt / usr / sbinのどこかにあり、共有ライブラリは/ opt / usr / libにドロップされ、構成は/ opt / etcで待機し、起動スクリプトは/ opt / etcにスローされます。 /init.d。 ターゲットシステムに4 MBのフラッシュメモリしかない場合、誰もがファームウェアで詰まっている-それは問題ではありません！ 別の場所から他の方法でマウント/オプトする必要があります-そして私たちはチョコレートの中にいます！ オプトウェアをインストールして作業できます！ この他の場所は、たとえば、外部フラッシュドライブ（既存のusbポートに挿入）です。 または、プログラムで制御できる状態（たとえば、電源、アクティビティ、出力用のステータスLED、入力用のwpsおよびリセットボタンなど）がルーター内のすべての接点に「膝上」ではんだ付けされたSDカードです。別のMK-指定された連絡先を必要な順序で「点滅」させ、SPIバスの動作を示し、「ボタンを押す」を読み取ります。SDカードはこれを理解しているため、その内容に文字通り「 <a href="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/">LEDとボタンを通じて</a> 」アクセスできます。 さて、またはSMBプロトコルを使用してWindowsを実行しているルーターにマウントされた外部ネットワークFSでさえもです。 確かに、この場合、サービスを完全にサービスできる小さなスタンドアロンコンピューターとしてのルーターの意味はなくなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Optwareはかつて無料のopenwrtファームウェアの開発の一部でしたが、後に独立したプロジェクトに分割されました。これは、Optwareが構築するパッケージが完全に独立しており、自給自足しているためです。 作業に必要な標準ライブラリ（uclibcの形式のlibc）もアセンブルされ、optwareに配置されます。 これにより、特定のデバイスのファームウェアの機能をほとんど心配することなく、多くのアプリケーションを実行できます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     このアプローチの欠点は、 <i>すべてが機能すると</i>は<i>限らないこと</i>です。 たとえば、この方法でカーネルモジュールをビルドして接続することはできません。 また、独自の標準ライブラリにバインドすることは、既存の標準ファームウェアライブラリとともにメモリにロードすることを意味します。これは、ルーターのRAMの要件が増えないことを意味します。 最後に、特定の鉄についてはシャープ化されていないアセンブリを取得しますが、「ユニバーサルアベレージルーター」のパッケージはi386のプログラムのようなものです（クールコアi7で同時に実行します）。特定のプロセッサ/プラットフォームの多くの機能は無視され、レガシーにロールバックされます。 それでも、optwareは完全に機能するソリューションです。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Optwareは通常、Linuxベースのホスト上のクロスコンパイラーによって構築されます（たとえば、ubuntu 12.04でコンパイルします）。 プロジェクトの<a href="http://svn.nslu2-linux.org/svnroot/optware/trunk/">svnリポジトリ</a>を確認すると、ソースとREADMEファイルの両方をすぐに詳細な指示とともに受け取ります（興味のある人は誰でもどうぞ）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Openwrt </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     これは完全に独立したファームウェアであり、元の在庫を完全に置き換えます。  ddwrt + optwareでは不十分であることが明らかになったとき、OpenWrtに連絡する必要がありました。  「スマートホーム」に関するKhabrovの記事を読んで、さまざまなホームエレクトリックを徐々に自動化することにしました。 私はz-waveを選び、「ホイッスル」を購入し、z-wave.meクラウドに参加しました。 ただし、ホームオートメーションをクラウドに接続するためにデスクトップをオンにしておくのは無駄です。 さらに、私のルーターには1つではなく、2つのUSBポート全体がありました。 しかし... ...は鳴りませんでした。 必要なカーネルモジュール（cp21xx）がファームウェアにありませんでした。 この種のソフトウェアをオプトウェアで構築することはできませんでした。  dd-wrtファームウェア全体を再構築することも完全に重要なタスクです（ひどいシステムです！ツールチェーンを設定し、すべての依存関係を満たし、ビルドを成功させるのに私の忍耐は十分ではありませんでした！）。 私のルーター（rt-n16）のOpenwrtは最初はサポートされていませんでしたが、その時点で、動作するファームウェアを作成できるパッチが既にありました。 だから私はdd-wrtに別れを告げ、「さらに無料の」ファームウェアを支持しました。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      openwrtの良いところは何ですか？ はい、 <i>すべてが</i>構成されているという事実によって。 オプトウェアの不利な点を見て、頭から追い出します。 重複するライブラリはありません（既存のファームウェアのソフトウェアを直接収集します）。 カーネルモジュールに問題はありません（通常の本格的なlinux。エキゾチックな「ホイッスル」が必要ですか？3Gモデムを取り付けてインターネットを利用したいですか？それは簡単です！）。 このソフトウェアは、既存のプラットフォーム向けに最適化できます（また、コンパイラーは、アセンブルするときに、ルーターのチップで特に使用可能な機能を使用し、レガシーにロールバックしません）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最後に、openwrtは実際にはオプトウェアと矛盾しないと言っておく価値があります。 より柔軟で快適です。 ただし、/ optパーティションが以前のファームウェアから保存されている場合、そこで使用可能なソフトウェアは新しいopenwrtで正常に起動する可能性が高いでしょう。 何も組み立て直しません！  （確かに、分離オプトウェアのすべての欠点は残ります）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Embedded Sphinx-あなたはそれから何が必要ですか？ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     スフィンクスのスケーラビリティは印象的です！ プロジェクトの「powered by」ページで成果を検討および評価するだけで十分です。 数十億のドキュメントのインデックス。  1日に5億件のリクエストを処理することは、かなり有効な数字です。 しかし、これはすべて、高速プロセッサと大量のRAMを備えた深刻なマシンまたはクラスターでさえも高負荷です。 他の方向のスケーラビリティについてはどうですか？ メモリ不足、プロセッサとディスクがあいまいですか？ それはそれほど悪くないことが判明しました。 非x86ネイティブプラットフォームでは、sphinxはRaspberry Pi上で非常に普通にビルド（および内部テストに合格）します。 ただし、詳細を考慮すると、 <i>他の</i>アーキテクチャに加えて、「Malinka」の他のすべてが非常に優れています。 最大256-512MBのRAM！ そして、スフィンクスにはこれが必要です！ 実際、彼の「成功の秘 "」のほとんどは、利用可能な鉄の使用を最大限にすることです。 彼は「640Kbですべての人に十分」という哲学に向けられているわけではありませんが、まったく逆です。 可能な限り「ファッショナブルな」構成に従って、その機能を最大限に活用するよう努めています。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     メモリは安くなりましたか？ インデックス全体を拒否して押し込みます！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     印象的なアクセス時間を備えた新しい派手なSSDは、本番環境でファッショナブルになりましたか？ さて、プレイしてみて、おそらく内部の戦略とフォーマットをもう一度シェイクしてください。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     さらに、これは「新しい明るいパーセントがあるため、これら3つのギグラインをBASICで記述されたスクリプトのバブルでソートする余裕がある」というタイプの浪費ではありませんが、まったく逆です。 経験豊富な（ex）gamedev開発者によって実装され、ベンチマークによって検証された合理的な最適化。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そして、あるケーブルから別のケーブルにバイトを転送する方法しかわからない、前代の「アンダーコンピューター」と干渉する場所はどこにあるのでしょうか？ まあ、実際には、なぜですか？ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     もちろん、クロスコンパイルが暗示されています（一部は、ネイティブツールチェーンをルーター上で直接ビルドして実行できます-しかし、私はこのアプローチの準備ができていません）。 クロスコンパイルはオートツールの多くの内部テスト（スフィンクスはそれらによって構成されます）がサイドラインに残ることを意味するため、鉄片に搭載されているものをツールチェーンに何らかの形で伝える必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     そのため、スフィンクスを小さな鉄片で動かすには、まずターゲットプラットフォームの「ミニチュア」に関連するいくつかのポイントを考慮する必要があります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> メモリ要件を最適化する </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      RAMに対するスフィンクスの速度（または「スケール比」）を満たす方法は？ ここではすべてが非常に簡単です。  Sphinxは「そのような」リソースを消費しません。 彼の「大食い」は、インデックスのタスクとボリュームに直接依存します。 ほとんどの場合、記憶の中の場所を占めるのは彼です。 したがって、インデックスが小さいほど、必要なメモリが少なくなります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     辞書（.spiファイル）および属性blob（.spa、.sps、.spmファイル）がRAMにロードされます。 これらのファイルのサイズを見積もると、将来の「大食い」のかなり正確な予測を行うことができます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     完全にタイトな場合は、属性を削除して、ディスク上の辞書オプションを有効にすることができます。 そうすると、すべてが遅くて悲しくなりますが、完全にディスク上にあります。 ただし、何も無効にすることはできず、スワップパーティションを接続するだけです。 それはメモリに収まります-「飛びます」。 収まらない場合は、自動的にスワップに入り、「ゆっくりと悲しいことに動作します！」というオプションが表示されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> インデックスタイプ？ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     私はいつものものを取りました。 キーワードディクショナリを使用します（crcのみが既に古くなっています）。 データ自体をリアルタイムで変更する必要がないという理由だけで、RTは必要ありません。 定期的にインデックスを再作成するだけで十分です（はい、必要に応じてrtが急上昇します）。 これは、searchdデーモンだけでは不十分であり、インデクサーも必要であることを意味します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> データソースへのリンク？ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     他に何？ 適切なデータソース（この場合はmysql）のサポートが必要です。 最近まで、このサポートでは、スフィンクス自体のアーキテクチャに関連する特定の「レーキ」がありました。つまり、「メガバイト」のlibsphinxと、ダイレクトインデクサー、searchdなどのツールを実装する小さなソースで構成されています。 同時に、インデックスを操作するためのほとんどすべての機能（データソースからの作成を含む）はlibsphinxにあります。 ソースサポートの「レーキ」は、mysqlサポートでスフィンクスを収集した後、共通のメガリバを介したすべてのスフィンクスバイナリがlibmysqlclientに依存することです。 深刻なマシンではこれは問題ではありませんが、ルーターでは「そのように」リンクされているライブラリに依存していますが、作業には絶対に必要ありません。無駄です。  2つのオプションがあります。2つのアセンブリを作成します。  1つはmysqlをサポートし、2つ目はまったくインデックスを作成しません。 最初からインデクサー、2番目から-その他すべて。  2番目のオプションは最近登場しました-必要なすべての外部ライブラリを明示的に（dlopen経由で）ロードするだけです。 この場合、不要な依存関係を忘れることができます。インデクサーは必要なときにライブラリをロードします。  searchdは彼女にまったく触れません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> 悪魔を始めるには？ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     古典的な方法は、スフィンクス自体に実装されています。 これはダブルフォークです-最初にアクティブターミナルからフックを解除し、次に新しい作業セッションを作成します-そして今はバックグラウンドで動作し、コンソールはなく、ターミナルでCtrl + Cを押しても応答しません。  pidファイルにpidを書き込みます-これで、本格的な悪魔になりました。 すべては大丈夫のようですが、すべての悪魔はこれをシステムに実装する必要があります。 オープンソースシステムでコードを複製する理由 賢い人は考えて、考えて、やって来ました-デーモンになるために「実験」プロセスを必要とせず、単にバックグラウンドでそれを維持し、pidファイルを共通の場所に格納し、同時にデーモンを再起動する「番犬」を実装します突然の落下の結果。 ちなみに、このために一時的には、スタートアップを通じてスフィンクスを起動する際に問題が発生しました-2つのあまりにもスマートなプログラムはまだ同意できませんでした。 その結果、upstartの下からの正しいオプションは、オプション '--nodetach'で実行し、実行中のプロセス（およびそのフォークではない）を監視することです。 同時に、スフィンクスは自分自身を悪魔とは見なさず、すべてのバックグラウンド管理は新興企業に委ねられます）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ただし、組み込みの場合、optware、openwrtが従来のrc.dスクリプトを使用する限り、upstartに問題はありません。 つまり、特別なフラグは必要ありません。 スフィンクスは彼自身の人生を支配します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> ログを保存する場所は？ </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最初に、スフィンクスは、すべてのリクエストの個別のログと同様に、悪魔の共通のログ（fell-got-rotated）を保持します。 ルーターのフラッシュメモリに何かを書き込むことは、サイズを制御しなくても自殺のようになることは明らかです。 したがって、構成ファイルで「syslog」をログとして指定し、アセンブリの構成時に--with-syslogを追加することも忘れないでください（ただし、既定で既に有効になっています）。 その結果、すべての出力がシステムログに書き込まれます。これにより、ルーター自体のシステムレベルで既に操作が行われます。 そして、ファームウェアの機能に応じて、いくつかのオプションがあります。 一部の（非常に小さなフラッシュを備えた古いDIR-300など）では、ログをまったく保持しない方が簡単です。 その他の場合、ピースはメモリ内のリングバッファに直接格納され、logreadコマンドを使用してコンソールから読み取ることができます。  3つ目は、udpを介してLAN内のサーバーにリダイレクトされます。 しかし、いずれにせよ-これはもはやスフィンクスの問題ではありません！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4> 構成可能および収集！ </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ルーター上のデーモンの動作に関するすべての質問は解決されたようです。 今が構築の時です！ 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> チートオートツール </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Sphinxはautotoolsを使用して構成されます。  ./configure-アセンブリの前に実行されるスクリプトは、アセンブリシステムを正直にアイロン掛けし、使用しているコンパイラ、サポートされている機能、アーキテクチャ、バイトオーダー（LSBまたはMSB）を見つけます。 問題は、これらのテストのほとんどすべてがターゲットルーターではなく、ツールチェーンを実行するシステムに影響することです。 したがって、1つの方法しかありません。構成の「正解」を促す方法です。 これは環境変数を使用して行われます。 たとえば、。/ configureがqsort関数の可用性をチェックする場合、。/ configureを実行する前にac_cv_func_qsort変数を定義することにより、必要な「ヒント」を与えることができます。 たとえば、アセンブルする前に<code>export ac_cv_func_qsort=no</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
    実行すると、qsort関数がないと想定されます。 したがって、この方法で構成されたパッケージは、独自の実装を使用するか、アセンブリ中に破損することさえあります（ハハ！）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     埋め込みスフィンクスの「明示的なヒント」を作成するために必要なものはほとんどありません。 ここにあります... 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>sphinx_cv_unaligned_ram_access</b> （yes / no）-名前はそれ自身を<b>表し</b>ています。 要するに、スフィンクスインデックスの内部形式は圧縮され、1バイトで整列されます。 そのようなファイル（メモリにロードされた）からDWORDを突然取得する必要があり、それが奇数アドレスにある場合-一部のアーキテクチャ（たとえば、sparc）では、これはクラッシュにつながります！ ターゲットプラットフォームのデータシートを読むことで状況を認識できます。 または「科学的な突っ込み」の方法-可能なすべての（2つまで！）オプションを収集し、ターゲットシステムで実行しようとします。  （技術的な詳細：アライメントされていないアクセスが不可能な場合、希望するポインターからDWORDを取得する代わりに、memcpy呼び出しを使用して任意のアドレスから希望する4バイトをコピーします）。 実際には-私のミップ（el）で整列していない作品。 </li><li>  <b>sphinx_cv_interlocked</b> （yes / no）-「レガシーi386」でのアセンブリコストのみ。 たとえば、dd-wrtのoptwareでは、「no」を設定する必要があります。そうしないと、アセンブリが失敗します。 より調整されたopenwrtアセンブリでは、同じフラグをチェックしないままにすることができます。 デフォルトの「yes」は完全に機能するバージョンを提供します。  （技術的な詳細：内部のフラグに応じて、アトミックロックフリー操作__sync_fetch_and_addが使用されるか、変数+ミューテックスからの構造体が同じ作業を行いますが、既にロックされています） </li><li>  <b>ac_cv_c_bigendian</b> （yes / no）は最も面白い変数です。 インデックスを「外部に」どこにも公開しない場合-この変数は無視できます。 悪魔がブロブを内部にどのように格納するか-関係ありません 主なことは、リクエストに正しく応答することです。 また、ネットワークを介した通信は、予想どおり、hton / ntoh呼び出しなどが提供されているため、エンディアンの影響を受けません。 ただし、たとえば、デスクトップにインデックスを作成し、「Schaub working」ルーターにドロップしようとすると、すぐに違いが現れます。 つまり、別のエンディアンでインデックスをロードすることは現在不可能です。 原則として、問題を修正することはできますが、あまり意味はありません（プラットフォーム間でインデックスをロードする「大勢のユーザー」がいない限り）。 インデックスの違いは、表示用に.sphファイルを開くことで簡単に確認できます（ダンプで直接、mcのF3）。 リトルエンディアンプラットフォームで作成されたインデックスのタイトルには、マジックシグネチャ「SPHX」が表示されます。 ビッグエンディアン-「XHPS」。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ターゲットの正しい値を見つける方法はいくつかあります。 第一に、すでに言及した「科学的タイク」。 実行時チェックはスフィンクスに組み込まれており、実際の機能がコンパイル時に指定された機能と一致しない場合、正しい値を丁寧に呪い、伝えます。 次に、fileコマンドを使用して、組み立てられたbinarの特性を確認できます（暗黙的に-ubuntuのmcのファイルでF3を押す）。 そこで「ELF 32ビットMSB実行可能ファイル」を見たことで、ビッグエンディアンを扱っていることがわかりました。 また、「ELF 32ビットLSB実行可能ファイル」はリトルエンディアンについて説明しています。 この場合、ラッキーです-デスクトップでインデックスを作成できます:)。 最後に、3番目の最も簡単な方法は、コンパイラの名前を調べることです。  「mips」はビッグエンディアン、「mipsel」はリトルエンディアンです。  aot lemmatizer（stemmer = lemmatize_aot_ru、lemmatize_aot_en、lemmatize_aot_deまたはすべて一緒に構成に含まれる）を使用する場合は、正しいエンディアネスが重要です。  Aot辞書Blobは、リトルエンディアンを備えた「通常の」PC上で作成されるため、「敵」アーキテクチャ上で変換する必要があります（起動時にオンザフライで行われますが、このエンディアネスは設定中に正しく設定する必要があります）。 </li><li>  <b>ac_cv_func_realloc_0_nonnull</b> = yes </li><li>  <b>ac_cv_func_malloc_0_nonnull</b> = <b>yes-完全を期す</b>ために言及します。  「Bzik」オートツールはスフィンクスでは使用されません。 しかし、それらがなければ、アセンブリはエラーを生成し、直接グーグルがそのような「プラグ」ソリューションにつながります。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     はい、ところで-前述の変数（命名スタイル、「正しい答え」を促す方法）は、ご存じのとおり、スフィンクスの純粋な機能ではなく、オートツールのプロパティです。  autotoolsを使用して記述された他のソフトウェアを設定するときに、答えを「プロンプト」することができるのとまったく同じ方法です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5> オプトウェアのスフィンクス </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ターゲットプラットフォーム（私はddwrt用にビルドした）のフォルダーで、makeフォルダーに移動し、template.mkをsphinxsearch.mkにコピーします。 次に、ファイル自体の指示に従って、結果のコピーを編集します。 実際、これは、ソフトウェアをオプトウェアに追加するために必要な（そしてしばしば十分な）唯一のスクリプトです。 メインアセンブリを構成するこのスクリプトの重要な部分を次に示します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs javascript">(SPHINXSEARCH_BUILD_DIR)/.configured: sphinxsearch-source make/sphinxsearch.mk $(MAKE) libstdc++-stage $(MAKE) expat-stage $(MAKE) mysql5-stage rm -rf $(BUILD_DIR)/$(SPHINXSEARCH_DIR) $(@D) $(SPHINXSEARCH_UNZIP) $(DL_DIR)/$(SPHINXSEARCH_SOURCE) | tar -C $(BUILD_DIR) -xvf - $(LIBSTEMMER_UNZIP) $(DL_DIR)/$(LIBSTEMMER_SOURCE) | tar -C $(BUILD_DIR)/$(SPHINXSEARCH_DIR) -xvf - <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> test -n <span class="hljs-string"><span class="hljs-string">"$(SPHINXSEARCH_PATCHES)"</span></span> ; \ then cat $(SPHINXSEARCH_PATCHES) | \ patch -d $(BUILD_DIR)/$(SPHINXSEARCH_DIR) -p0 ; \ fi <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> test <span class="hljs-string"><span class="hljs-string">"$(BUILD_DIR)/$(SPHINXSEARCH_DIR)"</span></span> != <span class="hljs-string"><span class="hljs-string">"$(@D)"</span></span> ; \ then mv $(BUILD_DIR)/$(SPHINXSEARCH_DIR) $(@D) ; \ fi (cd $(@D); \ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> ac_cv_func_realloc_0_nonnull=yes; \ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> ac_cv_func_malloc_0_nonnull=yes; \ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> sphinx_cv_unaligned_ram_access=yes; \ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> ac_cv_c_bigendian=no; \ <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> sphinx_cv_interlocked=no; \ $(TARGET_CONFIGURE_OPTS) \ CPPFLAGS=<span class="hljs-string"><span class="hljs-string">"$(STAGING_CPPFLAGS) $(SPHINXSEARCH_CPPFLAGS)"</span></span> \ LDFLAGS=<span class="hljs-string"><span class="hljs-string">"$(STAGING_LDFLAGS) $(SPHINXSEARCH_LDFLAGS)"</span></span> \ ./configure \ --build=$(GNU_HOST_NAME) \ --host=$(GNU_TARGET_NAME) \ --target=$(GNU_TARGET_NAME) \ --prefix=<span class="hljs-regexp"><span class="hljs-regexp">/opt \ --sysconfdir=/</span></span>opt/etc/sphinxsearch \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-libstemmer \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-mysql=$(STAGING_PREFIX) \ --without-unixodbc \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-syslog \ --enable-dl \ ) touch $@</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     アセンブリの残りの部分は簡単です（メイク、ストリップ、パッケージング）。 スフィンクスのソースに加えて、libstemmerのソースも必要です（アセンブリ中にサイトから直接プルされます）。 また、コンパイルされたexpatとmysqlが必要です（依存している限り、これらは依存関係としてビルドされます）。 メインのメイクファイル（./makeにあります）に加えて、フォルダー./sources/sphinxsearchもoptwareソースのフォルダー構造で使用されます。 これには、デーモン用のinitスクリプトが含まれています。これはパッケージにパッケージ化され、インストール中は/opt/etc/init.dに格納されます。 アセンブリはルートフォルダーから実行され、特定のサフィックスがパッケージ名に追加されます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  <b>make sphinxsearch-</b>クロスツールチェーンでスフィンクスを収集します。 デバッグに役立ちます。 </li><li>  <b>make sphinxsearch-ipk</b> -sphinxを収集してから.ipkパッケージを作成します </li><li>  <b>make sphinxsearch-clean-</b>ガベージを削除します（アセンブリ後）。 </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     接尾辞-ipkを使用したアセンブリの結果、「すぐに使用できる」パッケージsphinxsearch.ipkが取得されます。これは、ipkgを使用してoptwareにインストールします。 その後、すべてが通常通りです-設定を作成し、インデックスを作成します（dd-wrtがデフォルトのLSBである限り、デスクトップでインデックスを作成できます）-そして離陸します。 出来上がり！ 必要に応じて、mysqlへの依存関係を削除できます（完全な構成のSPHINXSEARCH_DEPENDSディレクティブを参照）-デーモン自体を起動するためにこのライブラリが必要でない限り（そして、側でインデックスを作成する場合、ルーターではまったく必要ありません）。 上記のスクリプトのac_cv_ ...およびsphinx_cv_ ...変数をわずかに修正する必要がある場合があります。これらはdd-wrtのオプトウェアビルドに基づいています（これはミプセルアーキテクチャ、つまりリトルエンディアンであり、同時にチップ機能のセットはレガシーに縮小されます） 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Openwrtのスフィンクス </h5>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ターゲットopenwrtがmips上にある場合、optwrwareはddwrtから起動できません（mipselがあります）。  mipselでもある場合は、optwareからsphinxを実行できますが、この場合、openwrtの完全なオープン性を使用して、ターゲットシステム専用のアセンブリを作成する方がはるかに正当化されます。これにより、従来の制限がなくなり、より最適なコードが取得されます。標準ライブラリの別の「わずかに異なる」インスタンスをメモリにロードしません。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Openwrtは、ビルドにmakeスクリプトも使用します。形式と場所のみが異なります。 必要なファイルは、アセンブリ環境のルートからパッケージツリーのどこかに作成された別のフォルダーに配置されます。 たとえば、パッケージ/ネットワーク/サービス/スフィンクスを選択しました。  Makefileは、指定されたフォルダーに最低限必要です。また、定義済みの名前を持つ他のファイルおよびフォルダーが存在する場合があります。  Makefileに加えて、Config.in（メインmenuconfigでサブメニューを作成します）、およびサンプルのconfigおよびinitスクリプトが置かれているファイル/フォルダーも使用します（ところで、optwareよりもはるかに短い）。  openwrtの構成の重要な部分は次のようになります。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs javascript">CONFIGURE_VARS += \ ac_cv_func_realloc_0_nonnull=yes \ ac_cv_func_malloc_0_nunnul=yes \ ac_cv_c_bigendian=yes \ sphinx_cv_unaligned_ram_access=yes CONFIGURE_ARGS += \ --prefix=<span class="hljs-regexp"><span class="hljs-regexp">/ \ --sysconfdir=/</span></span>etc/sphinx \ $(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $(CONFIG_SPHINX_MYSQL_SUPPORT),--<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-mysql,--without-mysql) \ $(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $(CONFIG_SPHINX_PGSQL_SUPPORT),--<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-pgsql,--without-pgsql) \ $(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $(CONFIG_SPHINX_UNIXODBC_SUPPORT),--<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-unixodbc,--without-unixodbc) \ $(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $(CONFIG_SPHINX_EXPAT_SUPPORT),--<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-libexpat,--without-libexpat) \ $(<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $(CONFIG_SPHINX_DYNAMIC_LOAD),--enable-dl,,) \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-syslog \ --<span class="hljs-keyword"><span class="hljs-keyword">with</span></span>-libstemmer</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     視覚的にもオプトウェアよりも短くなっています（スクリプト全体も大幅に短くなっています-84行のみで、そのほとんどがテンプレートです）。 これには、メニューから設定される変数が含まれます。 このバージョンでは、必要に応じてac_cv_c_bigendianを修正する必要がある場合があります（MIPS、つまりビッグエンディアンであるNetGear WNDR4300ルーターを構築しました）。 このバージョンでも、アセンブリ中にlibstemmerを個別にロードしませんでした。 代わりに、事前に自分でダウンロードして、ソースとともにtarballにパックする必要があります（そして、PKG_MD5SUMを受け取ったtarballが持つものに修正します）。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      openwrtでのパッケージのビルドは2段階のプロセスです。 まず、ルートフォルダーでmenuconfigを実行し、ファームウェア全体を構成します。 そこで、ネットワーク/ Webサーバー/プロキシセクションに移動する必要があります-すでにそこにモジュール（M）としてsphinxを選択してください。 ここで、構成サブメニューに移動し、必要なデータソースをサポートするアセンブリを配置できます。 次に、menuconfigを終了し、変更を保存します。最後に、ファームウェア全体のアセンブリを開始します。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>作る</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     または1つだけのスフィンクス（当然、必要に応じて依存関係あり） 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>パッケージ化/ネットワーク/サービス/ sphinx /コンパイル</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     受信したパッケージは、フォルダー./bin/ARCH/packages（私の場合は./bin/ar71xx/packages）に追加されます。 パッケージを検索してルーターにコピーする（そしてopkgを設定する）か、ローカルWebサーバーでアセンブリフォルダーを公開し、ルーターの/etc/opkg.confにパスを書き込んでからopkg updateすることで、パッケージを直接インストールできます。  opkg install sphinx。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     ルーターでインデックスを作成するために、mysqlクライアントライブラリを個別にインストールする必要がある場合があります（必要なライブラリの動的ロードを使用する構成の場合、インストールによっては規定しませんでした）。 それでも-手動でシンボリックリンクを作成します（libがあるフォルダーでln -s libmysqlclient.so.16.0.0 libmysqlclient.soコマンドを使用）。 それ以外の場合は、すべてがそのまま使用できます。 私のアプリケーションはsphinxqlプロトコルに従ってスフィンクスを使用します（つまり、同じlibmysqlclientはsphinxがmysqlのインデックスを作成するためだけでなく、クライアントもスフィンクス自体と連携するために使用されます）クライアントアプリケーション）も非常に機能的です。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     最後に-構成とスクリプト。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     オプトウェアの場合： 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">アセンブリスクリプト</b> <div class="spoiler_text">  sphinxsearch.mkファイルに配置され、optwareプラットフォームのmakeフォルダーに配置されます 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs mel">########################################################### # # sphinxsearch # ########################################################### # You must replace <span class="hljs-string"><span class="hljs-string">"sphinxsearch"</span></span> and <span class="hljs-string"><span class="hljs-string">"SPHINXSEARCH"</span></span> with the lower <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> name and # upper <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> name of your new package. Some places below will say # <span class="hljs-string"><span class="hljs-string">"Do not change this"</span></span> - that does not include this <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> change, # which must always be done to ensure we have unique names. # # SPHINXSEARCH_VERSION, SPHINXSEARCH_SITE and SPHINXSEARCH_SOURCE define # the upstream location of the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> code <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the package. # SPHINXSEARCH_DIR is the directory which is created when the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> # archive is unpacked. # SPHINXSEARCH_UNZIP is the command used to unzip the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span>. # It is usually <span class="hljs-string"><span class="hljs-string">"zcat"</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> .gz) or <span class="hljs-string"><span class="hljs-string">"bzcat"</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">for</span></span> .bz2) # # You should change all these variables to suit your package. # Please make sure that you add a description, and that you # list all your packages<span class="hljs-string"><span class="hljs-string">' dependencies, seperated by commas. # # If you list yourself as MAINTAINER, please give a valid email # address, and indicate your irc nick if it cannot be easily deduced # from your name or email address. If you leave MAINTAINER set to # "NSLU2 Linux" other developers will feel free to edit. # http://sphinxsearch.com/files/sphinx-2.0.5-release.tar.gz #SPHINXSEARCH_SITE=http://sphinxsearch.com/files SPHINXSEARCH_SITE=http://192.168.1.5:65080/r/sphinxsearch SPHINXSEARCH_VERSION=2.2.2-4470 SPHINXSEARCH_SOURCE=sphinx-$(SPHINXSEARCH_VERSION).tar.gz SPHINXSEARCH_DIR=sphinx-$(SPHINXSEARCH_VERSION) SPHINXSEARCH_UNZIP=zcat SPHINXSEARCH_MAINTAINER=NSLU2 Linux &lt;nslu2-linux@yahoogroups.com&gt; SPHINXSEARCH_DESCRIPTION=Sphinx is free open-source SQL full-text search engine. SPHINXSEARCH_SECTION=misc SPHINXSEARCH_PRIORITY=optional SPHINXSEARCH_DEPENDS=libstdc++, expat, mysql5 SPHINXSEARCH_SUGGESTS= SPHINXSEARCH_CONFLICTS= LIBSTEMMER_SITE=http://snowball.tartarus.org/dist LIBSTEMMER_SOURCE=libstemmer_c.tgz LIBSTEMMER_UNZIP=zcat # # SPHINXSEARCH_IPK_VERSION should be incremented when the ipk changes. # SPHINXSEARCH_IPK_VERSION=2 # # SPHINXSEARCH_CONFFILES should be a list of user-editable files SPHINXSEARCH_CONFFILES=/opt/etc/sphinxsearch/sphinx.conf # # SPHINXSEARCH_PATCHES should list any patches, in the the order in # which they should be applied to the source code. # #SPHINXSEARCH_PATCHES=$(SPHINXSEARCH_SOURCE_DIR)/configure.patch SPHINXSEARCH_PATCHES= # # If the compilation of the package requires additional # compilation or linking flags, then list them here. # SPHINXSEARCH_CPPFLAGS= SPHINXSEARCH_LDFLAGS= # # SPHINXSEARCH_BUILD_DIR is the directory in which the build is done. # SPHINXSEARCH_SOURCE_DIR is the directory which holds all the # patches and ipkg control files. # SPHINXSEARCH_IPK_DIR is the directory in which the ipk is built. # SPHINXSEARCH_IPK is the name of the resulting ipk files. # # You should not change any of these variables. # SPHINXSEARCH_BUILD_DIR=$(BUILD_DIR)/sphinxsearch SPHINXSEARCH_SOURCE_DIR=$(SOURCE_DIR)/sphinxsearch SPHINXSEARCH_IPK_DIR=$(BUILD_DIR)/sphinxsearch-$(SPHINXSEARCH_VERSION)-ipk SPHINXSEARCH_IPK=$(BUILD_DIR)/sphinxsearch_$(SPHINXSEARCH_VERSION)-$(SPHINXSEARCH_IPK_VERSION)_$(TARGET_ARCH).ipk .PHONY: sphinxsearch-source sphinxsearch-unpack sphinxsearch sphinxsearch-stage sphinxsearch-ipk sphinxsearch-clean sphinxsearch-dirclean sphinxsearch-check # # This is the dependency on the source code. If the source is missing, # then it will be fetched from the site using wget. # $(DL_DIR)/$(SPHINXSEARCH_SOURCE): $(WGET) -P $(@D) $(SPHINXSEARCH_SITE)/$(@F) || \ $(WGET) -P $(@D) $(SOURCES_NLO_SITE)/$(@F) $(DL_DIR)/$(LIBSTEMMER_SOURCE): $(WGET) -P $(@D) $(LIBSTEMMER_SITE)/$(@F) || \ $(WGET) -P $(@D) $(SOURCES_NLO_SITE)/$(@F) # # The source code depends on it existing within the download directory. # This target will be called by the top level Makefile to download the # source code'</span></span>s archive (.tar.gz, .bz2, etc.) # sphinxsearch-<span class="hljs-keyword"><span class="hljs-keyword">source</span></span>: $(DL_DIR)/$(SPHINXSEARCH_SOURCE) $(DL_DIR)/$(LIBSTEMMER_SOURCE) $(SPHINXSEARCH_PATCHES) # # This target unpacks the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> code <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the build directory. # If the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> archive is not .tar.gz or .tar.bz2, then you will need # to change the commands here. Patches to the <span class="hljs-keyword"><span class="hljs-keyword">source</span></span> code are also # applied <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> this target as required. # # This target also configures the build within the build directory. # Flags such as LDFLAGS and CPPFLAGS should be passed into configure # and NOT $(MAKE) below. Passing it to configure causes configure to # correctly BUILD the Makefile with the right paths, where passing it # to Make causes it to override the <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> search paths of the compiler. # # If the compilation of the package <span class="hljs-keyword"><span class="hljs-keyword">requires</span></span> other packages to be staged # first, then <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> that first (eg <span class="hljs-string"><span class="hljs-string">"$(MAKE) &lt;bar&gt;-stage &lt;baz&gt;-stage"</span></span>). # # If the package uses GNU libtool, you should invoke $(PATCH_LIBTOOL) as # shown below to make various patches to it. # $(SPHINXSEARCH_BUILD_DIR)/.configured: sphinxsearch-<span class="hljs-keyword"><span class="hljs-keyword">source</span></span> make/sphinxsearch.mk $(MAKE) libstdc++-stage $(MAKE) expat-stage $(MAKE) mysql5-stage rm -rf $(BUILD_DIR)/$(SPHINXSEARCH_DIR) $(@D) $(SPHINXSEARCH_UNZIP) $(DL_DIR)/$(SPHINXSEARCH_SOURCE) | tar -C $(BUILD_DIR) -xvf - $(LIBSTEMMER_UNZIP) $(DL_DIR)/$(LIBSTEMMER_SOURCE) | tar -C $(BUILD_DIR)/$(SPHINXSEARCH_DIR) -xvf - <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> test -n <span class="hljs-string"><span class="hljs-string">"$(SPHINXSEARCH_PATCHES)"</span></span> ; \ then cat $(SPHINXSEARCH_PATCHES) | \ patch -d $(BUILD_DIR)/$(SPHINXSEARCH_DIR) -p0 ; \ fi <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> test <span class="hljs-string"><span class="hljs-string">"$(BUILD_DIR)/$(SPHINXSEARCH_DIR)"</span></span> != <span class="hljs-string"><span class="hljs-string">"$(@D)"</span></span> ; \ then mv $(BUILD_DIR)/$(SPHINXSEARCH_DIR) $(@D) ; \ fi (cd $(@D); \ export ac_cv_func_realloc_0_nonnull=yes; \ export ac_cv_func_malloc_0_nonnull=yes; \ export sphinx_cv_unaligned_ram_access=yes; \ export sphinx_cv_interlocked=no; \ $(TARGET_CONFIGURE_OPTS) \ CPPFLAGS=<span class="hljs-string"><span class="hljs-string">"$(STAGING_CPPFLAGS) $(SPHINXSEARCH_CPPFLAGS)"</span></span> \ LDFLAGS=<span class="hljs-string"><span class="hljs-string">"$(STAGING_LDFLAGS) $(SPHINXSEARCH_LDFLAGS)"</span></span> \ ./configure \ --build=$(GNU_HOST_NAME) \ --host=$(GNU_TARGET_NAME) \ --target=$(GNU_TARGET_NAME) \ --prefix=/opt \ --sysconfdir=/opt/etc/sphinxsearch \ --with-libstemmer \ --with-mysql=$(STAGING_PREFIX) \ --without-unixodbc \ --with-syslog \ --enable-dl \ ) # $(PATCH_LIBTOOL) $(@D)/libtool touch $@ sphinxsearch-unpack: $(SPHINXSEARCH_BUILD_DIR)/.configured # # This builds the actual binary. # $(SPHINXSEARCH_BUILD_DIR)/.built: $(SPHINXSEARCH_BUILD_DIR)/.configured rm -f $@ $(MAKE) -C $(@D) touch $@ # # This is the build convenience target. # sphinxsearch: $(SPHINXSEARCH_BUILD_DIR)/.built # # If you are building a library, then you need to stage it too. # $(SPHINXSEARCH_BUILD_DIR)/.staged: $(SPHINXSEARCH_BUILD_DIR)/.built rm -f $@ $(MAKE) -C $(@D) DESTDIR=$(STAGING_DIR) install touch $@ sphinxsearch-stage: $(SPHINXSEARCH_BUILD_DIR)/.staged # # This rule creates a <span class="hljs-keyword"><span class="hljs-keyword">control</span></span> <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ipkg. It is no longer # necessary to create a seperate <span class="hljs-keyword"><span class="hljs-keyword">control</span></span> <span class="hljs-keyword"><span class="hljs-keyword">file</span></span> under sources/sphinxsearch # $(SPHINXSEARCH_IPK_DIR)/CONTROL/<span class="hljs-keyword"><span class="hljs-keyword">control</span></span>: @install -d $(@D) @rm -f $@ @echo <span class="hljs-string"><span class="hljs-string">"Package: sphinxsearch"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Architecture: $(TARGET_ARCH)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Priority: $(SPHINXSEARCH_PRIORITY)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Section: $(SPHINXSEARCH_SECTION)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Version: $(SPHINXSEARCH_VERSION)-$(SPHINXSEARCH_IPK_VERSION)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Maintainer: $(SPHINXSEARCH_MAINTAINER)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Source: $(SPHINXSEARCH_SITE)/$(SPHINXSEARCH_SOURCE)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Description: $(SPHINXSEARCH_DESCRIPTION)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Depends: $(SPHINXSEARCH_DEPENDS)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Suggests: $(SPHINXSEARCH_SUGGESTS)"</span></span> &gt;&gt;$@ @echo <span class="hljs-string"><span class="hljs-string">"Conflicts: $(SPHINXSEARCH_CONFLICTS)"</span></span> &gt;&gt;$@ # # This builds the IPK <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>. # # Binaries should be installed into $(SPHINXSEARCH_IPK_DIR)/opt/sbin or $(SPHINXSEARCH_IPK_DIR)/opt/bin # (use the location <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> a well-known Linux distro as a guide <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> choosing sbin or bin). # Libraries and include files should be installed into $(SPHINXSEARCH_IPK_DIR)/opt/{lib,include} # Configuration files should be installed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch/... # Documentation files should be installed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(SPHINXSEARCH_IPK_DIR)/opt/doc/sphinxsearch/... # Daemon startup scripts should be installed <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $(SPHINXSEARCH_IPK_DIR)/opt/etc/init.d/S??sphinxsearch # # You may need to patch your application to make it use these locations. # $(SPHINXSEARCH_IPK): $(SPHINXSEARCH_BUILD_DIR)/.built rm -rf $(SPHINXSEARCH_IPK_DIR) $(BUILD_DIR)/sphinxsearch_*_$(TARGET_ARCH).ipk $(MAKE) -C $(SPHINXSEARCH_BUILD_DIR) DESTDIR=$(SPHINXSEARCH_IPK_DIR) install-<span class="hljs-keyword"><span class="hljs-keyword">strip</span></span> install -d $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch install -m <span class="hljs-number"><span class="hljs-number">644</span></span> $(SPHINXSEARCH_BUILD_DIR)/sphinx-<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>.conf.dist $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch/sphinx.conf install -d $(SPHINXSEARCH_IPK_DIR)/opt/doc/sphinxsearch install -m <span class="hljs-number"><span class="hljs-number">644</span></span> $(SPHINXSEARCH_BUILD_DIR)/doc/sphinx.txt $(SPHINXSEARCH_IPK_DIR)/opt/doc/sphinxsearch/sphinx.txt rm $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch/sphinx.conf.dist rm $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch/example.sql rm $(SPHINXSEARCH_IPK_DIR)/opt/etc/sphinxsearch/sphinx-<span class="hljs-keyword"><span class="hljs-keyword">min</span></span>.conf.dist install -d $(SPHINXSEARCH_IPK_DIR)/opt/etc/init.d install -m <span class="hljs-number"><span class="hljs-number">755</span></span> $(SPHINXSEARCH_SOURCE_DIR)/rc.sphinxsearch $(SPHINXSEARCH_IPK_DIR)/opt/etc/init.d/S90sphinxsearch ln -s S90sphinxsearch $(SPHINXSEARCH_IPK_DIR)/opt/etc/init.d/K70sphinxsearch # sed -i -e <span class="hljs-string"><span class="hljs-string">'/^#!/aOPTWARE_TARGET=${OPTWARE_TARGET}'</span></span> $(SPHINXSEARCH_IPK_DIR)/opt/etc/init.d/SXXsphinxsearch $(MAKE) $(SPHINXSEARCH_IPK_DIR)/CONTROL/<span class="hljs-keyword"><span class="hljs-keyword">control</span></span> # install -m <span class="hljs-number"><span class="hljs-number">755</span></span> $(SPHINXSEARCH_SOURCE_DIR)/postinst $(SPHINXSEARCH_IPK_DIR)/CONTROL/postinst # sed -i -e <span class="hljs-string"><span class="hljs-string">'/^#!/aOPTWARE_TARGET=${OPTWARE_TARGET}'</span></span> $(SPHINXSEARCH_IPK_DIR)/CONTROL/postinst # install -m <span class="hljs-number"><span class="hljs-number">755</span></span> $(SPHINXSEARCH_SOURCE_DIR)/prerm $(SPHINXSEARCH_IPK_DIR)/CONTROL/prerm # sed -i -e <span class="hljs-string"><span class="hljs-string">'/^#!/aOPTWARE_TARGET=${OPTWARE_TARGET}'</span></span> $(SPHINXSEARCH_IPK_DIR)/CONTROL/prerm # <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> test -n <span class="hljs-string"><span class="hljs-string">"$(UPD-ALT_PREFIX)"</span></span>; then \ sed -i -e <span class="hljs-string"><span class="hljs-string">'/^[ ]*update-alternatives /s|update-alternatives|$(UPD-ALT_PREFIX)/bin/&amp;|'</span></span> \ $(SPHINXSEARCH_IPK_DIR)/CONTROL/postinst $(SPHINXSEARCH_IPK_DIR)/CONTROL/prerm; \ fi echo $(SPHINXSEARCH_CONFFILES) | sed -e <span class="hljs-string"><span class="hljs-string">'s/ /\n/g'</span></span> &gt; $(SPHINXSEARCH_IPK_DIR)/CONTROL/conffiles cd $(BUILD_DIR); $(IPKG_BUILD) $(SPHINXSEARCH_IPK_DIR) $(WHAT_TO_DO_WITH_IPK_DIR) $(SPHINXSEARCH_IPK_DIR) # # This is called from the top level makefile to create the IPK <span class="hljs-keyword"><span class="hljs-keyword">file</span></span>. # sphinxsearch-ipk: $(SPHINXSEARCH_IPK) # # This is called from the top level makefile to clean all of the built files. # sphinxsearch-clean: rm -f $(SPHINXSEARCH_BUILD_DIR)/.built -$(MAKE) -C $(SPHINXSEARCH_BUILD_DIR) clean # # This is called from the top level makefile to clean all dynamically created # directories. # sphinxsearch-dirclean: rm -rf $(BUILD_DIR)/$(SPHINXSEARCH_DIR) $(SPHINXSEARCH_BUILD_DIR) $(SPHINXSEARCH_IPK_DIR) $(SPHINXSEARCH_IPK) # # # Some sanity check <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the package. # sphinxsearch-check: $(SPHINXSEARCH_IPK) perl scripts/optware-check-package.pl --target=$(OPTWARE_TARGET) $^</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">初期化スクリプト</b> <div class="spoiler_text">  rc.sphinxsearchファイルに配置され、optwareプラットフォームのsources / sphinxsearchフォルダーに配置されます（最初にフォルダーを作成する必要があります）。 アセンブリ時に、パッケージにコピーされます。 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs kotlin">#!/bin/sh NAME=sphinxsearch DAEMON=searchd # only used <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> virgin run DATA_PART=/mnt [ -d /mnt/C ] &amp;&amp; DATA_PART=/mnt/C prefix=<span class="hljs-string"><span class="hljs-string">"/opt"</span></span> export PATH=${prefix}/bin:${prefix}/sbin:/bin:/usr/bin:/sbin:/usr/sbin:${PATH} DAEMON=${prefix}/bin/${DAEMON} SCRIPT=<span class="hljs-string"><span class="hljs-string">"`basename $0`"</span></span> test -x $DAEMON || exit <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -z <span class="hljs-string"><span class="hljs-string">"$1"</span></span> ] ; then case `echo <span class="hljs-string"><span class="hljs-string">"$0"</span></span> | sed <span class="hljs-string"><span class="hljs-string">'s:^.*/\(.*\):\1:g'</span></span>` <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> S??*) rc=<span class="hljs-string"><span class="hljs-string">"start"</span></span> ;; K??*) rc=<span class="hljs-string"><span class="hljs-string">"stop"</span></span> ;; *) rc=<span class="hljs-string"><span class="hljs-string">"usage"</span></span> ;; esac <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> rc=<span class="hljs-string"><span class="hljs-string">"$1"</span></span> fi case <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$rc</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> start) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ]; then echo <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string"> is already running"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> echo <span class="hljs-string"><span class="hljs-string">"Starting SphinxSearch daemon: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string">"</span></span> export LD_LIBRARY_PATH=/opt/lib:$LD_LIBRARY_PATH pth=`pwd` $DAEMON cd <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pth</span></span></span><span class="hljs-string">"</span></span> export LD_LIBRARY_PATH=$OLD_LIBRARY_PATH fi ;; stop) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ]; then echo <span class="hljs-string"><span class="hljs-string">"Stopping SphinxSearch daemon: </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string">"</span></span> pth=`pwd` n=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> $DAEMON --stop sleep <span class="hljs-number"><span class="hljs-number">1</span></span> [ ! -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ] &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> sleep <span class="hljs-number"><span class="hljs-number">5</span></span> [ $n -gt <span class="hljs-number"><span class="hljs-number">3</span></span> ] &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> let n+=<span class="hljs-number"><span class="hljs-number">1</span></span> done n=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> killall -<span class="hljs-number"><span class="hljs-number">9</span></span> $NAME <span class="hljs-number"><span class="hljs-number">2</span></span>&gt;/dev/<span class="hljs-literal"><span class="hljs-literal">null</span></span> sleep <span class="hljs-number"><span class="hljs-number">1</span></span> [ ! -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ] &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> sleep <span class="hljs-number"><span class="hljs-number">2</span></span> [ $n -gt <span class="hljs-number"><span class="hljs-number">10</span></span> ] &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> let n+=<span class="hljs-number"><span class="hljs-number">1</span></span> done <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ]; then echo <span class="hljs-string"><span class="hljs-string">"Termination of </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string"> was not successful, it keeps running"</span></span> sleep <span class="hljs-number"><span class="hljs-number">1</span></span> fi cd <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pth</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> echo <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string"> already stopped"</span></span> fi ;; status) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [ -n <span class="hljs-string"><span class="hljs-string">"`pidof </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DAEMON</span></span></span><span class="hljs-string">`"</span></span> ]; then echo <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string"> is running"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> echo <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$NAME</span></span></span><span class="hljs-string"> is not running"</span></span> fi ;; restart) <span class="hljs-string"><span class="hljs-string">"$0"</span></span> stop <span class="hljs-string"><span class="hljs-string">"$0"</span></span> start ;; *) echo <span class="hljs-string"><span class="hljs-string">"Usage: $0 (start|stop|restart|usage)"</span></span> ;; esac exit <span class="hljs-number"><span class="hljs-number">0</span></span></code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> openwrtの場合： </font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリスクリプト</font></font></b> <div class="spoiler_text">    Makefile     package/network/services/sphinx (   ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs smalltalk">include <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">TOPDIR</span></span>)/rules.mk <span class="hljs-type"><span class="hljs-type">PKG_NAME</span></span>:=sphinx <span class="hljs-type"><span class="hljs-type">PKG_VERSION</span></span>:=<span class="hljs-number"><span class="hljs-number">2.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> <span class="hljs-type"><span class="hljs-type">PKG_REVISION</span></span>:=<span class="hljs-number"><span class="hljs-number">4470</span></span> <span class="hljs-type"><span class="hljs-type">PKG_SUFFIX</span></span>:=stemmer <span class="hljs-type"><span class="hljs-type">PKG_RELEASE</span></span>:=<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#PKG_MD5SUM</span></span>:=<span class="hljs-number"><span class="hljs-number">3119</span></span>bbeafc9e32637339c6e95a3317ef <span class="hljs-type"><span class="hljs-type">PKG_SOURCE</span></span>:=<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_NAME</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_VERSION</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_REVISION</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_SUFFIX</span></span>).tar.gz <span class="hljs-type"><span class="hljs-type">PKG_MAINTAINER</span></span>:=<span class="hljs-type"><span class="hljs-type">Aleksey</span></span> <span class="hljs-type"><span class="hljs-type">Vinogradov</span></span> &lt;klirichek@sphinxsearch.com&gt; <span class="hljs-type"><span class="hljs-type">PKG_SOURCE_URL</span></span>:=http://<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>:<span class="hljs-number"><span class="hljs-number">65080</span></span>/r/sphinxsearch <span class="hljs-type"><span class="hljs-type">PKG_BUILD_DIR</span></span>:=<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">BUILD_DIR</span></span>)/<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_NAME</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_VERSION</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_REVISION</span></span>)-<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_SUFFIX</span></span>) <span class="hljs-type"><span class="hljs-type">PKG_BUILD_PARALLEL</span></span>:=<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-type"><span class="hljs-type">PKG_DPNDS</span></span>:= +<span class="hljs-type"><span class="hljs-type">SPHINX_MYSQL_SUPPORT</span></span>:libmysqlclient +<span class="hljs-type"><span class="hljs-type">SPHINX_PGSQL_SUPPORT</span></span>:libpq +<span class="hljs-type"><span class="hljs-type">SPHINX_UNIXODBC_SUPPORT</span></span>:unixodbc +<span class="hljs-type"><span class="hljs-type">SPHINX_EXPAT_SUPPORT</span></span>:libexpat ifeq (<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_DYNAMIC_LOAD</span></span>),y) <span class="hljs-type"><span class="hljs-type">PKG_BUILD_DEPENDS</span></span>:= <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_DEPENDS</span></span>) endif include <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INCLUDE_DIR</span></span>)/package.mk define <span class="hljs-type"><span class="hljs-type">Package</span></span>/sphinx <span class="hljs-type"><span class="hljs-type">SECTION</span></span>:=net <span class="hljs-type"><span class="hljs-type">CATEGORY</span></span>:=<span class="hljs-type"><span class="hljs-type">Network</span></span> <span class="hljs-type"><span class="hljs-type">SUBMENU</span></span>:=<span class="hljs-type"><span class="hljs-type">Web</span></span> <span class="hljs-type"><span class="hljs-type">Servers</span></span>/<span class="hljs-type"><span class="hljs-type">Proxies</span></span> <span class="hljs-type"><span class="hljs-type">TITLE</span></span>:=sphinxsearch - fast <span class="hljs-type"><span class="hljs-type">FT</span></span> search engine server <span class="hljs-type"><span class="hljs-type">DEPENDS</span></span>:=+libstdcpp +librt +libpthread +zlib ifneq (<span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_DYNAMIC_LOAD</span></span>),y) <span class="hljs-type"><span class="hljs-type">DEPENDS</span></span>+= <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_DPNDS</span></span>) endif <span class="hljs-type"><span class="hljs-type">MENU</span></span>:=<span class="hljs-number"><span class="hljs-number">1</span></span> endef define <span class="hljs-type"><span class="hljs-type">Package</span></span>/sphinx/config source <span class="hljs-comment"><span class="hljs-comment">"$(SOURCE)/Config.in"</span></span> endef define <span class="hljs-type"><span class="hljs-type">Package</span></span>/sphinx/conffiles /etc/sphinx/sphinx.conf endef #    :) define <span class="hljs-type"><span class="hljs-type">Package</span></span>/sphinx/description <span class="hljs-type"><span class="hljs-type">This</span></span> is placeholder for sphinxsearch description endef <span class="hljs-type"><span class="hljs-type">CONFIGURE_VARS</span></span> += \ ac_cv_func_realloc_0_nonnull=yes \ ac_cv_func_malloc_0_nunnul=yes \ ac_cv_c_bigendian=yes \ sphinx_cv_unaligned_ram_access=yes <span class="hljs-type"><span class="hljs-type">CONFIGURE_ARGS</span></span> += \ --prefix=/ \ --sysconfdir=/etc/sphinx \ <span class="hljs-string"><span class="hljs-string">$(</span></span>if <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_MYSQL_SUPPORT</span></span>),--with-mysql,--without-mysql) \ <span class="hljs-string"><span class="hljs-string">$(</span></span>if <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_PGSQL_SUPPORT</span></span>),--with-pgsql,--without-pgsql) \ <span class="hljs-string"><span class="hljs-string">$(</span></span>if <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_UNIXODBC_SUPPORT</span></span>),--with-unixodbc,--without-unixodbc) \ <span class="hljs-string"><span class="hljs-string">$(</span></span>if <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_EXPAT_SUPPORT</span></span>),--with-libexpat,--without-libexpat) \ <span class="hljs-string"><span class="hljs-string">$(</span></span>if <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">CONFIG_SPHINX_DYNAMIC_LOAD</span></span>),--enable-dl,,) \ --with-syslog \ --with-libstemmer define <span class="hljs-type"><span class="hljs-type">Package</span></span>/sphinx/install <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_DIR</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/etc/sphinx <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_DATA</span></span>) ./files/sphinx.conf <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/etc/sphinx/sphinx.conf <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_DIR</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/etc/init.d <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_BIN</span></span>) ./files/sphinx.init <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/etc/init.d/sphinx <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_DIR</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/usr/sbin <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_BIN</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_BUILD_DIR</span></span>)/src/searchd <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/usr/sbin/ <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_BIN</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_BUILD_DIR</span></span>)/src/indexer <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/usr/sbin/ #     -   . # <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_BIN</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_BUILD_DIR</span></span>)/src/indextool <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/usr/sbin/ # <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">INSTALL_BIN</span></span>) <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-type"><span class="hljs-type">PKG_BUILD_DIR</span></span>)/src/spelldump <span class="hljs-string"><span class="hljs-string">$(</span></span><span class="hljs-number"><span class="hljs-number">1</span></span>)/usr/sbin/ endef <span class="hljs-string"><span class="hljs-string">$(</span></span>eval <span class="hljs-string"><span class="hljs-string">$(</span></span>call <span class="hljs-type"><span class="hljs-type">BuildPackage</span></span>,sphinx))</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メニュー構成</font></font></b> <div class="spoiler_text">    Config.in     Makefile   package/network/services/sphinx 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"># sphinx config menu "Configuration" <span class="hljs-keyword"><span class="hljs-keyword">depends</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> PACKAGE_sphinx config SPHINX_DYNAMIC_LOAD <span class="hljs-type"><span class="hljs-type">bool</span></span> "Load all client libs for accessing sources dynamically" <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> y help This will force the sphinx <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> necessary db libs <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> actually <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> db sources (otherwize they will be linked statically <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> will be dependencies <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> the sphinx package) config SPHINX_MYSQL_SUPPORT <span class="hljs-type"><span class="hljs-type">bool</span></span> "Enable indexing of mysql databases" <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> PACKAGE_libmysqlclient <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> n help This will build the sphinx <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> supporting <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> mysql db indexing. It will allow <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use source <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=mysql, <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">also</span></span> need libmysqlclient library <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>. config SPHINX_PGSQL_SUPPORT <span class="hljs-type"><span class="hljs-type">bool</span></span> "Enable indexing of posgresql databases" <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> PACKAGE_libpq <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> n help This will build the sphinx <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> supporting <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> posgresql db indexing. It will allow <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use source <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=pgsql, <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">also</span></span> need libpq library <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>. config SPHINX_UNIXODBC_SUPPORT <span class="hljs-type"><span class="hljs-type">bool</span></span> "Enable indexing of odbc sources" <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> PACKAGE_unixodbc <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> n help This will build the sphinx <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> supporting <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> indexing odbc sources. It will allow <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use source <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=odbc, <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">also</span></span> need unixodbc library <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>. config SPHINX_EXPAT_SUPPORT <span class="hljs-type"><span class="hljs-type">bool</span></span> "Enable indexing of xmlpipe sources" <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> PACKAGE_libexpat <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> n help This will build the sphinx <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> supporting <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> indexing xmlpipes. It will allow <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> use source <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>=xmlpipe2, <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-keyword"><span class="hljs-keyword">also</span></span> need libexpat library <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span>. endmenu</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期化スクリプト</font></font></b> <div class="spoiler_text">    sphinx.init     package/network/services/sphinx/files (   ) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs vbscript">#!/bin/sh /etc/rc.common # Copyright (C) <span class="hljs-number"><span class="hljs-number">2010</span></span><span class="hljs-number"><span class="hljs-number">-2011</span></span> OpenWrt.org START=<span class="hljs-number"><span class="hljs-number">95</span></span> <span class="hljs-keyword"><span class="hljs-keyword">STOP</span></span>=<span class="hljs-number"><span class="hljs-number">10</span></span> SERVICE_STOP_TIME=<span class="hljs-number"><span class="hljs-number">9</span></span> #PREFIX=/opt PREFIX=<span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">error</span></span>() { echo <span class="hljs-string"><span class="hljs-string">"${initscript}:"</span></span> <span class="hljs-string"><span class="hljs-string">"$@"</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>&gt;&amp;<span class="hljs-number"><span class="hljs-number">2</span></span> } start() { $PREFIX/usr/sbin/searchd } <span class="hljs-keyword"><span class="hljs-keyword">stop</span></span>() { $PREFIX/usr/sbin/searchd --<span class="hljs-keyword"><span class="hljs-keyword">stop</span></span> }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成例</font></font></b> <div class="spoiler_text">    sphinx.conf     sphinx.init   package/network/services/sphinx/files 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
         ;          . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs pgsql"># # Sphinx <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> library (clean, simple, functional) # source ltslibrary_src { <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = mysql sql_host = <span class="hljs-number"><span class="hljs-number">127.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> sql_user = #wiped sql_pass = #wiped sql_db = my_lib sql_query_pre = <span class="hljs-keyword"><span class="hljs-keyword">SET NAMES</span></span> utf8 sql_query = <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> sphinx_main_index sql_joined_field = title <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> QUERY; <span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> all_titles_sphinx_un sql_attr_timestamp = entered sql_attr_uint = pages sql_attr_float = price sql_attr_float = thickness sql_attr_uint = crcyear sql_attr_string = year } <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> ltslib { source = ltslibrary_src <span class="hljs-type"><span class="hljs-type">path</span></span> = /mnt/sphinx/<span class="hljs-keyword"><span class="hljs-keyword">index</span></span>/ltsidx preopen = <span class="hljs-number"><span class="hljs-number">1</span></span> morphology = lemmatize_ru_all, lemmatize_en_all, lemmatize_de_all, libstemmer_fr expand_keywords = <span class="hljs-number"><span class="hljs-number">1</span></span> index_exact_words = <span class="hljs-number"><span class="hljs-number">1</span></span> min_prefix_len = <span class="hljs-number"><span class="hljs-number">2</span></span> min_word_len = <span class="hljs-number"><span class="hljs-number">2</span></span> dict = keywords stopwords = /mnt/sphinx/stopwords-en.txt wordforms = /mnt/bigstore/library/sphinx/wordforms.txt } indexer { mem_limit = <span class="hljs-number"><span class="hljs-number">32</span></span>M } common { lemmatizer_base = /mnt/sphinx/aot } searchd { <span class="hljs-keyword"><span class="hljs-keyword">listen</span></span> = localhost:<span class="hljs-number"><span class="hljs-number">9306</span></span>:mysql41 <span class="hljs-keyword"><span class="hljs-keyword">log</span></span> = syslog query_log = syslog read_timeout = <span class="hljs-number"><span class="hljs-number">5</span></span> max_children = <span class="hljs-number"><span class="hljs-number">30</span></span> pid_file = /mnt/sphinx/searchd.pid max_matches = <span class="hljs-number"><span class="hljs-number">1000</span></span> seamless_rotate = <span class="hljs-number"><span class="hljs-number">1</span></span> preopen_indexes = <span class="hljs-number"><span class="hljs-number">0</span></span> unlink_old = <span class="hljs-number"><span class="hljs-number">1</span></span> workers = threads # <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> RT <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">work</span></span> binlog_path = subtree_docs_cache = <span class="hljs-number"><span class="hljs-number">1</span></span>M subtree_hits_cache = <span class="hljs-number"><span class="hljs-number">1</span></span>M }</code>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
     </pre></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さて、いくつかの既製のアセンブリ。</font><font style="vertical-align: inherit;">dd-wrt、ミプセルプラットフォーム（LSB）の</font><a href="http://yadi.sk/d/fFFFvG_8G7AyE"><font style="vertical-align: inherit;">オプト</font></a></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://yadi.sk/d/ujIJ0bVzG7B5b"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウェア</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用sphinxsearch_2.2.2-4470-2_mipsel.ipk NetGear </font><font style="vertical-align: inherit;">WNDR4300、mipsプラットフォーム（MSB）の</font></font>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <a href="http://yadi.sk/d/fFFFvG_8G7AyE"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">openwrtの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下のsphinx_2.2.2-2_ar71xx.ipk。</font></font></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../J209166/index.html">行の分散とDBMS Teradata（プライマリインデックス）へのアクセス</a></li>
<li><a href="../J20917/index.html">デジタル考古学</a></li>
<li><a href="../J209170/index.html">「初心者向けデータセンター」または効果的なデータセンタープロジェクトの評価基準</a></li>
<li><a href="../J209178/index.html">VKontakteホール、ユーザーの個人データ漏洩</a></li>
<li><a href="../J209182/index.html">データセンターの安定した水和について</a></li>
<li><a href="../J20919/index.html">Webデザイン推論</a></li>
<li><a href="../J209190/index.html">マイクロソフト、取締役会へ！ または、Office365がCanvasエディターから学習できること</a></li>
<li><a href="../J209192/index.html">ディスクI / Oを中心としたWindows VPSサーバープロバイダー市場の概要</a></li>
<li><a href="../J209194/index.html">スーパーコンピューターIBMワトソンは10億ドルの予算で企業の別の部門になります</a></li>
<li><a href="../J209196/index.html">実稼働環境でERPシステムを実装するには</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter70218013 = new Ya.Metrika({
                  id:70218013,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/70218013" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'G-FEDBM7F51Q', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Clever Geek | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <div class="company-info js-company-info" itemscope="" itemtype="http://schema.org/Organization">
      <span itemprop="name">Western Town Media (WTM)</span>
      <div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
        <span itemprop="streetAddress">1968 Stoney Lonesome Road</span>
        <br>
        <span itemprop="postalCode">PA 18640</span>
        <span itemprop="addressLocality">Pittston, USA</span>
      </div>
      <span itemprop="telephone">570-362-1316</span>
    </div>
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Organization",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Pittston, USA",
          "postalCode": "PA 18640",
          "streetAddress": "1968 Stoney Lonesome Road"
        },
        "name": "Western Town Media (WTM)",
        "telephone": "570-362-1316"
      }
    </script>
  </div>
</footer>
  
</body>

</html>